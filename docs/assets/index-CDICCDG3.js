(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Sd={exports:{}},ml={};var C_;function A1(){if(C_)return ml;C_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return ml.Fragment=t,ml.jsx=i,ml.jsxs=i,ml}var N_;function S1(){return N_||(N_=1,Sd.exports=A1()),Sd.exports}var C=S1(),wd={exports:{}},vt={};var x_;function w1(){if(x_)return vt;x_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),U=Symbol.iterator;function G(M){return M===null||typeof M!="object"?null:(M=U&&M[U]||M["@@iterator"],typeof M=="function"?M:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,Z={};function lt(M,Y,nt){this.props=M,this.context=Y,this.refs=Z,this.updater=nt||J}lt.prototype.isReactComponent={},lt.prototype.setState=function(M,Y){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Y,"setState")},lt.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function _t(){}_t.prototype=lt.prototype;function dt(M,Y,nt){this.props=M,this.context=Y,this.refs=Z,this.updater=nt||J}var Bt=dt.prototype=new _t;Bt.constructor=dt,W(Bt,lt.prototype),Bt.isPureReactComponent=!0;var Jt=Array.isArray;function Ot(){}var S={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function w(M,Y,nt){var st=nt.ref;return{$$typeof:r,type:M,key:Y,ref:st!==void 0?st:null,props:nt}}function D(M,Y){return w(M.type,Y,M.props)}function x(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function V(M){var Y={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(nt){return Y[nt]})}var I=/\/+/g;function Kt(M,Y){return typeof M=="object"&&M!==null&&M.key!=null?V(""+M.key):Y.toString(36)}function he(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Ot,Ot):(M.status="pending",M.then(function(Y){M.status==="pending"&&(M.status="fulfilled",M.value=Y)},function(Y){M.status==="pending"&&(M.status="rejected",M.reason=Y)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function F(M,Y,nt,st,pt){var At=typeof M;(At==="undefined"||At==="boolean")&&(M=null);var Vt=!1;if(M===null)Vt=!0;else switch(At){case"bigint":case"string":case"number":Vt=!0;break;case"object":switch(M.$$typeof){case r:case t:Vt=!0;break;case b:return Vt=M._init,F(Vt(M._payload),Y,nt,st,pt)}}if(Vt)return pt=pt(M),Vt=st===""?"."+Kt(M,0):st,Jt(pt)?(nt="",Vt!=null&&(nt=Vt.replace(I,"$&/")+"/"),F(pt,Y,nt,"",function(nr){return nr})):pt!=null&&(x(pt)&&(pt=D(pt,nt+(pt.key==null||M&&M.key===pt.key?"":(""+pt.key).replace(I,"$&/")+"/")+Vt)),Y.push(pt)),1;Vt=0;var xe=st===""?".":st+":";if(Jt(M))for(var re=0;re<M.length;re++)st=M[re],At=xe+Kt(st,re),Vt+=F(st,Y,nt,At,pt);else if(re=G(M),typeof re=="function")for(M=re.call(M),re=0;!(st=M.next()).done;)st=st.value,At=xe+Kt(st,re++),Vt+=F(st,Y,nt,At,pt);else if(At==="object"){if(typeof M.then=="function")return F(he(M),Y,nt,st,pt);throw Y=String(M),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Vt}function et(M,Y,nt){if(M==null)return M;var st=[],pt=0;return F(M,st,"","",function(At){return Y.call(nt,At,pt++)}),st}function ht(M){if(M._status===-1){var Y=M._result;Y=Y(),Y.then(function(nt){(M._status===0||M._status===-1)&&(M._status=1,M._result=nt)},function(nt){(M._status===0||M._status===-1)&&(M._status=2,M._result=nt)}),M._status===-1&&(M._status=0,M._result=Y)}if(M._status===1)return M._result.default;throw M._result}var kt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ht={map:et,forEach:function(M,Y,nt){et(M,function(){Y.apply(this,arguments)},nt)},count:function(M){var Y=0;return et(M,function(){Y++}),Y},toArray:function(M){return et(M,function(Y){return Y})||[]},only:function(M){if(!x(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return vt.Activity=R,vt.Children=Ht,vt.Component=lt,vt.Fragment=i,vt.Profiler=l,vt.PureComponent=dt,vt.StrictMode=a,vt.Suspense=y,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,vt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return S.H.useMemoCache(M)}},vt.cache=function(M){return function(){return M.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(M,Y,nt){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var st=W({},M.props),pt=M.key;if(Y!=null)for(At in Y.key!==void 0&&(pt=""+Y.key),Y)!A.call(Y,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&Y.ref===void 0||(st[At]=Y[At]);var At=arguments.length-2;if(At===1)st.children=nt;else if(1<At){for(var Vt=Array(At),xe=0;xe<At;xe++)Vt[xe]=arguments[xe+2];st.children=Vt}return w(M.type,pt,st)},vt.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},vt.createElement=function(M,Y,nt){var st,pt={},At=null;if(Y!=null)for(st in Y.key!==void 0&&(At=""+Y.key),Y)A.call(Y,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(pt[st]=Y[st]);var Vt=arguments.length-2;if(Vt===1)pt.children=nt;else if(1<Vt){for(var xe=Array(Vt),re=0;re<Vt;re++)xe[re]=arguments[re+2];pt.children=xe}if(M&&M.defaultProps)for(st in Vt=M.defaultProps,Vt)pt[st]===void 0&&(pt[st]=Vt[st]);return w(M,At,pt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(M){return{$$typeof:p,render:M}},vt.isValidElement=x,vt.lazy=function(M){return{$$typeof:b,_payload:{_status:-1,_result:M},_init:ht}},vt.memo=function(M,Y){return{$$typeof:v,type:M,compare:Y===void 0?null:Y}},vt.startTransition=function(M){var Y=S.T,nt={};S.T=nt;try{var st=M(),pt=S.S;pt!==null&&pt(nt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(Ot,kt)}catch(At){kt(At)}finally{Y!==null&&nt.types!==null&&(Y.types=nt.types),S.T=Y}},vt.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},vt.use=function(M){return S.H.use(M)},vt.useActionState=function(M,Y,nt){return S.H.useActionState(M,Y,nt)},vt.useCallback=function(M,Y){return S.H.useCallback(M,Y)},vt.useContext=function(M){return S.H.useContext(M)},vt.useDebugValue=function(){},vt.useDeferredValue=function(M,Y){return S.H.useDeferredValue(M,Y)},vt.useEffect=function(M,Y){return S.H.useEffect(M,Y)},vt.useEffectEvent=function(M){return S.H.useEffectEvent(M)},vt.useId=function(){return S.H.useId()},vt.useImperativeHandle=function(M,Y,nt){return S.H.useImperativeHandle(M,Y,nt)},vt.useInsertionEffect=function(M,Y){return S.H.useInsertionEffect(M,Y)},vt.useLayoutEffect=function(M,Y){return S.H.useLayoutEffect(M,Y)},vt.useMemo=function(M,Y){return S.H.useMemo(M,Y)},vt.useOptimistic=function(M,Y){return S.H.useOptimistic(M,Y)},vt.useReducer=function(M,Y,nt){return S.H.useReducer(M,Y,nt)},vt.useRef=function(M){return S.H.useRef(M)},vt.useState=function(M){return S.H.useState(M)},vt.useSyncExternalStore=function(M,Y,nt){return S.H.useSyncExternalStore(M,Y,nt)},vt.useTransition=function(){return S.H.useTransition()},vt.version="19.2.3",vt}var D_;function ym(){return D_||(D_=1,wd.exports=w1()),wd.exports}var ie=ym(),Rd={exports:{}},gl={},Id={exports:{}},Cd={};var O_;function R1(){return O_||(O_=1,(function(r){function t(F,et){var ht=F.length;F.push(et);t:for(;0<ht;){var kt=ht-1>>>1,Ht=F[kt];if(0<l(Ht,et))F[kt]=et,F[ht]=Ht,ht=kt;else break t}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var et=F[0],ht=F.pop();if(ht!==et){F[0]=ht;t:for(var kt=0,Ht=F.length,M=Ht>>>1;kt<M;){var Y=2*(kt+1)-1,nt=F[Y],st=Y+1,pt=F[st];if(0>l(nt,ht))st<Ht&&0>l(pt,nt)?(F[kt]=pt,F[st]=ht,kt=st):(F[kt]=nt,F[Y]=ht,kt=Y);else if(st<Ht&&0>l(pt,ht))F[kt]=pt,F[st]=ht,kt=st;else break t}}return et}function l(F,et){var ht=F.sortIndex-et.sortIndex;return ht!==0?ht:F.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],v=[],b=1,R=null,U=3,G=!1,J=!1,W=!1,Z=!1,lt=typeof setTimeout=="function"?setTimeout:null,_t=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function Bt(F){for(var et=i(v);et!==null;){if(et.callback===null)a(v);else if(et.startTime<=F)a(v),et.sortIndex=et.expirationTime,t(y,et);else break;et=i(v)}}function Jt(F){if(W=!1,Bt(F),!J)if(i(y)!==null)J=!0,Ot||(Ot=!0,V());else{var et=i(v);et!==null&&he(Jt,et.startTime-F)}}var Ot=!1,S=-1,A=5,w=-1;function D(){return Z?!0:!(r.unstable_now()-w<A)}function x(){if(Z=!1,Ot){var F=r.unstable_now();w=F;var et=!0;try{t:{J=!1,W&&(W=!1,_t(S),S=-1),G=!0;var ht=U;try{e:{for(Bt(F),R=i(y);R!==null&&!(R.expirationTime>F&&D());){var kt=R.callback;if(typeof kt=="function"){R.callback=null,U=R.priorityLevel;var Ht=kt(R.expirationTime<=F);if(F=r.unstable_now(),typeof Ht=="function"){R.callback=Ht,Bt(F),et=!0;break e}R===i(y)&&a(y),Bt(F)}else a(y);R=i(y)}if(R!==null)et=!0;else{var M=i(v);M!==null&&he(Jt,M.startTime-F),et=!1}}break t}finally{R=null,U=ht,G=!1}et=void 0}}finally{et?V():Ot=!1}}}var V;if(typeof dt=="function")V=function(){dt(x)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Kt=I.port2;I.port1.onmessage=x,V=function(){Kt.postMessage(null)}}else V=function(){lt(x,0)};function he(F,et){S=lt(function(){F(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return U},r.unstable_next=function(F){switch(U){case 1:case 2:case 3:var et=3;break;default:et=U}var ht=U;U=et;try{return F()}finally{U=ht}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(F,et){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ht=U;U=F;try{return et()}finally{U=ht}},r.unstable_scheduleCallback=function(F,et,ht){var kt=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?kt+ht:kt):ht=kt,F){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ht+Ht,F={id:b++,callback:et,priorityLevel:F,startTime:ht,expirationTime:Ht,sortIndex:-1},ht>kt?(F.sortIndex=ht,t(v,F),i(y)===null&&F===i(v)&&(W?(_t(S),S=-1):W=!0,he(Jt,ht-kt))):(F.sortIndex=Ht,t(y,F),J||G||(J=!0,Ot||(Ot=!0,V()))),F},r.unstable_shouldYield=D,r.unstable_wrapCallback=function(F){var et=U;return function(){var ht=U;U=et;try{return F.apply(this,arguments)}finally{U=ht}}}})(Cd)),Cd}var M_;function I1(){return M_||(M_=1,Id.exports=R1()),Id.exports}var Nd={exports:{}},Ke={};var V_;function C1(){if(V_)return Ke;V_=1;var r=ym();function t(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)v+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,v,b){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:R==null?null:""+R,children:y,containerInfo:v,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ke.createPortal=function(y,v){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return c(y,v,null,b)},Ke.flushSync=function(y){var v=d.T,b=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=v,a.p=b,a.d.f()}},Ke.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(y,v))},Ke.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Ke.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var b=v.as,R=p(b,v.crossOrigin),U=typeof v.integrity=="string"?v.integrity:void 0,G=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;b==="style"?a.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:R,integrity:U,fetchPriority:G}):b==="script"&&a.d.X(y,{crossOrigin:R,integrity:U,fetchPriority:G,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Ke.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var b=p(v.as,v.crossOrigin);a.d.M(y,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(y)},Ke.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var b=v.as,R=p(b,v.crossOrigin);a.d.L(y,b,{crossOrigin:R,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Ke.preloadModule=function(y,v){if(typeof y=="string")if(v){var b=p(v.as,v.crossOrigin);a.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(y)},Ke.requestFormReset=function(y){a.d.r(y)},Ke.unstable_batchedUpdates=function(y,v){return y(v)},Ke.useFormState=function(y,v,b){return d.H.useFormState(y,v,b)},Ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ke.version="19.2.3",Ke}var U_;function N1(){if(U_)return Nd.exports;U_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Nd.exports=C1(),Nd.exports}var k_;function x1(){if(k_)return gl;k_=1;var r=I1(),t=ym(),i=N1();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function v(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var R=Object.assign,U=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),lt=Symbol.for("react.profiler"),_t=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),Bt=Symbol.for("react.forward_ref"),Jt=Symbol.for("react.suspense"),Ot=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function V(e){return e===null||typeof e!="object"?null:(e=x&&e[x]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function Kt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case lt:return"Profiler";case Z:return"StrictMode";case Jt:return"Suspense";case Ot:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case dt:return e.displayName||"Context";case _t:return(e._context.displayName||"Context")+".Consumer";case Bt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case S:return n=e.displayName||null,n!==null?n:Kt(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return Kt(e(n))}catch{}}return null}var he=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},kt=[],Ht=-1;function M(e){return{current:e}}function Y(e){0>Ht||(e.current=kt[Ht],kt[Ht]=null,Ht--)}function nt(e,n){Ht++,kt[Ht]=e.current,e.current=n}var st=M(null),pt=M(null),At=M(null),Vt=M(null);function xe(e,n){switch(nt(At,n),nt(pt,e),nt(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Zy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Zy(n),e=Jy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(st),nt(st,e)}function re(){Y(st),Y(pt),Y(At)}function nr(e){e.memoizedState!==null&&nt(Vt,e);var n=st.current,s=Jy(n,e.type);n!==s&&(nt(pt,e),nt(st,s))}function Kr(e){pt.current===e&&(Y(st),Y(pt)),Vt.current===e&&(Y(Vt),cl._currentValue=ht)}var Yr,Xr;function Jn(e){if(Yr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Yr=n&&n[1]||"",Xr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yr+e+Xr}var uo=!1;function ir(e,n){if(!e||uo)return"";uo=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var j=q}Reflect.construct(e,[],K)}else{try{K.call()}catch(q){j=q}e.call(K.prototype)}}else{try{throw Error()}catch(q){j=q}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var N=g.split(`
`),z=E.split(`
`);for(h=o=0;o<N.length&&!N[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===N.length||h===z.length)for(o=N.length-1,h=z.length-1;1<=o&&0<=h&&N[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(N[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||N[o]!==z[h]){var H=`
`+N[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=h);break}}}finally{uo=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Jn(s):""}function co(e,n){switch(e.tag){case 26:case 27:case 5:return Jn(e.type);case 16:return Jn("Lazy");case 13:return e.child!==n&&n!==null?Jn("Suspense Fallback"):Jn("Suspense");case 19:return Jn("SuspenseList");case 0:case 15:return ir(e.type,!1);case 11:return ir(e.type.render,!1);case 1:return ir(e.type,!0);case 31:return Jn("Activity");default:return""}}function ho(e){try{var n="",s=null;do n+=co(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ye=Object.prototype.hasOwnProperty,De=r.unstable_scheduleCallback,ss=r.unstable_cancelCallback,wh=r.unstable_shouldYield,Kl=r.unstable_requestPaint,Je=r.unstable_now,sr=r.unstable_getCurrentPriorityLevel,fo=r.unstable_ImmediatePriority,mo=r.unstable_UserBlockingPriority,rs=r.unstable_NormalPriority,Rh=r.unstable_LowPriority,Yl=r.unstable_IdlePriority,Xl=r.log,$l=r.unstable_setDisableYieldValue,kn=null,Pe=null;function Tn(e){if(typeof Xl=="function"&&$l(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(kn,e)}catch{}}var fe=Math.clz32?Math.clz32:Jl,Zl=Math.log,$r=Math.LN2;function Jl(e){return e>>>=0,e===0?32:31-(Zl(e)/$r|0)|0}var Wn=256,rr=262144,_e=4194304;function ti(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ei(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ti(o):(g&=E,g!==0?h=ti(g):s||(s=E&~e,s!==0&&(h=ti(s))))):(E=o&~f,E!==0?h=ti(E):g!==0?h=ti(g):s||(s=o&~e,s!==0&&(h=ti(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Ln(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ih(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wl(){var e=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),e}function ni(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function ar(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ch(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,N=e.expirationTimes,z=e.hiddenUpdates;for(s=g&~s;0<s;){var H=31-fe(s),K=1<<H;E[H]=0,N[H]=-1;var j=z[H];if(j!==null)for(z[H]=null,H=0;H<j.length;H++){var q=j[H];q!==null&&(q.lane&=-536870913)}s&=~K}o!==0&&or(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function or(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-fe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function go(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-fe(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function po(e,n){var s=n&-n;return s=(s&42)!==0?1:lr(s),(s&(e.suspendedLanes|n))!==0?0:s}function lr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ni(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function tu(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:T_(e.type))}function Pn(e,n){var s=et.p;try{return et.p=e,n()}finally{et.p=s}}var zn=Math.random().toString(36).slice(2),ve="__reactFiber$"+zn,Ve="__reactProps$"+zn,ii="__reactContainer$"+zn,Zr="__reactEvents$"+zn,Nh="__reactListeners$"+zn,eu="__reactHandles$"+zn,nu="__reactResources$"+zn,si="__reactMarker$"+zn;function Jr(e){delete e[ve],delete e[Ve],delete e[Zr],delete e[Nh],delete e[eu]}function ri(e){var n=e[ve];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ii]||s[ve]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=r_(e);e!==null;){if(s=e[ve])return s;e=r_(e)}return n}e=s,s=e.parentNode}return null}function bn(e){if(e=e[ve]||e[ii]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function fn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function ai(e){var n=e[nu];return n||(n=e[nu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ee(e){e[si]=!0}var yo=new Set,_o={};function oi(e,n){li(e,n),li(e+"Capture",n)}function li(e,n){for(_o[e]=n,e=0;e<n.length;e++)yo.add(n[e])}var vo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Eo={},To={};function iu(e){return ye.call(To,e)?!0:ye.call(Eo,e)?!1:vo.test(e)?To[e]=!0:(Eo[e]=!0,!1)}function Wr(e,n,s){if(iu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function dn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Te(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function as(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function bo(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ft(e){if(!e._valueTracker){var n=as(e)?"checked":"value";e._valueTracker=bo(e,n,""+e[n])}}function ur(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=as(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function ui(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var cr=/[\n"\\]/g;function nn(e){return e.replace(cr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ta(e,n,s,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ue(n)):e.value!==""+Ue(n)&&(e.value=""+Ue(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Ao(e,g,Ue(n)):s!=null?Ao(e,g,Ue(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ue(E):e.removeAttribute("name")}function su(e,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ft(e);return}s=s!=null?""+Ue(s):"",n=n!=null?""+Ue(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Ft(e)}function Ao(e,n,s){n==="number"&&ui(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function os(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Ue(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function ru(e,n,s){if(n!=null&&(n=""+Ue(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Ue(s):""}function ls(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(he(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Ue(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Ft(e)}function sn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var au=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function So(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||au.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function wo(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&So(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&So(e,f,n[f])}function ea(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ou=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),us=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function na(e){return us.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function jn(){}var Ro=null;function An(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cs=null,ci=null;function hr(e){var n=bn(e);if(n&&(e=n.stateNode)){var s=e[Ve]||null;t:switch(e=n.stateNode,n.type){case"input":if(ta(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[Ve]||null;if(!h)throw Error(a(90));ta(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&ur(o)}break t;case"textarea":ru(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&os(e,!!s.multiple,n,!1)}}}var ia=!1;function hs(e,n,s){if(ia)return e(n,s);ia=!0;try{var o=e(n);return o}finally{if(ia=!1,(cs!==null||ci!==null)&&(tc(),cs&&(n=cs,e=ci,ci=cs=null,hr(n),e)))for(n=0;n<e.length;n++)hr(e[n])}}function Bn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Ve]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fr=!1;if(Sn)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){fr=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{fr=!1}var hi=null,Io=null,dr=null;function Co(){if(dr)return dr;var e,n=Io,s=n.length,o,h="value"in hi?hi.value:hi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return dr=h.slice(e,1<o?1-o:void 0)}function mr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function xi(){return!0}function qn(){return!1}function ze(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?xi:qn,this.isPropagationStopped=qn,this}return R(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=xi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=xi)},persist:function(){},isPersistent:xi}),n}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fi=ze(Di),fs=R({},Di,{view:0,detail:0}),No=ze(fs),ds,sa,di,ra=R({},fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ms,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==di&&(di&&e.type==="mousemove"?(ds=e.screenX-di.screenX,sa=e.screenY-di.screenY):sa=ds=0,di=e),ds)},movementY:function(e){return"movementY"in e?e.movementY:sa}}),xo=ze(ra),gr=R({},ra,{dataTransfer:0}),lu=ze(gr),uu=R({},fs,{relatedTarget:0}),pr=ze(uu),Do=R({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),cu=ze(Do),aa=R({},Di,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hu=ze(aa),fu=R({},Di,{data:0}),mi=ze(fu),du={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=gu[e])?!!n[e]:!1}function ms(){return pu}var We=R({},fs,{key:function(e){if(e.key){var n=du[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=mr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ms,charCode:function(e){return e.type==="keypress"?mr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yu=ze(We),_u=R({},ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oi=ze(_u),u=R({},fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ms}),m=ze(u),_=R({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ze(_),L=R({},ra,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=ze(L),tt=R({},Di,{newState:0,oldState:0}),Tt=ze(tt),de=[9,13,27,32],zt=Sn&&"CompositionEvent"in window,ae=null;Sn&&"documentMode"in document&&(ae=document.documentMode);var wn=Sn&&"TextEvent"in window&&!ae,gi=Sn&&(!zt||ae&&8<ae&&11>=ae),Hn=" ",Fn=!1;function yr(e,n){switch(e){case"keyup":return de.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var la=!1;function KT(e,n){switch(e){case"compositionend":return oa(n);case"keypress":return n.which!==32?null:(Fn=!0,Hn);case"textInput":return e=n.data,e===Hn&&Fn?null:e;default:return null}}function YT(e,n){if(la)return e==="compositionend"||!zt&&yr(e,n)?(e=Co(),dr=Io=hi=null,la=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return gi&&n.locale!=="ko"?null:n.data;default:return null}}var XT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!XT[e.type]:n==="textarea"}function ug(e,n,s,o){cs?ci?ci.push(o):ci=[o]:cs=o,n=oc(n,"onChange"),0<n.length&&(s=new fi("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Oo=null,Mo=null;function $T(e){Gy(e,0)}function vu(e){var n=fn(e);if(ur(n))return e}function cg(e,n){if(e==="change")return n}var hg=!1;if(Sn){var xh;if(Sn){var Dh="oninput"in document;if(!Dh){var fg=document.createElement("div");fg.setAttribute("oninput","return;"),Dh=typeof fg.oninput=="function"}xh=Dh}else xh=!1;hg=xh&&(!document.documentMode||9<document.documentMode)}function dg(){Oo&&(Oo.detachEvent("onpropertychange",mg),Mo=Oo=null)}function mg(e){if(e.propertyName==="value"&&vu(Mo)){var n=[];ug(n,Mo,e,An(e)),hs($T,n)}}function ZT(e,n,s){e==="focusin"?(dg(),Oo=n,Mo=s,Oo.attachEvent("onpropertychange",mg)):e==="focusout"&&dg()}function JT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vu(Mo)}function WT(e,n){if(e==="click")return vu(n)}function tb(e,n){if(e==="input"||e==="change")return vu(n)}function eb(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var mn=typeof Object.is=="function"?Object.is:eb;function Vo(e,n){if(mn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!ye.call(n,h)||!mn(e[h],n[h]))return!1}return!0}function gg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pg(e,n){var s=gg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=gg(s)}}function yg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?yg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function _g(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ui(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ui(e.document)}return n}function Oh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var nb=Sn&&"documentMode"in document&&11>=document.documentMode,ua=null,Mh=null,Uo=null,Vh=!1;function vg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Vh||ua==null||ua!==ui(o)||(o=ua,"selectionStart"in o&&Oh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Uo&&Vo(Uo,o)||(Uo=o,o=oc(Mh,"onSelect"),0<o.length&&(n=new fi("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=ua)))}function _r(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ca={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionrun:_r("Transition","TransitionRun"),transitionstart:_r("Transition","TransitionStart"),transitioncancel:_r("Transition","TransitionCancel"),transitionend:_r("Transition","TransitionEnd")},Uh={},Eg={};Sn&&(Eg=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function vr(e){if(Uh[e])return Uh[e];if(!ca[e])return e;var n=ca[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Eg)return Uh[e]=n[s];return e}var Tg=vr("animationend"),bg=vr("animationiteration"),Ag=vr("animationstart"),ib=vr("transitionrun"),sb=vr("transitionstart"),rb=vr("transitioncancel"),Sg=vr("transitionend"),wg=new Map,kh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kh.push("scrollEnd");function Gn(e,n){wg.set(e,n),oi(n,[e])}var Eu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Rn=[],ha=0,Lh=0;function Tu(){for(var e=ha,n=Lh=ha=0;n<e;){var s=Rn[n];Rn[n++]=null;var o=Rn[n];Rn[n++]=null;var h=Rn[n];Rn[n++]=null;var f=Rn[n];if(Rn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Rg(s,h,f)}}function bu(e,n,s,o){Rn[ha++]=e,Rn[ha++]=n,Rn[ha++]=s,Rn[ha++]=o,Lh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Ph(e,n,s,o){return bu(e,n,s,o),Au(e)}function Er(e,n){return bu(e,null,null,n),Au(e)}function Rg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-fe(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Au(e){if(50<il)throw il=0,Yf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var fa={};function ab(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,n,s,o){return new ab(e,n,s,o)}function zh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mi(e,n){var s=e.alternate;return s===null?(s=gn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Ig(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Su(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")zh(e)&&(g=1);else if(typeof e=="string")g=h1(e,s,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=gn(31,s,n,h),e.elementType=w,e.lanes=f,e;case W:return Tr(s.children,h,f,n);case Z:g=8,h|=24;break;case lt:return e=gn(12,s,n,h|2),e.elementType=lt,e.lanes=f,e;case Jt:return e=gn(13,s,n,h),e.elementType=Jt,e.lanes=f,e;case Ot:return e=gn(19,s,n,h),e.elementType=Ot,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dt:g=10;break t;case _t:g=9;break t;case Bt:g=11;break t;case S:g=14;break t;case A:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=gn(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Tr(e,n,s,o){return e=gn(7,e,o,n),e.lanes=s,e}function jh(e,n,s){return e=gn(6,e,null,n),e.lanes=s,e}function Cg(e){var n=gn(18,null,null,0);return n.stateNode=e,n}function Bh(e,n,s){return n=gn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Ng=new WeakMap;function In(e,n){if(typeof e=="object"&&e!==null){var s=Ng.get(e);return s!==void 0?s:(n={value:e,source:n,stack:ho(n)},Ng.set(e,n),n)}return{value:e,source:n,stack:ho(n)}}var da=[],ma=0,wu=null,ko=0,Cn=[],Nn=0,gs=null,pi=1,yi="";function Vi(e,n){da[ma++]=ko,da[ma++]=wu,wu=e,ko=n}function xg(e,n,s){Cn[Nn++]=pi,Cn[Nn++]=yi,Cn[Nn++]=gs,gs=e;var o=pi;e=yi;var h=32-fe(o)-1;o&=~(1<<h),s+=1;var f=32-fe(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,pi=1<<32-fe(n)+h|s<<h|o,yi=f+e}else pi=1<<f|s<<h|o,yi=e}function qh(e){e.return!==null&&(Vi(e,1),xg(e,1,0))}function Hh(e){for(;e===wu;)wu=da[--ma],da[ma]=null,ko=da[--ma],da[ma]=null;for(;e===gs;)gs=Cn[--Nn],Cn[Nn]=null,yi=Cn[--Nn],Cn[Nn]=null,pi=Cn[--Nn],Cn[Nn]=null}function Dg(e,n){Cn[Nn++]=pi,Cn[Nn++]=yi,Cn[Nn++]=gs,pi=n.id,yi=n.overflow,gs=e}var je=null,ee=null,Mt=!1,ps=null,xn=!1,Fh=Error(a(519));function ys(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Lo(In(n,e)),Fh}function Og(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[ve]=e,n[Ve]=o,s){case"dialog":Rt("cancel",n),Rt("close",n);break;case"iframe":case"object":case"embed":Rt("load",n);break;case"video":case"audio":for(s=0;s<rl.length;s++)Rt(rl[s],n);break;case"source":Rt("error",n);break;case"img":case"image":case"link":Rt("error",n),Rt("load",n);break;case"details":Rt("toggle",n);break;case"input":Rt("invalid",n),su(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Rt("invalid",n);break;case"textarea":Rt("invalid",n),ls(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Xy(n.textContent,s)?(o.popover!=null&&(Rt("beforetoggle",n),Rt("toggle",n)),o.onScroll!=null&&Rt("scroll",n),o.onScrollEnd!=null&&Rt("scrollend",n),o.onClick!=null&&(n.onclick=jn),n=!0):n=!1,n||ys(e,!0)}function Mg(e){for(je=e.return;je;)switch(je.tag){case 5:case 31:case 13:xn=!1;return;case 27:case 3:xn=!0;return;default:je=je.return}}function ga(e){if(e!==je)return!1;if(!Mt)return Mg(e),Mt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||ud(e.type,e.memoizedProps)),s=!s),s&&ee&&ys(e),Mg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ee=s_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ee=s_(e)}else n===27?(n=ee,Ds(e.type)?(e=md,md=null,ee=e):ee=n):ee=je?On(e.stateNode.nextSibling):null;return!0}function br(){ee=je=null,Mt=!1}function Gh(){var e=ps;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),ps=null),e}function Lo(e){ps===null?ps=[e]:ps.push(e)}var Qh=M(null),Ar=null,Ui=null;function _s(e,n,s){nt(Qh,n._currentValue),n._currentValue=s}function ki(e){e._currentValue=Qh.current,Y(Qh)}function Kh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Yh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var N=0;N<n.length;N++)if(E.context===n[N]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Kh(f.return,s,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Kh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function pa(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;mn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Vt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(cl):e=[cl])}h=h.return}e!==null&&Yh(n,e,s,o),n.flags|=262144}function Ru(e){for(e=e.firstContext;e!==null;){if(!mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Sr(e){Ar=e,Ui=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return Vg(Ar,e)}function Iu(e,n){return Ar===null&&Sr(e),Vg(e,n)}function Vg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Ui===null){if(e===null)throw Error(a(308));Ui=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ui=Ui.next=n;return s}var ob=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},lb=r.unstable_scheduleCallback,ub=r.unstable_NormalPriority,be={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xh(){return{controller:new ob,data:new Map,refCount:0}}function Po(e){e.refCount--,e.refCount===0&&lb(ub,function(){e.controller.abort()})}var zo=null,$h=0,ya=0,_a=null;function cb(e,n){if(zo===null){var s=zo=[];$h=0,ya=td(),_a={status:"pending",value:void 0,then:function(o){s.push(o)}}}return $h++,n.then(Ug,Ug),n}function Ug(){if(--$h===0&&zo!==null){_a!==null&&(_a.status="fulfilled");var e=zo;zo=null,ya=0,_a=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function hb(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var kg=F.S;F.S=function(e,n){vy=Je(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&cb(e,n),kg!==null&&kg(e,n)};var wr=M(null);function Zh(){var e=wr.current;return e!==null?e:Wt.pooledCache}function Cu(e,n){n===null?nt(wr,wr.current):nt(wr,n.pool)}function Lg(){var e=Zh();return e===null?null:{parent:be._currentValue,pool:e}}var va=Error(a(460)),Jh=Error(a(474)),Nu=Error(a(542)),xu={then:function(){}};function Pg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function zg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(jn,jn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Bg(e),e;default:if(typeof n.status=="string")n.then(jn,jn);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Bg(e),e}throw Ir=n,va}}function Rr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ir=s,va):s}}var Ir=null;function jg(){if(Ir===null)throw Error(a(459));var e=Ir;return Ir=null,e}function Bg(e){if(e===va||e===Nu)throw Error(a(483))}var Ea=null,jo=0;function Du(e){var n=jo;return jo+=1,Ea===null&&(Ea=[]),zg(Ea,e,n)}function Bo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ou(e,n){throw n.$$typeof===U?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function qg(e){function n(k,O){if(e){var P=k.deletions;P===null?(k.deletions=[O],k.flags|=16):P.push(O)}}function s(k,O){if(!e)return null;for(;O!==null;)n(k,O),O=O.sibling;return null}function o(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=Mi(k,O),k.index=0,k.sibling=null,k}function f(k,O,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<O?(k.flags|=67108866,O):P):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,O,P,Q){return O===null||O.tag!==6?(O=jh(P,k.mode,Q),O.return=k,O):(O=h(O,P),O.return=k,O)}function N(k,O,P,Q){var ut=P.type;return ut===W?H(k,O,P.props.children,Q,P.key):O!==null&&(O.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===A&&Rr(ut)===O.type)?(O=h(O,P.props),Bo(O,P),O.return=k,O):(O=Su(P.type,P.key,P.props,null,k.mode,Q),Bo(O,P),O.return=k,O)}function z(k,O,P,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=Bh(P,k.mode,Q),O.return=k,O):(O=h(O,P.children||[]),O.return=k,O)}function H(k,O,P,Q,ut){return O===null||O.tag!==7?(O=Tr(P,k.mode,Q,ut),O.return=k,O):(O=h(O,P),O.return=k,O)}function K(k,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=jh(""+O,k.mode,P),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case G:return P=Su(O.type,O.key,O.props,null,k.mode,P),Bo(P,O),P.return=k,P;case J:return O=Bh(O,k.mode,P),O.return=k,O;case A:return O=Rr(O),K(k,O,P)}if(he(O)||V(O))return O=Tr(O,k.mode,P,null),O.return=k,O;if(typeof O.then=="function")return K(k,Du(O),P);if(O.$$typeof===dt)return K(k,Iu(k,O),P);Ou(k,O)}return null}function j(k,O,P,Q){var ut=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ut!==null?null:E(k,O,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case G:return P.key===ut?N(k,O,P,Q):null;case J:return P.key===ut?z(k,O,P,Q):null;case A:return P=Rr(P),j(k,O,P,Q)}if(he(P)||V(P))return ut!==null?null:H(k,O,P,Q,null);if(typeof P.then=="function")return j(k,O,Du(P),Q);if(P.$$typeof===dt)return j(k,O,Iu(k,P),Q);Ou(k,P)}return null}function q(k,O,P,Q,ut){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(P)||null,E(O,k,""+Q,ut);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case G:return k=k.get(Q.key===null?P:Q.key)||null,N(O,k,Q,ut);case J:return k=k.get(Q.key===null?P:Q.key)||null,z(O,k,Q,ut);case A:return Q=Rr(Q),q(k,O,P,Q,ut)}if(he(Q)||V(Q))return k=k.get(P)||null,H(O,k,Q,ut,null);if(typeof Q.then=="function")return q(k,O,P,Du(Q),ut);if(Q.$$typeof===dt)return q(k,O,P,Iu(O,Q),ut);Ou(O,Q)}return null}function at(k,O,P,Q){for(var ut=null,Lt=null,ot=O,St=O=0,Ct=null;ot!==null&&St<P.length;St++){ot.index>St?(Ct=ot,ot=null):Ct=ot.sibling;var Pt=j(k,ot,P[St],Q);if(Pt===null){ot===null&&(ot=Ct);break}e&&ot&&Pt.alternate===null&&n(k,ot),O=f(Pt,O,St),Lt===null?ut=Pt:Lt.sibling=Pt,Lt=Pt,ot=Ct}if(St===P.length)return s(k,ot),Mt&&Vi(k,St),ut;if(ot===null){for(;St<P.length;St++)ot=K(k,P[St],Q),ot!==null&&(O=f(ot,O,St),Lt===null?ut=ot:Lt.sibling=ot,Lt=ot);return Mt&&Vi(k,St),ut}for(ot=o(ot);St<P.length;St++)Ct=q(ot,k,St,P[St],Q),Ct!==null&&(e&&Ct.alternate!==null&&ot.delete(Ct.key===null?St:Ct.key),O=f(Ct,O,St),Lt===null?ut=Ct:Lt.sibling=Ct,Lt=Ct);return e&&ot.forEach(function(ks){return n(k,ks)}),Mt&&Vi(k,St),ut}function ft(k,O,P,Q){if(P==null)throw Error(a(151));for(var ut=null,Lt=null,ot=O,St=O=0,Ct=null,Pt=P.next();ot!==null&&!Pt.done;St++,Pt=P.next()){ot.index>St?(Ct=ot,ot=null):Ct=ot.sibling;var ks=j(k,ot,Pt.value,Q);if(ks===null){ot===null&&(ot=Ct);break}e&&ot&&ks.alternate===null&&n(k,ot),O=f(ks,O,St),Lt===null?ut=ks:Lt.sibling=ks,Lt=ks,ot=Ct}if(Pt.done)return s(k,ot),Mt&&Vi(k,St),ut;if(ot===null){for(;!Pt.done;St++,Pt=P.next())Pt=K(k,Pt.value,Q),Pt!==null&&(O=f(Pt,O,St),Lt===null?ut=Pt:Lt.sibling=Pt,Lt=Pt);return Mt&&Vi(k,St),ut}for(ot=o(ot);!Pt.done;St++,Pt=P.next())Pt=q(ot,k,St,Pt.value,Q),Pt!==null&&(e&&Pt.alternate!==null&&ot.delete(Pt.key===null?St:Pt.key),O=f(Pt,O,St),Lt===null?ut=Pt:Lt.sibling=Pt,Lt=Pt);return e&&ot.forEach(function(b1){return n(k,b1)}),Mt&&Vi(k,St),ut}function Zt(k,O,P,Q){if(typeof P=="object"&&P!==null&&P.type===W&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case G:t:{for(var ut=P.key;O!==null;){if(O.key===ut){if(ut=P.type,ut===W){if(O.tag===7){s(k,O.sibling),Q=h(O,P.props.children),Q.return=k,k=Q;break t}}else if(O.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===A&&Rr(ut)===O.type){s(k,O.sibling),Q=h(O,P.props),Bo(Q,P),Q.return=k,k=Q;break t}s(k,O);break}else n(k,O);O=O.sibling}P.type===W?(Q=Tr(P.props.children,k.mode,Q,P.key),Q.return=k,k=Q):(Q=Su(P.type,P.key,P.props,null,k.mode,Q),Bo(Q,P),Q.return=k,k=Q)}return g(k);case J:t:{for(ut=P.key;O!==null;){if(O.key===ut)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){s(k,O.sibling),Q=h(O,P.children||[]),Q.return=k,k=Q;break t}else{s(k,O);break}else n(k,O);O=O.sibling}Q=Bh(P,k.mode,Q),Q.return=k,k=Q}return g(k);case A:return P=Rr(P),Zt(k,O,P,Q)}if(he(P))return at(k,O,P,Q);if(V(P)){if(ut=V(P),typeof ut!="function")throw Error(a(150));return P=ut.call(P),ft(k,O,P,Q)}if(typeof P.then=="function")return Zt(k,O,Du(P),Q);if(P.$$typeof===dt)return Zt(k,O,Iu(k,P),Q);Ou(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(s(k,O.sibling),Q=h(O,P),Q.return=k,k=Q):(s(k,O),Q=jh(P,k.mode,Q),Q.return=k,k=Q),g(k)):s(k,O)}return function(k,O,P,Q){try{jo=0;var ut=Zt(k,O,P,Q);return Ea=null,ut}catch(ot){if(ot===va||ot===Nu)throw ot;var Lt=gn(29,ot,null,k.mode);return Lt.lanes=Q,Lt.return=k,Lt}}}var Cr=qg(!0),Hg=qg(!1),vs=!1;function Wh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Es(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ts(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(jt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Au(e),Rg(e,null,s),n}return bu(e,o,n,s),Au(e)}function qo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,go(e,s)}}function ef(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var nf=!1;function Ho(){if(nf){var e=_a;if(e!==null)throw e}}function Fo(e,n,s,o){nf=!1;var h=e.updateQueue;vs=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var N=E,z=N.next;N.next=null,g===null?f=z:g.next=z,g=N;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==g&&(E===null?H.firstBaseUpdate=z:E.next=z,H.lastBaseUpdate=N))}if(f!==null){var K=h.baseState;g=0,H=z=N=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(It&j)===j:(o&j)===j){j!==0&&j===ya&&(nf=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,ft=E;j=n;var Zt=s;switch(ft.tag){case 1:if(at=ft.payload,typeof at=="function"){K=at.call(Zt,K,j);break t}K=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=ft.payload,j=typeof at=="function"?at.call(Zt,K,j):at,j==null)break t;K=R({},K,j);break t;case 2:vs=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(z=H=q,N=K):H=H.next=q,g|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);H===null&&(N=K),h.baseState=N,h.firstBaseUpdate=z,h.lastBaseUpdate=H,f===null&&(h.shared.lanes=0),Rs|=g,e.lanes=g,e.memoizedState=K}}function Fg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Gg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Fg(s[e],n)}var Ta=M(null),Mu=M(0);function Qg(e,n){e=Gi,nt(Mu,e),nt(Ta,n),Gi=e|n.baseLanes}function sf(){nt(Mu,Gi),nt(Ta,Ta.current)}function rf(){Gi=Mu.current,Y(Ta),Y(Mu)}var pn=M(null),Dn=null;function bs(e){var n=e.alternate;nt(me,me.current&1),nt(pn,e),Dn===null&&(n===null||Ta.current!==null||n.memoizedState!==null)&&(Dn=e)}function af(e){nt(me,me.current),nt(pn,e),Dn===null&&(Dn=e)}function Kg(e){e.tag===22?(nt(me,me.current),nt(pn,e),Dn===null&&(Dn=e)):As()}function As(){nt(me,me.current),nt(pn,pn.current)}function yn(e){Y(pn),Dn===e&&(Dn=null),Y(me)}var me=M(0);function Vu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||fd(s)||dd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Li=0,bt=null,Xt=null,Ae=null,Uu=!1,ba=!1,Nr=!1,ku=0,Go=0,Aa=null,fb=0;function ue(){throw Error(a(321))}function of(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!mn(e[s],n[s]))return!1;return!0}function lf(e,n,s,o,h,f){return Li=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?xp:Af,Nr=!1,f=s(o,h),Nr=!1,ba&&(f=Xg(n,s,o,h)),Yg(e),f}function Yg(e){F.H=Yo;var n=Xt!==null&&Xt.next!==null;if(Li=0,Ae=Xt=bt=null,Uu=!1,Go=0,Aa=null,n)throw Error(a(300));e===null||Se||(e=e.dependencies,e!==null&&Ru(e)&&(Se=!0))}function Xg(e,n,s,o){bt=e;var h=0;do{if(ba&&(Aa=null),Go=0,ba=!1,25<=h)throw Error(a(301));if(h+=1,Ae=Xt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Dp,f=n(s,o)}while(ba);return f}function db(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?Qo(n):n,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(bt.flags|=1024),n}function uf(){var e=ku!==0;return ku=0,e}function cf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function hf(e){if(Uu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Uu=!1}Li=0,Ae=Xt=bt=null,ba=!1,Go=ku=0,Aa=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?bt.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function ge(){if(Xt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var n=Ae===null?bt.memoizedState:Ae.next;if(n!==null)Ae=n,Xt=e;else{if(e===null)throw bt.alternate===null?Error(a(467)):Error(a(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Ae===null?bt.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Lu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qo(e){var n=Go;return Go+=1,Aa===null&&(Aa=[]),e=zg(Aa,e,n),n=bt,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?xp:Af),e}function Pu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Qo(e);if(e.$$typeof===dt)return Be(e)}throw Error(a(438,String(e)))}function ff(e){var n=null,s=bt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=bt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Lu(),bt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=D;return n.index++,s}function Pi(e,n){return typeof n=="function"?n(e):n}function zu(e){var n=ge();return df(n,Xt,e)}function df(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,N=null,z=n,H=!1;do{var K=z.lane&-536870913;if(K!==z.lane?(It&K)===K:(Li&K)===K){var j=z.revertLane;if(j===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),K===ya&&(H=!0);else if((Li&j)===j){z=z.next,j===ya&&(H=!0);continue}else K={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(E=N=K,g=f):N=N.next=K,bt.lanes|=j,Rs|=j;K=z.action,Nr&&s(f,K),f=z.hasEagerState?z.eagerState:s(f,K)}else j={lane:K,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(E=N=j,g=f):N=N.next=j,bt.lanes|=K,Rs|=K;z=z.next}while(z!==null&&z!==n);if(N===null?g=f:N.next=E,!mn(f,e.memoizedState)&&(Se=!0,H&&(s=_a,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=N,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function mf(e){var n=ge(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);mn(f,n.memoizedState)||(Se=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function $g(e,n,s){var o=bt,h=ge(),f=Mt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!mn((Xt||h).memoizedState,s);if(g&&(h.memoizedState=s,Se=!0),h=h.queue,yf(Wg.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Ae!==null&&Ae.memoizedState.tag&1){if(o.flags|=2048,Sa(9,{destroy:void 0},Jg.bind(null,o,h,s,n),null),Wt===null)throw Error(a(349));f||(Li&127)!==0||Zg(o,n,s)}return s}function Zg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=bt.updateQueue,n===null?(n=Lu(),bt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Jg(e,n,s,o){n.value=s,n.getSnapshot=o,tp(n)&&ep(e)}function Wg(e,n,s){return s(function(){tp(n)&&ep(e)})}function tp(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!mn(e,s)}catch{return!0}}function ep(e){var n=Er(e,2);n!==null&&un(n,e,2)}function gf(e){var n=tn();if(typeof e=="function"){var s=e;if(e=s(),Nr){Tn(!0);try{s()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:e},n}function np(e,n,s,o){return e.baseState=s,df(e,Xt,typeof o=="function"?o:Pi)}function mb(e,n,s,o,h){if(qu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};F.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,ip(n,f)):(f.next=s.next,n.pending=s.next=f)}}function ip(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=F.T,g={};F.T=g;try{var E=s(h,o),N=F.S;N!==null&&N(g,E),sp(e,n,E)}catch(z){pf(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),F.T=f}}else try{f=s(h,o),sp(e,n,f)}catch(z){pf(e,n,z)}}function sp(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){rp(e,n,o)},function(o){return pf(e,n,o)}):rp(e,n,s)}function rp(e,n,s){n.status="fulfilled",n.value=s,ap(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,ip(e,s)))}function pf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,ap(n),n=n.next;while(n!==o)}e.action=null}function ap(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function op(e,n){return n}function lp(e,n){if(Mt){var s=Wt.formState;if(s!==null){t:{var o=bt;if(Mt){if(ee){e:{for(var h=ee,f=xn;h.nodeType!==8;){if(!f){h=null;break e}if(h=On(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ee=On(h.nextSibling),o=h.data==="F!";break t}}ys(o)}o=!1}o&&(n=s[0])}}return s=tn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:op,lastRenderedState:n},s.queue=o,s=Ip.bind(null,bt,o),o.dispatch=s,o=gf(!1),f=bf.bind(null,bt,!1,o.queue),o=tn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=mb.bind(null,bt,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function up(e){var n=ge();return cp(n,Xt,e)}function cp(e,n,s){if(n=df(e,n,op)[0],e=zu(Pi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Qo(n)}catch(g){throw g===va?Nu:g}else o=n;n=ge();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(bt.flags|=2048,Sa(9,{destroy:void 0},gb.bind(null,h,s),null)),[o,f,e]}function gb(e,n){e.action=n}function hp(e){var n=ge(),s=Xt;if(s!==null)return cp(n,s,e);ge(),n=n.memoizedState,s=ge();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Sa(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=bt.updateQueue,n===null&&(n=Lu(),bt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function fp(){return ge().memoizedState}function ju(e,n,s,o){var h=tn();bt.flags|=e,h.memoizedState=Sa(1|n,{destroy:void 0},s,o===void 0?null:o)}function Bu(e,n,s,o){var h=ge();o=o===void 0?null:o;var f=h.memoizedState.inst;Xt!==null&&o!==null&&of(o,Xt.memoizedState.deps)?h.memoizedState=Sa(n,f,s,o):(bt.flags|=e,h.memoizedState=Sa(1|n,f,s,o))}function dp(e,n){ju(8390656,8,e,n)}function yf(e,n){Bu(2048,8,e,n)}function pb(e){bt.flags|=4;var n=bt.updateQueue;if(n===null)n=Lu(),bt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function mp(e){var n=ge().memoizedState;return pb({ref:n,nextImpl:e}),function(){if((jt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function gp(e,n){return Bu(4,2,e,n)}function pp(e,n){return Bu(4,4,e,n)}function yp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function _p(e,n,s){s=s!=null?s.concat([e]):null,Bu(4,4,yp.bind(null,n,e),s)}function _f(){}function vp(e,n){var s=ge();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&of(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Ep(e,n){var s=ge();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&of(n,o[1]))return o[0];if(o=e(),Nr){Tn(!0);try{e()}finally{Tn(!1)}}return s.memoizedState=[o,n],o}function vf(e,n,s){return s===void 0||(Li&1073741824)!==0&&(It&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Ty(),bt.lanes|=e,Rs|=e,s)}function Tp(e,n,s,o){return mn(s,n)?s:Ta.current!==null?(e=vf(e,s,o),mn(e,n)||(Se=!0),e):(Li&42)===0||(Li&1073741824)!==0&&(It&261930)===0?(Se=!0,e.memoizedState=s):(e=Ty(),bt.lanes|=e,Rs|=e,n)}function bp(e,n,s,o,h){var f=et.p;et.p=f!==0&&8>f?f:8;var g=F.T,E={};F.T=E,bf(e,!1,n,s);try{var N=h(),z=F.S;if(z!==null&&z(E,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var H=hb(N,o);Ko(e,n,H,En(e))}else Ko(e,n,o,En(e))}catch(K){Ko(e,n,{then:function(){},status:"rejected",reason:K},En())}finally{et.p=f,g!==null&&E.types!==null&&(g.types=E.types),F.T=g}}function yb(){}function Ef(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Ap(e).queue;bp(e,h,n,ht,s===null?yb:function(){return Sp(e),s(o)})}function Ap(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:ht},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Sp(e){var n=Ap(e);n.next===null&&(n=e.alternate.memoizedState),Ko(e,n.next.queue,{},En())}function Tf(){return Be(cl)}function wp(){return ge().memoizedState}function Rp(){return ge().memoizedState}function _b(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=En();e=Es(s);var o=Ts(n,e,s);o!==null&&(un(o,n,s),qo(o,n,s)),n={cache:Xh()},e.payload=n;return}n=n.return}}function vb(e,n,s){var o=En();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},qu(e)?Cp(n,s):(s=Ph(e,n,s,o),s!==null&&(un(s,e,o),Np(s,n,o)))}function Ip(e,n,s){var o=En();Ko(e,n,s,o)}function Ko(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(qu(e))Cp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,mn(E,g))return bu(e,n,h,0),Wt===null&&Tu(),!1}catch{}if(s=Ph(e,n,h,o),s!==null)return un(s,e,o),Np(s,n,o),!0}return!1}function bf(e,n,s,o){if(o={lane:2,revertLane:td(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},qu(e)){if(n)throw Error(a(479))}else n=Ph(e,s,o,2),n!==null&&un(n,e,2)}function qu(e){var n=e.alternate;return e===bt||n!==null&&n===bt}function Cp(e,n){ba=Uu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Np(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,go(e,s)}}var Yo={readContext:Be,use:Pu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};Yo.useEffectEvent=ue;var xp={readContext:Be,use:Pu,useCallback:function(e,n){return tn().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:dp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,ju(4194308,4,yp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return ju(4194308,4,e,n)},useInsertionEffect:function(e,n){ju(4,2,e,n)},useMemo:function(e,n){var s=tn();n=n===void 0?null:n;var o=e();if(Nr){Tn(!0);try{e()}finally{Tn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=tn();if(s!==void 0){var h=s(n);if(Nr){Tn(!0);try{s(n)}finally{Tn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=vb.bind(null,bt,e),[o.memoizedState,e]},useRef:function(e){var n=tn();return e={current:e},n.memoizedState=e},useState:function(e){e=gf(e);var n=e.queue,s=Ip.bind(null,bt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:_f,useDeferredValue:function(e,n){var s=tn();return vf(s,e,n)},useTransition:function(){var e=gf(!1);return e=bp.bind(null,bt,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=bt,h=tn();if(Mt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Wt===null)throw Error(a(349));(It&127)!==0||Zg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,dp(Wg.bind(null,o,f,e),[e]),o.flags|=2048,Sa(9,{destroy:void 0},Jg.bind(null,o,f,s,n),null),s},useId:function(){var e=tn(),n=Wt.identifierPrefix;if(Mt){var s=yi,o=pi;s=(o&~(1<<32-fe(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=ku++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=fb++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Tf,useFormState:lp,useActionState:lp,useOptimistic:function(e){var n=tn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=bf.bind(null,bt,!0,s),s.dispatch=n,[e,n]},useMemoCache:ff,useCacheRefresh:function(){return tn().memoizedState=_b.bind(null,bt)},useEffectEvent:function(e){var n=tn(),s={impl:e};return n.memoizedState=s,function(){if((jt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Af={readContext:Be,use:Pu,useCallback:vp,useContext:Be,useEffect:yf,useImperativeHandle:_p,useInsertionEffect:gp,useLayoutEffect:pp,useMemo:Ep,useReducer:zu,useRef:fp,useState:function(){return zu(Pi)},useDebugValue:_f,useDeferredValue:function(e,n){var s=ge();return Tp(s,Xt.memoizedState,e,n)},useTransition:function(){var e=zu(Pi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Qo(e),n]},useSyncExternalStore:$g,useId:wp,useHostTransitionStatus:Tf,useFormState:up,useActionState:up,useOptimistic:function(e,n){var s=ge();return np(s,Xt,e,n)},useMemoCache:ff,useCacheRefresh:Rp};Af.useEffectEvent=mp;var Dp={readContext:Be,use:Pu,useCallback:vp,useContext:Be,useEffect:yf,useImperativeHandle:_p,useInsertionEffect:gp,useLayoutEffect:pp,useMemo:Ep,useReducer:mf,useRef:fp,useState:function(){return mf(Pi)},useDebugValue:_f,useDeferredValue:function(e,n){var s=ge();return Xt===null?vf(s,e,n):Tp(s,Xt.memoizedState,e,n)},useTransition:function(){var e=mf(Pi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Qo(e),n]},useSyncExternalStore:$g,useId:wp,useHostTransitionStatus:Tf,useFormState:hp,useActionState:hp,useOptimistic:function(e,n){var s=ge();return Xt!==null?np(s,Xt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:ff,useCacheRefresh:Rp};Dp.useEffectEvent=mp;function Sf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:R({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var wf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=En(),h=Es(o);h.payload=n,s!=null&&(h.callback=s),n=Ts(e,h,o),n!==null&&(un(n,e,o),qo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=En(),h=Es(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Ts(e,h,o),n!==null&&(un(n,e,o),qo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=En(),o=Es(s);o.tag=2,n!=null&&(o.callback=n),n=Ts(e,o,s),n!==null&&(un(n,e,s),qo(n,e,s))}};function Op(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Vo(s,o)||!Vo(h,f):!0}function Mp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&wf.enqueueReplaceState(n,n.state,null)}function xr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=R({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Vp(e){Eu(e)}function Up(e){console.error(e)}function kp(e){Eu(e)}function Hu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Lp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Rf(e,n,s){return s=Es(s),s.tag=3,s.payload={element:null},s.callback=function(){Hu(e,n)},s}function Pp(e){return e=Es(e),e.tag=3,e}function zp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Lp(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Lp(n,s,o),typeof h!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function Eb(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&pa(n,s,h,!0),s=pn.current,s!==null){switch(s.tag){case 31:case 13:return Dn===null?ec():s.alternate===null&&ce===0&&(ce=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===xu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Zf(e,o,h)),!1;case 22:return s.flags|=65536,o===xu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Zf(e,o,h)),!1}throw Error(a(435,s.tag))}return Zf(e,o,h),ec(),!1}if(Mt)return n=pn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Fh&&(e=Error(a(422),{cause:o}),Lo(In(e,s)))):(o!==Fh&&(n=Error(a(423),{cause:o}),Lo(In(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=In(o,s),h=Rf(e.stateNode,o,h),ef(e,h),ce!==4&&(ce=2)),!1;var f=Error(a(520),{cause:o});if(f=In(f,s),nl===null?nl=[f]:nl.push(f),ce!==4&&(ce=2),n===null)return!0;o=In(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Rf(s.stateNode,o,e),ef(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Is===null||!Is.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Pp(h),zp(h,e,s,o),ef(s,h),!1}s=s.return}while(s!==null);return!1}var If=Error(a(461)),Se=!1;function qe(e,n,s,o){n.child=e===null?Hg(n,null,s,o):Cr(n,e.child,s,o)}function jp(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Sr(n),o=lf(e,n,s,g,f,h),E=uf(),e!==null&&!Se?(cf(e,n,h),zi(e,n,h)):(Mt&&E&&qh(n),n.flags|=1,qe(e,n,o,h),n.child)}function Bp(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!zh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,qp(e,n,f,o,h)):(e=Su(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Uf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Vo,s(g,o)&&e.ref===n.ref)return zi(e,n,h)}return n.flags|=1,e=Mi(f,o),e.ref=n.ref,e.return=n,n.child=e}function qp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Vo(f,o)&&e.ref===n.ref)if(Se=!1,n.pendingProps=o=f,Uf(e,h))(e.flags&131072)!==0&&(Se=!0);else return n.lanes=e.lanes,zi(e,n,h)}return Cf(e,n,s,o,h)}function Hp(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Fp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Cu(n,f!==null?f.cachePool:null),f!==null?Qg(n,f):sf(),Kg(n);else return o=n.lanes=536870912,Fp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Cu(n,f.cachePool),Qg(n,f),As(),n.memoizedState=null):(e!==null&&Cu(n,null),sf(),As());return qe(e,n,h,s),n.child}function Xo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Fp(e,n,s,o,h){var f=Zh();return f=f===null?null:{parent:be._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Cu(n,null),sf(),Kg(n),e!==null&&pa(e,n,o,!0),n.childLanes=h,null}function Fu(e,n){return n=Qu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Gp(e,n,s){return Cr(n,e.child,null,s),e=Fu(n,n.pendingProps),e.flags|=2,yn(n),n.memoizedState=null,e}function Tb(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Mt){if(o.mode==="hidden")return e=Fu(n,o),n.lanes=536870912,Xo(null,e);if(af(n),(e=ee)?(e=i_(e,xn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:gs!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},s=Cg(e),s.return=n,n.child=s,je=n,ee=null)):e=null,e===null)throw ys(n);return n.lanes=536870912,null}return Fu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(af(n),h)if(n.flags&256)n.flags&=-257,n=Gp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Se||pa(e,n,s,!1),h=(s&e.childLanes)!==0,Se||h){if(o=Wt,o!==null&&(g=po(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Er(e,g),un(o,e,g),If;ec(),n=Gp(e,n,s)}else e=f.treeContext,ee=On(g.nextSibling),je=n,Mt=!0,ps=null,xn=!1,e!==null&&Dg(n,e),n=Fu(n,o),n.flags|=4096;return n}return e=Mi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Gu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Cf(e,n,s,o,h){return Sr(n),s=lf(e,n,s,o,void 0,h),o=uf(),e!==null&&!Se?(cf(e,n,h),zi(e,n,h)):(Mt&&o&&qh(n),n.flags|=1,qe(e,n,s,h),n.child)}function Qp(e,n,s,o,h,f){return Sr(n),n.updateQueue=null,s=Xg(n,o,s,h),Yg(e),o=uf(),e!==null&&!Se?(cf(e,n,f),zi(e,n,f)):(Mt&&o&&qh(n),n.flags|=1,qe(e,n,s,f),n.child)}function Kp(e,n,s,o,h){if(Sr(n),n.stateNode===null){var f=fa,g=s.contextType;typeof g=="object"&&g!==null&&(f=Be(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=wf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Wh(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Be(g):fa,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Sf(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&wf.enqueueReplaceState(f,f.state,null),Fo(n,o,f,h),Ho(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,N=xr(s,E);f.props=N;var z=f.context,H=s.contextType;g=fa,typeof H=="object"&&H!==null&&(g=Be(H));var K=s.getDerivedStateFromProps;H=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&Mp(n,f,o,g),vs=!1;var j=n.memoizedState;f.state=j,Fo(n,o,f,h),Ho(),z=n.memoizedState,E||j!==z||vs?(typeof K=="function"&&(Sf(n,s,K,o),z=n.memoizedState),(N=vs||Op(n,s,N,o,j,z,g))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=N):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,tf(e,n),g=n.memoizedProps,H=xr(s,g),f.props=H,K=n.pendingProps,j=f.context,z=s.contextType,N=fa,typeof z=="object"&&z!==null&&(N=Be(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==K||j!==N)&&Mp(n,f,o,N),vs=!1,j=n.memoizedState,f.state=j,Fo(n,o,f,h),Ho();var q=n.memoizedState;g!==K||j!==q||vs||e!==null&&e.dependencies!==null&&Ru(e.dependencies)?(typeof E=="function"&&(Sf(n,s,E,o),q=n.memoizedState),(H=vs||Op(n,s,H,o,j,q,N)||e!==null&&e.dependencies!==null&&Ru(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,N)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=N,o=H):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Gu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Cr(n,e.child,null,h),n.child=Cr(n,null,s,h)):qe(e,n,s,h),n.memoizedState=f.state,e=n.child):e=zi(e,n,h),e}function Yp(e,n,s,o){return br(),n.flags|=256,qe(e,n,s,o),n.child}var Nf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xf(e){return{baseLanes:e,cachePool:Lg()}}function Df(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=vn),e}function Xp(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(me.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Mt){if(h?bs(n):As(),(e=ee)?(e=i_(e,xn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:gs!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},s=Cg(e),s.return=n,n.child=s,je=n,ee=null)):e=null,e===null)throw ys(n);return dd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(As(),h=n.mode,E=Qu({mode:"hidden",children:E},h),o=Tr(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=xf(s),o.childLanes=Df(e,g,s),n.memoizedState=Nf,Xo(null,o)):(bs(n),Of(n,E))}var N=e.memoizedState;if(N!==null&&(E=N.dehydrated,E!==null)){if(f)n.flags&256?(bs(n),n.flags&=-257,n=Mf(e,n,s)):n.memoizedState!==null?(As(),n.child=e.child,n.flags|=128,n=null):(As(),E=o.fallback,h=n.mode,o=Qu({mode:"visible",children:o.children},h),E=Tr(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Cr(n,e.child,null,s),o=n.child,o.memoizedState=xf(s),o.childLanes=Df(e,g,s),n.memoizedState=Nf,n=Xo(null,o));else if(bs(n),dd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(a(419)),o.stack="",o.digest=g,Lo({value:o,source:null,stack:null}),n=Mf(e,n,s)}else if(Se||pa(e,n,s,!1),g=(s&e.childLanes)!==0,Se||g){if(g=Wt,g!==null&&(o=po(g,s),o!==0&&o!==N.retryLane))throw N.retryLane=o,Er(e,o),un(g,e,o),If;fd(E)||ec(),n=Mf(e,n,s)}else fd(E)?(n.flags|=192,n.child=e.child,n=null):(e=N.treeContext,ee=On(E.nextSibling),je=n,Mt=!0,ps=null,xn=!1,e!==null&&Dg(n,e),n=Of(n,o.children),n.flags|=4096);return n}return h?(As(),E=o.fallback,h=n.mode,N=e.child,z=N.sibling,o=Mi(N,{mode:"hidden",children:o.children}),o.subtreeFlags=N.subtreeFlags&65011712,z!==null?E=Mi(z,E):(E=Tr(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Xo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=xf(s):(h=E.cachePool,h!==null?(N=be._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=Lg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=Df(e,g,s),n.memoizedState=Nf,Xo(e.child,o)):(bs(n),s=e.child,e=s.sibling,s=Mi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Of(e,n){return n=Qu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Qu(e,n){return e=gn(22,e,null,n),e.lanes=0,e}function Mf(e,n,s){return Cr(n,e.child,null,s),e=Of(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function $p(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Kh(e.return,n,s)}function Vf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function Zp(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=me.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,nt(me,g),qe(e,n,o,s),o=Mt?ko:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$p(e,s,n);else if(e.tag===19)$p(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Vu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Vf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Vu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Vf(n,!0,s,null,f,o);break;case"together":Vf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function zi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Rs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(pa(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Mi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Mi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Uf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ru(e)))}function bb(e,n,s){switch(n.tag){case 3:xe(n,n.stateNode.containerInfo),_s(n,be,e.memoizedState.cache),br();break;case 27:case 5:nr(n);break;case 4:xe(n,n.stateNode.containerInfo);break;case 10:_s(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,af(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(bs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Xp(e,n,s):(bs(n),e=zi(e,n,s),e!==null?e.sibling:null);bs(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(pa(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return Zp(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(me,me.current),o)break;return null;case 22:return n.lanes=0,Hp(e,n,s,n.pendingProps);case 24:_s(n,be,e.memoizedState.cache)}return zi(e,n,s)}function Jp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Se=!0;else{if(!Uf(e,s)&&(n.flags&128)===0)return Se=!1,bb(e,n,s);Se=(e.flags&131072)!==0}else Se=!1,Mt&&(n.flags&1048576)!==0&&xg(n,ko,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Rr(n.elementType),n.type=e,typeof e=="function")zh(e)?(o=xr(e,o),n.tag=1,n=Kp(null,n,e,o,s)):(n.tag=0,n=Cf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Bt){n.tag=11,n=jp(null,n,e,o,s);break t}else if(h===S){n.tag=14,n=Bp(null,n,e,o,s);break t}}throw n=Kt(e)||e,Error(a(306,n,""))}}return n;case 0:return Cf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=xr(o,n.pendingProps),Kp(e,n,o,h,s);case 3:t:{if(xe(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,tf(e,n),Fo(n,o,null,s);var g=n.memoizedState;if(o=g.cache,_s(n,be,o),o!==f.cache&&Yh(n,[be],s,!0),Ho(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Yp(e,n,o,s);break t}else if(o!==h){h=In(Error(a(424)),n),Lo(h),n=Yp(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ee=On(e.firstChild),je=n,Mt=!0,ps=null,xn=!0,s=Hg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(br(),o===h){n=zi(e,n,s);break t}qe(e,n,o,s)}n=n.child}return n;case 26:return Gu(e,n),e===null?(s=u_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Mt||(s=n.type,e=n.pendingProps,o=lc(At.current).createElement(s),o[ve]=n,o[Ve]=e,He(o,s,e),Ee(o),n.stateNode=o):n.memoizedState=u_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return nr(n),e===null&&Mt&&(o=n.stateNode=a_(n.type,n.pendingProps,At.current),je=n,xn=!0,h=ee,Ds(n.type)?(md=h,ee=On(o.firstChild)):ee=h),qe(e,n,n.pendingProps.children,s),Gu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Mt&&((h=o=ee)&&(o=Jb(o,n.type,n.pendingProps,xn),o!==null?(n.stateNode=o,je=n,ee=On(o.firstChild),xn=!1,h=!0):h=!1),h||ys(n)),nr(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,ud(h,f)?o=null:g!==null&&ud(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=lf(e,n,db,null,null,s),cl._currentValue=h),Gu(e,n),qe(e,n,o,s),n.child;case 6:return e===null&&Mt&&((e=s=ee)&&(s=Wb(s,n.pendingProps,xn),s!==null?(n.stateNode=s,je=n,ee=null,e=!0):e=!1),e||ys(n)),null;case 13:return Xp(e,n,s);case 4:return xe(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Cr(n,null,o,s):qe(e,n,o,s),n.child;case 11:return jp(e,n,n.type,n.pendingProps,s);case 7:return qe(e,n,n.pendingProps,s),n.child;case 8:return qe(e,n,n.pendingProps.children,s),n.child;case 12:return qe(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,_s(n,n.type,o.value),qe(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Sr(n),h=Be(h),o=o(h),n.flags|=1,qe(e,n,o,s),n.child;case 14:return Bp(e,n,n.type,n.pendingProps,s);case 15:return qp(e,n,n.type,n.pendingProps,s);case 19:return Zp(e,n,s);case 31:return Tb(e,n,s);case 22:return Hp(e,n,s,n.pendingProps);case 24:return Sr(n),o=Be(be),e===null?(h=Zh(),h===null&&(h=Wt,f=Xh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},Wh(n),_s(n,be,h)):((e.lanes&s)!==0&&(tf(e,n),Fo(n,null,null,s),Ho()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),_s(n,be,o)):(o=f.cache,_s(n,be,o),o!==h.cache&&Yh(n,[be],s,!0))),qe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ji(e){e.flags|=4}function kf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(wy())e.flags|=8192;else throw Ir=xu,Jh}else e.flags&=-16777217}function Wp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!m_(n))if(wy())e.flags|=8192;else throw Ir=xu,Jh}function Ku(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Wl():536870912,e.lanes|=n,Ca|=n)}function $o(e,n){if(!Mt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ne(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function Ab(e,n,s){var o=n.pendingProps;switch(Hh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ki(be),re(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ga(n)?ji(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Gh())),ne(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(ji(n),f!==null?(ne(n),Wp(n,f)):(ne(n),kf(n,h,null,o,s))):f?f!==e.memoizedState?(ji(n),ne(n),Wp(n,f)):(ne(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&ji(n),ne(n),kf(n,h,e,o,s)),null;case 27:if(Kr(n),s=At.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ji(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ne(n),null}e=st.current,ga(n)?Og(n):(e=a_(h,o,s),n.stateNode=e,ji(n))}return ne(n),null;case 5:if(Kr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ji(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ne(n),null}if(f=st.current,ga(n))Og(n);else{var g=lc(At.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[ve]=n,f[Ve]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(He(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&ji(n)}}return ne(n),kf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&ji(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=At.current,ga(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=je,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ve]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Xy(e.nodeValue,s)),e||ys(n,!0)}else e=lc(e).createTextNode(o),e[ve]=n,n.stateNode=e}return ne(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=ga(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[ve]=n}else br(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),e=!1}else s=Gh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ne(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ga(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[ve]=n}else br(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),h=!1}else h=Gh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Ku(n,n.updateQueue),ne(n),null);case 4:return re(),e===null&&sd(n.stateNode.containerInfo),ne(n),null;case 10:return ki(n.type),ne(n),null;case 19:if(Y(me),o=n.memoizedState,o===null)return ne(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)$o(o,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Vu(e),f!==null){for(n.flags|=128,$o(o,!1),e=f.updateQueue,n.updateQueue=e,Ku(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Ig(s,e),s=s.sibling;return nt(me,me.current&1|2),Mt&&Vi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Je()>Ju&&(n.flags|=128,h=!0,$o(o,!1),n.lanes=4194304)}else{if(!h)if(e=Vu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Ku(n,e),$o(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Mt)return ne(n),null}else 2*Je()-o.renderingStartTime>Ju&&s!==536870912&&(n.flags|=128,h=!0,$o(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Je(),e.sibling=null,s=me.current,nt(me,h?s&1|2:s&1),Mt&&Vi(n,o.treeForkCount),e):(ne(n),null);case 22:case 23:return yn(n),rf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),s=n.updateQueue,s!==null&&Ku(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&Y(wr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),ki(be),ne(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function Sb(e,n){switch(Hh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ki(be),re(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Kr(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(a(340));br()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(yn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));br()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(me),null;case 4:return re(),null;case 10:return ki(n.type),null;case 22:case 23:return yn(n),rf(),e!==null&&Y(wr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ki(be),null;case 25:return null;default:return null}}function ty(e,n){switch(Hh(n),n.tag){case 3:ki(be),re();break;case 26:case 27:case 5:Kr(n);break;case 4:re();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:Y(me);break;case 10:ki(n.type);break;case 22:case 23:yn(n),rf(),e!==null&&Y(wr);break;case 24:ki(be)}}function Zo(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){Qt(n,n.return,E)}}function Ss(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var N=s,z=E;try{z()}catch(H){Qt(h,N,H)}}}o=o.next}while(o!==f)}}catch(H){Qt(n,n.return,H)}}function ey(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Gg(n,s)}catch(o){Qt(e,e.return,o)}}}function ny(e,n,s){s.props=xr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Qt(e,n,o)}}function Jo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Qt(e,n,h)}}function _i(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Qt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Qt(e,n,h)}else s.current=null}function iy(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Qt(e,e.return,h)}}function Lf(e,n,s){try{var o=e.stateNode;Qb(o,e.type,s,n),o[Ve]=n}catch(h){Qt(e,e.return,h)}}function sy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ds(e.type)||e.tag===4}function Pf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||sy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ds(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=jn));else if(o!==4&&(o===27&&Ds(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(zf(e,n,s),e=e.sibling;e!==null;)zf(e,n,s),e=e.sibling}function Yu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Ds(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Yu(e,n,s),e=e.sibling;e!==null;)Yu(e,n,s),e=e.sibling}function ry(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);He(n,o,s),n[ve]=e,n[Ve]=s}catch(f){Qt(e,e.return,f)}}var Bi=!1,we=!1,jf=!1,ay=typeof WeakSet=="function"?WeakSet:Set,ke=null;function wb(e,n){if(e=e.containerInfo,od=gc,e=_g(e),Oh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,N=-1,z=0,H=0,K=e,j=null;e:for(;;){for(var q;K!==s||h!==0&&K.nodeType!==3||(E=g+h),K!==f||o!==0&&K.nodeType!==3||(N=g+o),K.nodeType===3&&(g+=K.nodeValue.length),(q=K.firstChild)!==null;)j=K,K=q;for(;;){if(K===e)break e;if(j===s&&++z===h&&(E=g),j===f&&++H===o&&(N=g),(q=K.nextSibling)!==null)break;K=j,j=K.parentNode}K=q}s=E===-1||N===-1?null:{start:E,end:N}}else s=null}s=s||{start:0,end:0}}else s=null;for(ld={focusedElem:e,selectionRange:s},gc=!1,ke=n;ke!==null;)if(n=ke,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ke=e;else for(;ke!==null;){switch(n=ke,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var at=xr(s.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ft){Qt(s,s.return,ft)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)hd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":hd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,ke=e;break}ke=n.return}}function oy(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Hi(e,s),o&4&&Zo(5,s);break;case 1:if(Hi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Qt(s,s.return,g)}else{var h=xr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Qt(s,s.return,g)}}o&64&&ey(s),o&512&&Jo(s,s.return);break;case 3:if(Hi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Gg(e,n)}catch(g){Qt(s,s.return,g)}}break;case 27:n===null&&o&4&&ry(s);case 26:case 5:Hi(e,s),n===null&&o&4&&iy(s),o&512&&Jo(s,s.return);break;case 12:Hi(e,s);break;case 31:Hi(e,s),o&4&&cy(e,s);break;case 13:Hi(e,s),o&4&&hy(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=Vb.bind(null,s),t1(e,s))));break;case 22:if(o=s.memoizedState!==null||Bi,!o){n=n!==null&&n.memoizedState!==null||we,h=Bi;var f=we;Bi=o,(we=n)&&!f?Fi(e,s,(s.subtreeFlags&8772)!==0):Hi(e,s),Bi=h,we=f}break;case 30:break;default:Hi(e,s)}}function ly(e){var n=e.alternate;n!==null&&(e.alternate=null,ly(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Jr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,rn=!1;function qi(e,n,s){for(s=s.child;s!==null;)uy(e,n,s),s=s.sibling}function uy(e,n,s){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(kn,s)}catch{}switch(s.tag){case 26:we||_i(s,n),qi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:we||_i(s,n);var o=oe,h=rn;Ds(s.type)&&(oe=s.stateNode,rn=!1),qi(e,n,s),ol(s.stateNode),oe=o,rn=h;break;case 5:we||_i(s,n);case 6:if(o=oe,h=rn,oe=null,qi(e,n,s),oe=o,rn=h,oe!==null)if(rn)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(s.stateNode)}catch(f){Qt(s,n,f)}else try{oe.removeChild(s.stateNode)}catch(f){Qt(s,n,f)}break;case 18:oe!==null&&(rn?(e=oe,e_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),ka(e)):e_(oe,s.stateNode));break;case 4:o=oe,h=rn,oe=s.stateNode.containerInfo,rn=!0,qi(e,n,s),oe=o,rn=h;break;case 0:case 11:case 14:case 15:Ss(2,s,n),we||Ss(4,s,n),qi(e,n,s);break;case 1:we||(_i(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&ny(s,n,o)),qi(e,n,s);break;case 21:qi(e,n,s);break;case 22:we=(o=we)||s.memoizedState!==null,qi(e,n,s),we=o;break;default:qi(e,n,s)}}function cy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ka(e)}catch(s){Qt(n,n.return,s)}}}function hy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ka(e)}catch(s){Qt(n,n.return,s)}}function Rb(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ay),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ay),n;default:throw Error(a(435,e.tag))}}function Xu(e,n){var s=Rb(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=Ub.bind(null,e,o);o.then(h,h)}})}function an(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Ds(E.type)){oe=E.stateNode,rn=!1;break t}break;case 5:oe=E.stateNode,rn=!1;break t;case 3:case 4:oe=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(oe===null)throw Error(a(160));uy(f,g,h),oe=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)fy(n,e),n=n.sibling}var Qn=null;function fy(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:an(n,e),on(e),o&4&&(Ss(3,e,e.return),Zo(3,e),Ss(5,e,e.return));break;case 1:an(n,e),on(e),o&512&&(we||s===null||_i(s,s.return)),o&64&&Bi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Qn;if(an(n,e),on(e),o&512&&(we||s===null||_i(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[si]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),He(f,o,s),f[ve]=e,Ee(f),o=f;break t;case"link":var g=f_("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),He(f,o,s),h.head.appendChild(f);break;case"meta":if(g=f_("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(o),He(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[ve]=e,Ee(f),o=f}e.stateNode=o}else d_(h,e.type,e.stateNode);else e.stateNode=h_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?d_(h,e.type,e.stateNode):h_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Lf(e,e.memoizedProps,s.memoizedProps)}break;case 27:an(n,e),on(e),o&512&&(we||s===null||_i(s,s.return)),s!==null&&o&4&&Lf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(an(n,e),on(e),o&512&&(we||s===null||_i(s,s.return)),e.flags&32){h=e.stateNode;try{sn(h,"")}catch(at){Qt(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Lf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(jf=!0);break;case 6:if(an(n,e),on(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(at){Qt(e,e.return,at)}}break;case 3:if(hc=null,h=Qn,Qn=uc(n.containerInfo),an(n,e),Qn=h,on(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{ka(n.containerInfo)}catch(at){Qt(e,e.return,at)}jf&&(jf=!1,dy(e));break;case 4:o=Qn,Qn=uc(e.stateNode.containerInfo),an(n,e),on(e),Qn=o;break;case 12:an(n,e),on(e);break;case 31:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Xu(e,o)));break;case 13:an(n,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Zu=Je()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Xu(e,o)));break;case 22:h=e.memoizedState!==null;var N=s!==null&&s.memoizedState!==null,z=Bi,H=we;if(Bi=z||h,we=H||N,an(n,e),we=H,Bi=z,on(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||N||Bi||we||Dr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){N=s=n;try{if(f=N.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=N.stateNode;var K=N.memoizedProps.style,j=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(at){Qt(N,N.return,at)}}}else if(n.tag===6){if(s===null){N=n;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(at){Qt(N,N.return,at)}}}else if(n.tag===18){if(s===null){N=n;try{var q=N.stateNode;h?n_(q,!0):n_(N.stateNode,!1)}catch(at){Qt(N,N.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Xu(e,s))));break;case 19:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Xu(e,o)));break;case 30:break;case 21:break;default:an(n,e),on(e)}}function on(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(sy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Pf(e);Yu(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(sn(g,""),s.flags&=-33);var E=Pf(e);Yu(e,E,g);break;case 3:case 4:var N=s.stateNode.containerInfo,z=Pf(e);zf(e,z,N);break;default:throw Error(a(161))}}catch(H){Qt(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function dy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;dy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Hi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)oy(e,n.alternate,n),n=n.sibling}function Dr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ss(4,n,n.return),Dr(n);break;case 1:_i(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&ny(n,n.return,s),Dr(n);break;case 27:ol(n.stateNode);case 26:case 5:_i(n,n.return),Dr(n);break;case 22:n.memoizedState===null&&Dr(n);break;case 30:Dr(n);break;default:Dr(n)}e=e.sibling}}function Fi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Fi(h,f,s),Zo(4,f);break;case 1:if(Fi(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Qt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Fg(N[h],E)}catch(z){Qt(o,o.return,z)}}s&&g&64&&ey(f),Jo(f,f.return);break;case 27:ry(f);case 26:case 5:Fi(h,f,s),s&&o===null&&g&4&&iy(f),Jo(f,f.return);break;case 12:Fi(h,f,s);break;case 31:Fi(h,f,s),s&&g&4&&cy(h,f);break;case 13:Fi(h,f,s),s&&g&4&&hy(h,f);break;case 22:f.memoizedState===null&&Fi(h,f,s),Jo(f,f.return);break;case 30:break;default:Fi(h,f,s)}n=n.sibling}}function Bf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Po(s))}function qf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Po(e))}function Kn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)my(e,n,s,o),n=n.sibling}function my(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Kn(e,n,s,o),h&2048&&Zo(9,n);break;case 1:Kn(e,n,s,o);break;case 3:Kn(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Po(e)));break;case 12:if(h&2048){Kn(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){Qt(n,n.return,N)}}else Kn(e,n,s,o);break;case 31:Kn(e,n,s,o);break;case 13:Kn(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Kn(e,n,s,o):Wo(e,n):f._visibility&2?Kn(e,n,s,o):(f._visibility|=2,wa(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Bf(g,n);break;case 24:Kn(e,n,s,o),h&2048&&qf(n.alternate,n);break;default:Kn(e,n,s,o)}}function wa(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,N=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:wa(f,g,E,N,h),Zo(8,g);break;case 23:break;case 22:var H=g.stateNode;g.memoizedState!==null?H._visibility&2?wa(f,g,E,N,h):Wo(f,g):(H._visibility|=2,wa(f,g,E,N,h)),h&&z&2048&&Bf(g.alternate,g);break;case 24:wa(f,g,E,N,h),h&&z&2048&&qf(g.alternate,g);break;default:wa(f,g,E,N,h)}n=n.sibling}}function Wo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:Wo(s,o),h&2048&&Bf(o.alternate,o);break;case 24:Wo(s,o),h&2048&&qf(o.alternate,o);break;default:Wo(s,o)}n=n.sibling}}var tl=8192;function Ra(e,n,s){if(e.subtreeFlags&tl)for(e=e.child;e!==null;)gy(e,n,s),e=e.sibling}function gy(e,n,s){switch(e.tag){case 26:Ra(e,n,s),e.flags&tl&&e.memoizedState!==null&&f1(s,Qn,e.memoizedState,e.memoizedProps);break;case 5:Ra(e,n,s);break;case 3:case 4:var o=Qn;Qn=uc(e.stateNode.containerInfo),Ra(e,n,s),Qn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=tl,tl=16777216,Ra(e,n,s),tl=o):Ra(e,n,s));break;default:Ra(e,n,s)}}function py(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function el(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];ke=o,_y(o,e)}py(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)yy(e),e=e.sibling}function yy(e){switch(e.tag){case 0:case 11:case 15:el(e),e.flags&2048&&Ss(9,e,e.return);break;case 3:el(e);break;case 12:el(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,$u(e)):el(e);break;default:el(e)}}function $u(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];ke=o,_y(o,e)}py(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ss(8,n,n.return),$u(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,$u(n));break;default:$u(n)}e=e.sibling}}function _y(e,n){for(;ke!==null;){var s=ke;switch(s.tag){case 0:case 11:case 15:Ss(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Po(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,ke=o;else t:for(s=e;ke!==null;){o=ke;var h=o.sibling,f=o.return;if(ly(o),o===s){ke=null;break t}if(h!==null){h.return=f,ke=h;break t}ke=f}}}var Ib={getCacheForType:function(e){var n=Be(be),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Be(be).controller.signal}},Cb=typeof WeakMap=="function"?WeakMap:Map,jt=0,Wt=null,wt=null,It=0,Gt=0,_n=null,ws=!1,Ia=!1,Hf=!1,Gi=0,ce=0,Rs=0,Or=0,Ff=0,vn=0,Ca=0,nl=null,ln=null,Gf=!1,Zu=0,vy=0,Ju=1/0,Wu=null,Is=null,Oe=0,Cs=null,Na=null,Qi=0,Qf=0,Kf=null,Ey=null,il=0,Yf=null;function En(){return(jt&2)!==0&&It!==0?It&-It:F.T!==null?td():tu()}function Ty(){if(vn===0)if((It&536870912)===0||Mt){var e=rr;rr<<=1,(rr&3932160)===0&&(rr=262144),vn=e}else vn=536870912;return e=pn.current,e!==null&&(e.flags|=32),vn}function un(e,n,s){(e===Wt&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)&&(xa(e,0),Ns(e,It,vn,!1)),ar(e,s),((jt&2)===0||e!==Wt)&&(e===Wt&&((jt&2)===0&&(Or|=s),ce===4&&Ns(e,It,vn,!1)),vi(e))}function by(e,n,s){if((jt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Ln(e,n),h=o?Db(e,n):$f(e,n,!0),f=o;do{if(h===0){Ia&&!o&&Ns(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!Nb(s)){h=$f(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=nl;var N=E.current.memoizedState.isDehydrated;if(N&&(xa(E,g).flags|=256),g=$f(E,g,!1),g!==2){if(Hf&&!N){E.errorRecoveryDisabledLanes|=f,Or|=f,h=4;break t}f=ln,ln=h,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){xa(e,0),Ns(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ns(o,n,vn,!ws);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Zu+300-Je(),10<h)){if(Ns(o,n,vn,!ws),ei(o,0,!0)!==0)break t;Qi=n,o.timeoutHandle=Wy(Ay.bind(null,o,s,ln,Wu,Gf,n,vn,Or,Ca,ws,f,"Throttled",-0,0),h);break t}Ay(o,s,ln,Wu,Gf,n,vn,Or,Ca,ws,f,null,-0,0)}}break}while(!0);vi(e)}function Ay(e,n,s,o,h,f,g,E,N,z,H,K,j,q){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jn},gy(n,f,K);var at=(f&62914560)===f?Zu-Je():(f&4194048)===f?vy-Je():0;if(at=d1(K,at),at!==null){Qi=f,e.cancelPendingCommit=at(Dy.bind(null,e,n,f,s,o,h,g,E,N,H,K,null,j,q)),Ns(e,f,g,!z);return}}Dy(e,n,f,s,o,h,g,E,N)}function Nb(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!mn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ns(e,n,s,o){n&=~Ff,n&=~Or,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-fe(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&or(e,s,n)}function tc(){return(jt&6)===0?(sl(0),!1):!0}function Xf(){if(wt!==null){if(Gt===0)var e=wt.return;else e=wt,Ui=Ar=null,hf(e),Ea=null,jo=0,e=wt;for(;e!==null;)ty(e.alternate,e),e=e.return;wt=null}}function xa(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,Xb(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Qi=0,Xf(),Wt=e,wt=s=Mi(e.current,null),It=n,Gt=0,_n=null,ws=!1,Ia=Ln(e,n),Hf=!1,Ca=vn=Ff=Or=Rs=ce=0,ln=nl=null,Gf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-fe(o),f=1<<h;n|=e[h],o&=~f}return Gi=n,Tu(),s}function Sy(e,n){bt=null,F.H=Yo,n===va||n===Nu?(n=jg(),Gt=3):n===Jh?(n=jg(),Gt=4):Gt=n===If?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,wt===null&&(ce=1,Hu(e,In(n,e.current)))}function wy(){var e=pn.current;return e===null?!0:(It&4194048)===It?Dn===null:(It&62914560)===It||(It&536870912)!==0?e===Dn:!1}function Ry(){var e=F.H;return F.H=Yo,e===null?Yo:e}function Iy(){var e=F.A;return F.A=Ib,e}function ec(){ce=4,ws||(It&4194048)!==It&&pn.current!==null||(Ia=!0),(Rs&134217727)===0&&(Or&134217727)===0||Wt===null||Ns(Wt,It,vn,!1)}function $f(e,n,s){var o=jt;jt|=2;var h=Ry(),f=Iy();(Wt!==e||It!==n)&&(Wu=null,xa(e,n)),n=!1;var g=ce;t:do try{if(Gt!==0&&wt!==null){var E=wt,N=_n;switch(Gt){case 8:Xf(),g=6;break t;case 3:case 2:case 9:case 6:pn.current===null&&(n=!0);var z=Gt;if(Gt=0,_n=null,Da(e,E,N,z),s&&Ia){g=0;break t}break;default:z=Gt,Gt=0,_n=null,Da(e,E,N,z)}}xb(),g=ce;break}catch(H){Sy(e,H)}while(!0);return n&&e.shellSuspendCounter++,Ui=Ar=null,jt=o,F.H=h,F.A=f,wt===null&&(Wt=null,It=0,Tu()),g}function xb(){for(;wt!==null;)Cy(wt)}function Db(e,n){var s=jt;jt|=2;var o=Ry(),h=Iy();Wt!==e||It!==n?(Wu=null,Ju=Je()+500,xa(e,n)):Ia=Ln(e,n);t:do try{if(Gt!==0&&wt!==null){n=wt;var f=_n;e:switch(Gt){case 1:Gt=0,_n=null,Da(e,n,f,1);break;case 2:case 9:if(Pg(f)){Gt=0,_n=null,Ny(n);break}n=function(){Gt!==2&&Gt!==9||Wt!==e||(Gt=7),vi(e)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:Pg(f)?(Gt=0,_n=null,Ny(n)):(Gt=0,_n=null,Da(e,n,f,7));break;case 5:var g=null;switch(wt.tag){case 26:g=wt.memoizedState;case 5:case 27:var E=wt;if(g?m_(g):E.stateNode.complete){Gt=0,_n=null;var N=E.sibling;if(N!==null)wt=N;else{var z=E.return;z!==null?(wt=z,nc(z)):wt=null}break e}}Gt=0,_n=null,Da(e,n,f,5);break;case 6:Gt=0,_n=null,Da(e,n,f,6);break;case 8:Xf(),ce=6;break t;default:throw Error(a(462))}}Ob();break}catch(H){Sy(e,H)}while(!0);return Ui=Ar=null,F.H=o,F.A=h,jt=s,wt!==null?0:(Wt=null,It=0,Tu(),ce)}function Ob(){for(;wt!==null&&!wh();)Cy(wt)}function Cy(e){var n=Jp(e.alternate,e,Gi);e.memoizedProps=e.pendingProps,n===null?nc(e):wt=n}function Ny(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Qp(s,n,n.pendingProps,n.type,void 0,It);break;case 11:n=Qp(s,n,n.pendingProps,n.type.render,n.ref,It);break;case 5:hf(n);default:ty(s,n),n=wt=Ig(n,Gi),n=Jp(s,n,Gi)}e.memoizedProps=e.pendingProps,n===null?nc(e):wt=n}function Da(e,n,s,o){Ui=Ar=null,hf(n),Ea=null,jo=0;var h=n.return;try{if(Eb(e,h,n,s,It)){ce=1,Hu(e,In(s,e.current)),wt=null;return}}catch(f){if(h!==null)throw wt=h,f;ce=1,Hu(e,In(s,e.current)),wt=null;return}n.flags&32768?(Mt||o===1?e=!0:Ia||(It&536870912)!==0?e=!1:(ws=e=!0,(o===2||o===9||o===3||o===6)&&(o=pn.current,o!==null&&o.tag===13&&(o.flags|=16384))),xy(n,e)):nc(n)}function nc(e){var n=e;do{if((n.flags&32768)!==0){xy(n,ws);return}e=n.return;var s=Ab(n.alternate,n,Gi);if(s!==null){wt=s;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=e}while(n!==null);ce===0&&(ce=5)}function xy(e,n){do{var s=Sb(e.alternate,e);if(s!==null){s.flags&=32767,wt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){wt=e;return}wt=e=s}while(e!==null);ce=6,wt=null}function Dy(e,n,s,o,h,f,g,E,N){e.cancelPendingCommit=null;do ic();while(Oe!==0);if((jt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Lh,Ch(e,s,f,g,E,N),e===Wt&&(wt=Wt=null,It=0),Na=n,Cs=e,Qi=s,Qf=f,Kf=h,Ey=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,kb(rs,function(){return ky(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=et.p,et.p=2,g=jt,jt|=4;try{wb(e,n,s)}finally{jt=g,et.p=h,F.T=o}}Oe=1,Oy(),My(),Vy()}}function Oy(){if(Oe===1){Oe=0;var e=Cs,n=Na,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=F.T,F.T=null;var o=et.p;et.p=2;var h=jt;jt|=4;try{fy(n,e);var f=ld,g=_g(e.containerInfo),E=f.focusedElem,N=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&yg(E.ownerDocument.documentElement,E)){if(N!==null&&Oh(E)){var z=N.start,H=N.end;if(H===void 0&&(H=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(H,E.value.length);else{var K=E.ownerDocument||document,j=K&&K.defaultView||window;if(j.getSelection){var q=j.getSelection(),at=E.textContent.length,ft=Math.min(N.start,at),Zt=N.end===void 0?ft:Math.min(N.end,at);!q.extend&&ft>Zt&&(g=Zt,Zt=ft,ft=g);var k=pg(E,ft),O=pg(E,Zt);if(k&&O&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var P=K.createRange();P.setStart(k.node,k.offset),q.removeAllRanges(),ft>Zt?(q.addRange(P),q.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),q.addRange(P))}}}}for(K=[],q=E;q=q.parentNode;)q.nodeType===1&&K.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Q=K[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}gc=!!od,ld=od=null}finally{jt=h,et.p=o,F.T=s}}e.current=n,Oe=2}}function My(){if(Oe===2){Oe=0;var e=Cs,n=Na,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=F.T,F.T=null;var o=et.p;et.p=2;var h=jt;jt|=4;try{oy(e,n.alternate,n)}finally{jt=h,et.p=o,F.T=s}}Oe=3}}function Vy(){if(Oe===4||Oe===3){Oe=0,Kl();var e=Cs,n=Na,s=Qi,o=Ey;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Oe=5:(Oe=0,Na=Cs=null,Uy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Is=null),Ni(s),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(kn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=et.p,et.p=2,F.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{F.T=n,et.p=h}}(Qi&3)!==0&&ic(),vi(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Yf?il++:(il=0,Yf=e):il=0,sl(0)}}function Uy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Po(n)))}function ic(){return Oy(),My(),Vy(),ky()}function ky(){if(Oe!==5)return!1;var e=Cs,n=Qf;Qf=0;var s=Ni(Qi),o=F.T,h=et.p;try{et.p=32>s?32:s,F.T=null,s=Kf,Kf=null;var f=Cs,g=Qi;if(Oe=0,Na=Cs=null,Qi=0,(jt&6)!==0)throw Error(a(331));var E=jt;if(jt|=4,yy(f.current),my(f,f.current,g,s),jt=E,sl(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(kn,f)}catch{}return!0}finally{et.p=h,F.T=o,Uy(e,n)}}function Ly(e,n,s){n=In(s,n),n=Rf(e.stateNode,n,2),e=Ts(e,n,2),e!==null&&(ar(e,2),vi(e))}function Qt(e,n,s){if(e.tag===3)Ly(e,e,s);else for(;n!==null;){if(n.tag===3){Ly(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Is===null||!Is.has(o))){e=In(s,e),s=Pp(2),o=Ts(n,s,2),o!==null&&(zp(s,o,n,e),ar(o,2),vi(o));break}}n=n.return}}function Zf(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new Cb;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Hf=!0,h.add(s),e=Mb.bind(null,e,n,s),n.then(e,e))}function Mb(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Wt===e&&(It&s)===s&&(ce===4||ce===3&&(It&62914560)===It&&300>Je()-Zu?(jt&2)===0&&xa(e,0):Ff|=s,Ca===It&&(Ca=0)),vi(e)}function Py(e,n){n===0&&(n=Wl()),e=Er(e,n),e!==null&&(ar(e,n),vi(e))}function Vb(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Py(e,s)}function Ub(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Py(e,s)}function kb(e,n){return De(e,n)}var sc=null,Oa=null,Jf=!1,rc=!1,Wf=!1,xs=0;function vi(e){e!==Oa&&e.next===null&&(Oa===null?sc=Oa=e:Oa=Oa.next=e),rc=!0,Jf||(Jf=!0,Pb())}function sl(e,n){if(!Wf&&rc){Wf=!0;do for(var s=!1,o=sc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-fe(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,qy(o,f))}else f=It,f=ei(o,o===Wt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Ln(o,f)||(s=!0,qy(o,f));o=o.next}while(s);Wf=!1}}function Lb(){zy()}function zy(){rc=Jf=!1;var e=0;xs!==0&&Yb()&&(e=xs);for(var n=Je(),s=null,o=sc;o!==null;){var h=o.next,f=jy(o,n);f===0?(o.next=null,s===null?sc=h:s.next=h,h===null&&(Oa=s)):(s=o,(e!==0||(f&3)!==0)&&(rc=!0)),o=h}Oe!==0&&Oe!==5||sl(e),xs!==0&&(xs=0)}function jy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-fe(f),E=1<<g,N=h[g];N===-1?((E&s)===0||(E&o)!==0)&&(h[g]=Ih(E,n)):N<=n&&(e.expiredLanes|=E),f&=~E}if(n=Wt,s=It,s=ei(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ss(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Ln(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&ss(o),Ni(s)){case 2:case 8:s=mo;break;case 32:s=rs;break;case 268435456:s=Yl;break;default:s=rs}return o=By.bind(null,e),s=De(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&ss(o),e.callbackPriority=2,e.callbackNode=null,2}function By(e,n){if(Oe!==0&&Oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(ic()&&e.callbackNode!==s)return null;var o=It;return o=ei(e,e===Wt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(by(e,o,n),jy(e,Je()),e.callbackNode!=null&&e.callbackNode===s?By.bind(null,e):null)}function qy(e,n){if(ic())return null;by(e,n,!0)}function Pb(){$b(function(){(jt&6)!==0?De(fo,Lb):zy()})}function td(){if(xs===0){var e=ya;e===0&&(e=Wn,Wn<<=1,(Wn&261888)===0&&(Wn=256)),xs=e}return xs}function Hy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:na(""+e)}function Fy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function zb(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Hy((h[Ve]||null).action),g=o.submitter;g&&(n=(n=g[Ve]||null)?Hy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new fi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(xs!==0){var N=g?Fy(h,g):new FormData(h);Ef(s,{pending:!0,data:N,method:h.method,action:f},null,N)}}else typeof f=="function"&&(E.preventDefault(),N=g?Fy(h,g):new FormData(h),Ef(s,{pending:!0,data:N,method:h.method,action:f},f,N))},currentTarget:h}]})}}for(var ed=0;ed<kh.length;ed++){var nd=kh[ed],jb=nd.toLowerCase(),Bb=nd[0].toUpperCase()+nd.slice(1);Gn(jb,"on"+Bb)}Gn(Tg,"onAnimationEnd"),Gn(bg,"onAnimationIteration"),Gn(Ag,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(ib,"onTransitionRun"),Gn(sb,"onTransitionStart"),Gn(rb,"onTransitionCancel"),Gn(Sg,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rl));function Gy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],N=E.instance,z=E.currentTarget;if(E=E.listener,N!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(H){Eu(H)}h.currentTarget=null,f=N}else for(g=0;g<o.length;g++){if(E=o[g],N=E.instance,z=E.currentTarget,E=E.listener,N!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(H){Eu(H)}h.currentTarget=null,f=N}}}}function Rt(e,n){var s=n[Zr];s===void 0&&(s=n[Zr]=new Set);var o=e+"__bubble";s.has(o)||(Qy(n,e,2,!1),s.add(o))}function id(e,n,s){var o=0;n&&(o|=4),Qy(s,e,o,n)}var ac="_reactListening"+Math.random().toString(36).slice(2);function sd(e){if(!e[ac]){e[ac]=!0,yo.forEach(function(s){s!=="selectionchange"&&(qb.has(s)||id(s,!1,e),id(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ac]||(n[ac]=!0,id("selectionchange",!1,n))}}function Qy(e,n,s,o){switch(T_(n)){case 2:var h=p1;break;case 8:h=y1;break;default:h=vd}s=h.bind(null,n,s,e),h=void 0,!fr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function rd(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var N=g.tag;if((N===3||N===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=ri(E),g===null)return;if(N=g.tag,N===5||N===6||N===26||N===27){o=f=g;continue t}E=E.parentNode}}o=o.return}hs(function(){var z=f,H=An(s),K=[];t:{var j=wg.get(e);if(j!==void 0){var q=fi,at=e;switch(e){case"keypress":if(mr(s)===0)break t;case"keydown":case"keyup":q=yu;break;case"focusin":at="focus",q=pr;break;case"focusout":at="blur",q=pr;break;case"beforeblur":case"afterblur":q=pr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=lu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Tg:case bg:case Ag:q=cu;break;case Sg:q=T;break;case"scroll":case"scrollend":q=No;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=hu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Oi;break;case"toggle":case"beforetoggle":q=Tt}var ft=(n&4)!==0,Zt=!ft&&(e==="scroll"||e==="scrollend"),k=ft?j!==null?j+"Capture":null:j;ft=[];for(var O=z,P;O!==null;){var Q=O;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||k===null||(Q=Bn(O,k),Q!=null&&ft.push(al(O,Q,P))),Zt)break;O=O.return}0<ft.length&&(j=new q(j,at,null,s,H),K.push({event:j,listeners:ft}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&s!==Ro&&(at=s.relatedTarget||s.fromElement)&&(ri(at)||at[ii]))break t;if((q||j)&&(j=H.window===H?H:(j=H.ownerDocument)?j.defaultView||j.parentWindow:window,q?(at=s.relatedTarget||s.toElement,q=z,at=at?ri(at):null,at!==null&&(Zt=c(at),ft=at.tag,at!==Zt||ft!==5&&ft!==27&&ft!==6)&&(at=null)):(q=null,at=z),q!==at)){if(ft=xo,Q="onMouseLeave",k="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(ft=Oi,Q="onPointerLeave",k="onPointerEnter",O="pointer"),Zt=q==null?j:fn(q),P=at==null?j:fn(at),j=new ft(Q,O+"leave",q,s,H),j.target=Zt,j.relatedTarget=P,Q=null,ri(H)===z&&(ft=new ft(k,O+"enter",at,s,H),ft.target=P,ft.relatedTarget=Zt,Q=ft),Zt=Q,q&&at)e:{for(ft=Hb,k=q,O=at,P=0,Q=k;Q;Q=ft(Q))P++;Q=0;for(var ut=O;ut;ut=ft(ut))Q++;for(;0<P-Q;)k=ft(k),P--;for(;0<Q-P;)O=ft(O),Q--;for(;P--;){if(k===O||O!==null&&k===O.alternate){ft=k;break e}k=ft(k),O=ft(O)}ft=null}else ft=null;q!==null&&Ky(K,j,q,ft,!1),at!==null&&Zt!==null&&Ky(K,Zt,at,ft,!0)}}t:{if(j=z?fn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Lt=cg;else if(lg(j))if(hg)Lt=tb;else{Lt=JT;var ot=ZT}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ea(z.elementType)&&(Lt=cg):Lt=WT;if(Lt&&(Lt=Lt(e,z))){ug(K,Lt,s,H);break t}ot&&ot(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Ao(j,"number",j.value)}switch(ot=z?fn(z):window,e){case"focusin":(lg(ot)||ot.contentEditable==="true")&&(ua=ot,Mh=z,Uo=null);break;case"focusout":Uo=Mh=ua=null;break;case"mousedown":Vh=!0;break;case"contextmenu":case"mouseup":case"dragend":Vh=!1,vg(K,s,H);break;case"selectionchange":if(nb)break;case"keydown":case"keyup":vg(K,s,H)}var St;if(zt)t:{switch(e){case"compositionstart":var Ct="onCompositionStart";break t;case"compositionend":Ct="onCompositionEnd";break t;case"compositionupdate":Ct="onCompositionUpdate";break t}Ct=void 0}else la?yr(e,s)&&(Ct="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ct="onCompositionStart");Ct&&(gi&&s.locale!=="ko"&&(la||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&la&&(St=Co()):(hi=H,Io="value"in hi?hi.value:hi.textContent,la=!0)),ot=oc(z,Ct),0<ot.length&&(Ct=new mi(Ct,e,null,s,H),K.push({event:Ct,listeners:ot}),St?Ct.data=St:(St=oa(s),St!==null&&(Ct.data=St)))),(St=wn?KT(e,s):YT(e,s))&&(Ct=oc(z,"onBeforeInput"),0<Ct.length&&(ot=new mi("onBeforeInput","beforeinput",null,s,H),K.push({event:ot,listeners:Ct}),ot.data=St)),zb(K,e,z,s,H)}Gy(K,n)})}function al(e,n,s){return{instance:e,listener:n,currentTarget:s}}function oc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Bn(e,s),h!=null&&o.unshift(al(e,h,f)),h=Bn(e,n),h!=null&&o.push(al(e,h,f))),e.tag===3)return o;e=e.return}return[]}function Hb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ky(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,N=E.alternate,z=E.stateNode;if(E=E.tag,N!==null&&N===o)break;E!==5&&E!==26&&E!==27||z===null||(N=z,h?(z=Bn(s,f),z!=null&&g.unshift(al(s,z,N))):h||(z=Bn(s,f),z!=null&&g.push(al(s,z,N)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var Fb=/\r\n?/g,Gb=/\u0000|\uFFFD/g;function Yy(e){return(typeof e=="string"?e:""+e).replace(Fb,`
`).replace(Gb,"")}function Xy(e,n){return n=Yy(n),Yy(e)===n}function $t(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||sn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&sn(e,""+o);break;case"className":dn(e,"class",o);break;case"tabIndex":dn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(e,s,o);break;case"style":wo(e,o,f);break;case"data":if(n!=="object"){dn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=na(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&$t(e,n,"name",h.name,h,null),$t(e,n,"formEncType",h.formEncType,h,null),$t(e,n,"formMethod",h.formMethod,h,null),$t(e,n,"formTarget",h.formTarget,h,null)):($t(e,n,"encType",h.encType,h,null),$t(e,n,"method",h.method,h,null),$t(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=na(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=jn);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=na(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Rt("beforetoggle",e),Rt("toggle",e),Wr(e,"popover",o);break;case"xlinkActuate":Te(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Te(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Te(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Te(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Te(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Te(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Te(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Te(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Te(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Wr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=ou.get(s)||s,Wr(e,s,o))}}function ad(e,n,s,o,h,f){switch(s){case"style":wo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?sn(e,o):(typeof o=="number"||typeof o=="bigint")&&sn(e,""+o);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_o.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Ve]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):Wr(e,s,o)}}}function He(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",e),Rt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$t(e,n,f,g,s,null)}}h&&$t(e,n,"srcSet",s.srcSet,s,null),o&&$t(e,n,"src",s.src,s,null);return;case"input":Rt("invalid",e);var E=f=g=h=null,N=null,z=null;for(o in s)if(s.hasOwnProperty(o)){var H=s[o];if(H!=null)switch(o){case"name":h=H;break;case"type":g=H;break;case"checked":N=H;break;case"defaultChecked":z=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:$t(e,n,o,H,s,null)}}su(e,f,E,N,z,g,h,!1);return;case"select":Rt("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:$t(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!o,n!=null?os(e,!!o,n,!1):s!=null&&os(e,!!o,s,!0);return;case"textarea":Rt("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:$t(e,n,g,E,s,null)}ls(e,o,h,f);return;case"option":for(N in s)s.hasOwnProperty(N)&&(o=s[N],o!=null)&&(N==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":$t(e,n,N,o,s,null));return;case"dialog":Rt("beforetoggle",e),Rt("toggle",e),Rt("cancel",e),Rt("close",e);break;case"iframe":case"object":Rt("load",e);break;case"video":case"audio":for(o=0;o<rl.length;o++)Rt(rl[o],e);break;case"image":Rt("error",e),Rt("load",e);break;case"details":Rt("toggle",e);break;case"embed":case"source":case"link":Rt("error",e),Rt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(o=s[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$t(e,n,z,o,s,null)}return;default:if(ea(n)){for(H in s)s.hasOwnProperty(H)&&(o=s[H],o!==void 0&&ad(e,n,H,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&$t(e,n,E,o,s,null))}function Qb(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,N=null,z=null,H=null;for(q in s){var K=s[q];if(s.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":N=K;default:o.hasOwnProperty(q)||$t(e,n,q,null,o,K)}}for(var j in o){var q=o[j];if(K=s[j],o.hasOwnProperty(j)&&(q!=null||K!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":H=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==K&&$t(e,n,j,q,o,K)}}ta(e,g,E,N,z,H,f,h);return;case"select":q=g=E=j=null;for(f in s)if(N=s[f],s.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":q=N;default:o.hasOwnProperty(f)||$t(e,n,f,null,o,N)}for(h in o)if(f=o[h],N=s[h],o.hasOwnProperty(h)&&(f!=null||N!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==N&&$t(e,n,h,f,o,N)}n=E,s=g,o=q,j!=null?os(e,!!s,j,!1):!!o!=!!s&&(n!=null?os(e,!!s,n,!0):os(e,!!s,s?[]:"",!1));return;case"textarea":q=j=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:$t(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&$t(e,n,g,h,o,f)}ru(e,j,q);return;case"option":for(var at in s)j=s[at],s.hasOwnProperty(at)&&j!=null&&!o.hasOwnProperty(at)&&(at==="selected"?e.selected=!1:$t(e,n,at,null,o,j));for(N in o)j=o[N],q=s[N],o.hasOwnProperty(N)&&j!==q&&(j!=null||q!=null)&&(N==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":$t(e,n,N,j,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in s)j=s[ft],s.hasOwnProperty(ft)&&j!=null&&!o.hasOwnProperty(ft)&&$t(e,n,ft,null,o,j);for(z in o)if(j=o[z],q=s[z],o.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:$t(e,n,z,j,o,q)}return;default:if(ea(n)){for(var Zt in s)j=s[Zt],s.hasOwnProperty(Zt)&&j!==void 0&&!o.hasOwnProperty(Zt)&&ad(e,n,Zt,void 0,o,j);for(H in o)j=o[H],q=s[H],!o.hasOwnProperty(H)||j===q||j===void 0&&q===void 0||ad(e,n,H,j,o,q);return}}for(var k in s)j=s[k],s.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&$t(e,n,k,null,o,j);for(K in o)j=o[K],q=s[K],!o.hasOwnProperty(K)||j===q||j==null&&q==null||$t(e,n,K,j,o,q)}function $y(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Kb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&$y(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var N=s[o],z=N.startTime;if(z>E)break;var H=N.transferSize,K=N.initiatorType;H&&$y(K)&&(N=N.responseEnd,g+=H*(N<E?1:(E-z)/(N-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var od=null,ld=null;function lc(e){return e.nodeType===9?e:e.ownerDocument}function Zy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function ud(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var cd=null;function Yb(){var e=window.event;return e&&e.type==="popstate"?e===cd?!1:(cd=e,!0):(cd=null,!1)}var Wy=typeof setTimeout=="function"?setTimeout:void 0,Xb=typeof clearTimeout=="function"?clearTimeout:void 0,t_=typeof Promise=="function"?Promise:void 0,$b=typeof queueMicrotask=="function"?queueMicrotask:typeof t_<"u"?function(e){return t_.resolve(null).then(e).catch(Zb)}:Wy;function Zb(e){setTimeout(function(){throw e})}function Ds(e){return e==="head"}function e_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),ka(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")ol(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,ol(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[si]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&ol(e.ownerDocument.body);s=h}while(s);ka(n)}function n_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function hd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":hd(s),Jr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function Jb(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[si])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=On(e.nextSibling),e===null)break}return null}function Wb(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=On(e.nextSibling),e===null))return null;return e}function i_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=On(e.nextSibling),e===null))return null;return e}function fd(e){return e.data==="$?"||e.data==="$~"}function dd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function t1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function On(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var md=null;function s_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return On(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function r_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function a_(e,n,s){switch(n=lc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ol(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Jr(e)}var Mn=new Map,o_=new Set;function uc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ki=et.d;et.d={f:e1,r:n1,D:i1,C:s1,L:r1,m:a1,X:l1,S:o1,M:u1};function e1(){var e=Ki.f(),n=tc();return e||n}function n1(e){var n=bn(e);n!==null&&n.tag===5&&n.type==="form"?Sp(n):Ki.r(e)}var Ma=typeof document>"u"?null:document;function l_(e,n,s){var o=Ma;if(o&&typeof n=="string"&&n){var h=nn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),o_.has(h)||(o_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),He(n,"link",e),Ee(n),o.head.appendChild(n)))}}function i1(e){Ki.D(e),l_("dns-prefetch",e,null)}function s1(e,n){Ki.C(e,n),l_("preconnect",e,n)}function r1(e,n,s){Ki.L(e,n,s);var o=Ma;if(o&&e&&n){var h='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+nn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+nn(s.imageSizes)+'"]')):h+='[href="'+nn(e)+'"]';var f=h;switch(n){case"style":f=Va(e);break;case"script":f=Ua(e)}Mn.has(f)||(e=R({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Mn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(ll(f))||n==="script"&&o.querySelector(ul(f))||(n=o.createElement("link"),He(n,"link",e),Ee(n),o.head.appendChild(n)))}}function a1(e,n){Ki.m(e,n);var s=Ma;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+nn(o)+'"][href="'+nn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ua(e)}if(!Mn.has(f)&&(e=R({rel:"modulepreload",href:e},n),Mn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ul(f)))return}o=s.createElement("link"),He(o,"link",e),Ee(o),s.head.appendChild(o)}}}function o1(e,n,s){Ki.S(e,n,s);var o=Ma;if(o&&e){var h=ai(o).hoistableStyles,f=Va(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(ll(f)))E.loading=5;else{e=R({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Mn.get(f))&&gd(e,s);var N=g=o.createElement("link");Ee(N),He(N,"link",e),N._p=new Promise(function(z,H){N.onload=z,N.onerror=H}),N.addEventListener("load",function(){E.loading|=1}),N.addEventListener("error",function(){E.loading|=2}),E.loading|=4,cc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function l1(e,n){Ki.X(e,n);var s=Ma;if(s&&e){var o=ai(s).hoistableScripts,h=Ua(e),f=o.get(h);f||(f=s.querySelector(ul(h)),f||(e=R({src:e,async:!0},n),(n=Mn.get(h))&&pd(e,n),f=s.createElement("script"),Ee(f),He(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function u1(e,n){Ki.M(e,n);var s=Ma;if(s&&e){var o=ai(s).hoistableScripts,h=Ua(e),f=o.get(h);f||(f=s.querySelector(ul(h)),f||(e=R({src:e,async:!0,type:"module"},n),(n=Mn.get(h))&&pd(e,n),f=s.createElement("script"),Ee(f),He(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function u_(e,n,s,o){var h=(h=At.current)?uc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Va(s.href),s=ai(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Va(s.href);var f=ai(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(ll(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Mn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Mn.set(e,s),f||c1(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ua(s),s=ai(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Va(e){return'href="'+nn(e)+'"'}function ll(e){return'link[rel="stylesheet"]['+e+"]"}function c_(e){return R({},e,{"data-precedence":e.precedence,precedence:null})}function c1(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),He(n,"link",s),Ee(n),e.head.appendChild(n))}function Ua(e){return'[src="'+nn(e)+'"]'}function ul(e){return"script[async]"+e}function h_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+nn(s.href)+'"]');if(o)return n.instance=o,Ee(o),o;var h=R({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ee(o),He(o,"style",h),cc(o,s.precedence,e),n.instance=o;case"stylesheet":h=Va(s.href);var f=e.querySelector(ll(h));if(f)return n.state.loading|=4,n.instance=f,Ee(f),f;o=c_(s),(h=Mn.get(h))&&gd(o,h),f=(e.ownerDocument||e).createElement("link"),Ee(f);var g=f;return g._p=new Promise(function(E,N){g.onload=E,g.onerror=N}),He(f,"link",o),n.state.loading|=4,cc(f,s.precedence,e),n.instance=f;case"script":return f=Ua(s.src),(h=e.querySelector(ul(f)))?(n.instance=h,Ee(h),h):(o=s,(h=Mn.get(f))&&(o=R({},s),pd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ee(h),He(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,cc(o,s.precedence,e));return n.instance}function cc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function gd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function pd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var hc=null;function f_(e,n,s){if(hc===null){var o=new Map,h=hc=new Map;h.set(s,o)}else h=hc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[si]||f[ve]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function d_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function h1(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function m_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function f1(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Va(o.href),f=n.querySelector(ll(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=fc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Ee(f);return}f=n.ownerDocument||n,o=c_(o),(h=Mn.get(h))&&gd(o,h),f=f.createElement("link"),Ee(f);var g=f;g._p=new Promise(function(E,N){g.onload=E,g.onerror=N}),He(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=fc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var yd=0;function d1(e,n){return e.stylesheets&&e.count===0&&mc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&mc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&yd===0&&(yd=62500*Kb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&mc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>yd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function fc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)mc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var dc=null;function mc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,dc=new Map,n.forEach(m1,e),dc=null,fc.call(e))}function m1(e,n){if(!(n.state.loading&4)){var s=dc.get(e);if(s)var o=s.get(null);else{s=new Map,dc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=fc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var cl={$$typeof:dt,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function g1(e,n,s,o,h,f,g,E,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function g_(e,n,s,o,h,f,g,E,N,z,H,K){return e=new g1(e,n,s,g,N,z,H,K,E),n=1,f===!0&&(n|=24),f=gn(3,null,null,n),e.current=f,f.stateNode=e,n=Xh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},Wh(f),e}function p_(e){return e?(e=fa,e):fa}function y_(e,n,s,o,h,f){h=p_(h),o.context===null?o.context=h:o.pendingContext=h,o=Es(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Ts(e,o,n),s!==null&&(un(s,e,n),qo(s,e,n))}function __(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function _d(e,n){__(e,n),(e=e.alternate)&&__(e,n)}function v_(e){if(e.tag===13||e.tag===31){var n=Er(e,67108864);n!==null&&un(n,e,67108864),_d(e,67108864)}}function E_(e){if(e.tag===13||e.tag===31){var n=En();n=lr(n);var s=Er(e,n);s!==null&&un(s,e,n),_d(e,n)}}var gc=!0;function p1(e,n,s,o){var h=F.T;F.T=null;var f=et.p;try{et.p=2,vd(e,n,s,o)}finally{et.p=f,F.T=h}}function y1(e,n,s,o){var h=F.T;F.T=null;var f=et.p;try{et.p=8,vd(e,n,s,o)}finally{et.p=f,F.T=h}}function vd(e,n,s,o){if(gc){var h=Ed(o);if(h===null)rd(e,n,o,pc,s),b_(e,o);else if(v1(h,e,n,s,o))o.stopPropagation();else if(b_(e,o),n&4&&-1<_1.indexOf(e)){for(;h!==null;){var f=bn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ti(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var N=1<<31-fe(g);E.entanglements[1]|=N,g&=~N}vi(f),(jt&6)===0&&(Ju=Je()+500,sl(0))}}break;case 31:case 13:E=Er(f,2),E!==null&&un(E,f,2),tc(),_d(f,2)}if(f=Ed(o),f===null&&rd(e,n,o,pc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else rd(e,n,o,null,s)}}function Ed(e){return e=An(e),Td(e)}var pc=null;function Td(e){if(pc=null,e=ri(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return pc=e,null}function T_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sr()){case fo:return 2;case mo:return 8;case rs:case Rh:return 32;case Yl:return 268435456;default:return 32}default:return 32}}var bd=!1,Os=null,Ms=null,Vs=null,hl=new Map,fl=new Map,Us=[],_1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function b_(e,n){switch(e){case"focusin":case"focusout":Os=null;break;case"dragenter":case"dragleave":Ms=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":hl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(n.pointerId)}}function dl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=bn(n),n!==null&&v_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function v1(e,n,s,o,h){switch(n){case"focusin":return Os=dl(Os,e,n,s,o,h),!0;case"dragenter":return Ms=dl(Ms,e,n,s,o,h),!0;case"mouseover":return Vs=dl(Vs,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return hl.set(f,dl(hl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,fl.set(f,dl(fl.get(f)||null,e,n,s,o,h)),!0}return!1}function A_(e){var n=ri(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Pn(e.priority,function(){E_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Pn(e.priority,function(){E_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Ed(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Ro=o,s.target.dispatchEvent(o),Ro=null}else return n=bn(s),n!==null&&v_(n),e.blockedOn=s,!1;n.shift()}return!0}function S_(e,n,s){yc(e)&&s.delete(n)}function E1(){bd=!1,Os!==null&&yc(Os)&&(Os=null),Ms!==null&&yc(Ms)&&(Ms=null),Vs!==null&&yc(Vs)&&(Vs=null),hl.forEach(S_),fl.forEach(S_)}function _c(e,n){e.blockedOn===n&&(e.blockedOn=null,bd||(bd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,E1)))}var vc=null;function w_(e){vc!==e&&(vc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){vc===e&&(vc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Td(o||s)===null)continue;break}var f=bn(s);f!==null&&(e.splice(n,3),n-=3,Ef(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function ka(e){function n(N){return _c(N,e)}Os!==null&&_c(Os,e),Ms!==null&&_c(Ms,e),Vs!==null&&_c(Vs,e),hl.forEach(n),fl.forEach(n);for(var s=0;s<Us.length;s++){var o=Us[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Us.length&&(s=Us[0],s.blockedOn===null);)A_(s),s.blockedOn===null&&Us.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[Ve]||null;if(typeof f=="function")g||w_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Ve]||null)E=g.formAction;else if(Td(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),w_(s)}}}function R_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ad(e){this._internalRoot=e}Ec.prototype.render=Ad.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=En();y_(s,o,e,n,null,null)},Ec.prototype.unmount=Ad.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;y_(e.current,2,null,e,null,null),tc(),n[ii]=null}};function Ec(e){this._internalRoot=e}Ec.prototype.unstable_scheduleHydration=function(e){if(e){var n=tu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Us.length&&n!==0&&n<Us[s].priority;s++);Us.splice(s,0,e),s===0&&A_(e)}};var I_=t.version;if(I_!=="19.2.3")throw Error(a(527,I_,"19.2.3"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=v(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var T1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tc.isDisabled&&Tc.supportsFiber)try{kn=Tc.inject(T1),Pe=Tc}catch{}}return gl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=Vp,f=Up,g=kp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=g_(e,1,!1,null,null,s,o,null,h,f,g,R_),e[ii]=n.current,sd(e),new Ad(n)},gl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=Vp,g=Up,E=kp,N=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(N=s.formState)),n=g_(e,1,!0,n,s??null,o,h,N,f,g,E,R_),n.context=p_(null),s=n.current,o=En(),o=lr(o),h=Es(o),h.callback=null,Ts(s,h,o),s=o,n.current.lanes=s,ar(n,s),vi(n),e[ii]=n.current,sd(e),new Ec(n)},gl.version="19.2.3",gl}var L_;function D1(){if(L_)return Rd.exports;L_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Rd.exports=x1(),Rd.exports}var O1=D1();const M1=()=>{};var P_={};const E0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},V1=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},T0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,y=l+2<r.length,v=y?r[l+2]:0,b=c>>2,R=(c&3)<<4|p>>4;let U=(p&15)<<2|v>>6,G=v&63;y||(G=64,d||(U=64)),a.push(i[b],i[R],i[U],i[G])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(E0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):V1(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const v=l<r.length?i[r.charAt(l)]:64;++l;const R=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||v==null||R==null)throw new U1;const U=c<<2|p>>4;if(a.push(U),v!==64){const G=p<<4&240|v>>2;if(a.push(G),R!==64){const J=v<<6&192|R;a.push(J)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class U1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const k1=function(r){const t=E0(r);return T0.encodeByteArray(t,!0)},Bc=function(r){return k1(r).replace(/\./g,"")},b0=function(r){try{return T0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function L1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const P1=()=>L1().__FIREBASE_DEFAULTS__,z1=()=>{if(typeof process>"u"||typeof P_>"u")return;const r=P_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},j1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&b0(r[1]);return t&&JSON.parse(t)},oh=()=>{try{return M1()||P1()||z1()||j1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},A0=r=>oh()?.emulatorHosts?.[r],B1=r=>{const t=A0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},S0=()=>oh()?.config,w0=r=>oh()?.[`_${r}`];class q1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function eo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function R0(r){return(await fetch(r,{credentials:"include"})).ok}function H1(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Bc(JSON.stringify(i)),Bc(JSON.stringify(d)),""].join(".")}const El={};function F1(){const r={prod:[],emulator:[]};for(const t of Object.keys(El))El[t]?r.emulator.push(t):r.prod.push(t);return r}function G1(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let z_=!1;function I0(r,t){if(typeof window>"u"||typeof document>"u"||!eo(window.location.host)||El[r]===t||El[r]||z_)return;El[r]=t;function i(U){return`__firebase__banner__${U}`}const a="__firebase__banner",c=F1().prod.length>0;function d(){const U=document.getElementById(a);U&&U.remove()}function p(U){U.style.display="flex",U.style.background="#7faaf0",U.style.position="fixed",U.style.bottom="5px",U.style.left="5px",U.style.padding=".5em",U.style.borderRadius="5px",U.style.alignItems="center"}function y(U,G){U.setAttribute("width","24"),U.setAttribute("id",G),U.setAttribute("height","24"),U.setAttribute("viewBox","0 0 24 24"),U.setAttribute("fill","none"),U.style.marginLeft="-6px"}function v(){const U=document.createElement("span");return U.style.cursor="pointer",U.style.marginLeft="16px",U.style.fontSize="24px",U.innerHTML=" &times;",U.onclick=()=>{z_=!0,d()},U}function b(U,G){U.setAttribute("id",G),U.innerText="Learn more",U.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",U.setAttribute("target","__blank"),U.style.paddingLeft="5px",U.style.textDecoration="underline"}function R(){const U=G1(a),G=i("text"),J=document.getElementById(G)||document.createElement("span"),W=i("learnmore"),Z=document.getElementById(W)||document.createElement("a"),lt=i("preprendIcon"),_t=document.getElementById(lt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(U.created){const dt=U.element;p(dt),b(Z,W);const Bt=v();y(_t,lt),dt.append(_t,J,Z,Bt),document.body.appendChild(dt)}c?(J.innerText="Preview backend disconnected.",_t.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_t.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",R):R()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Q1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function K1(){const r=oh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Y1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function X1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function $1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Z1(){const r=Ze();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function J1(){return!K1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function W1(){try{return typeof indexedDB=="object"}catch{return!1}}function tA(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const eA="FirebaseError";class is extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=eA,Object.setPrototypeOf(this,is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kl.prototype.create)}}class kl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?nA(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new is(l,p,a)}}function nA(r,t){return r.replace(iA,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const iA=/\{\$([^}]+)}/g;function sA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Pr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(j_(c)&&j_(d)){if(!Pr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function j_(r){return r!==null&&typeof r=="object"}function Ll(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function rA(r,t){const i=new aA(r,t);return i.subscribe.bind(i)}class aA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");oA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=xd),l.error===void 0&&(l.error=xd),l.complete===void 0&&(l.complete=xd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oA(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function xd(){}function hn(r){return r&&r._delegate?r._delegate:r}class zr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Mr="[DEFAULT]";class lA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new q1;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(cA(t))try{this.getOrInitializeService({instanceIdentifier:Mr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Mr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Mr){return this.instances.has(t)}getOptions(t=Mr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:uA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Mr){return this.component?this.component.multipleInstances?t:Mr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uA(r){return r===Mr?void 0:r}function cA(r){return r.instantiationMode==="EAGER"}class hA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new lA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Nt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Nt||(Nt={}));const fA={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},dA=Nt.INFO,mA={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},gA=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=mA[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class _m{constructor(t){this.name=t,this._logLevel=dA,this._logHandler=gA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?fA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}const pA=(r,t)=>t.some(i=>r instanceof i);let B_,q_;function yA(){return B_||(B_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _A(){return q_||(q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const C0=new WeakMap,Fd=new WeakMap,N0=new WeakMap,Dd=new WeakMap,vm=new WeakMap;function vA(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Hs(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&C0.set(i,r)}).catch(()=>{}),vm.set(t,r),t}function EA(r){if(Fd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Fd.set(r,t)}let Gd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Fd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||N0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Hs(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function TA(r){Gd=r(Gd)}function bA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Od(this),t,...i);return N0.set(a,t.sort?t.sort():[t]),Hs(a)}:_A().includes(r)?function(...t){return r.apply(Od(this),t),Hs(C0.get(this))}:function(...t){return Hs(r.apply(Od(this),t))}}function AA(r){return typeof r=="function"?bA(r):(r instanceof IDBTransaction&&EA(r),pA(r,yA())?new Proxy(r,Gd):r)}function Hs(r){if(r instanceof IDBRequest)return vA(r);if(Dd.has(r))return Dd.get(r);const t=AA(r);return t!==r&&(Dd.set(r,t),vm.set(t,r)),t}const Od=r=>vm.get(r);function SA(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=Hs(d);return a&&d.addEventListener("upgradeneeded",y=>{a(Hs(d.result),y.oldVersion,y.newVersion,Hs(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const wA=["get","getKey","getAll","getAllKeys","count"],RA=["put","add","delete","clear"],Md=new Map;function H_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Md.get(t))return Md.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=RA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||wA.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let v=y.store;return a&&(v=v.index(p.shift())),(await Promise.all([v[i](...p),l&&y.done]))[0]};return Md.set(t,c),c}TA(r=>({...r,get:(t,i,a)=>H_(t,i)||r.get(t,i,a),has:(t,i)=>!!H_(t,i)||r.has(t,i)}));class IA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(CA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function CA(r){return r.getComponent()?.type==="VERSION"}const Qd="@firebase/app",F_="0.14.6";const Ji=new _m("@firebase/app"),NA="@firebase/app-compat",xA="@firebase/analytics-compat",DA="@firebase/analytics",OA="@firebase/app-check-compat",MA="@firebase/app-check",VA="@firebase/auth",UA="@firebase/auth-compat",kA="@firebase/database",LA="@firebase/data-connect",PA="@firebase/database-compat",zA="@firebase/functions",jA="@firebase/functions-compat",BA="@firebase/installations",qA="@firebase/installations-compat",HA="@firebase/messaging",FA="@firebase/messaging-compat",GA="@firebase/performance",QA="@firebase/performance-compat",KA="@firebase/remote-config",YA="@firebase/remote-config-compat",XA="@firebase/storage",$A="@firebase/storage-compat",ZA="@firebase/firestore",JA="@firebase/ai",WA="@firebase/firestore-compat",tS="firebase",eS="12.6.0";const Kd="[DEFAULT]",nS={[Qd]:"fire-core",[NA]:"fire-core-compat",[DA]:"fire-analytics",[xA]:"fire-analytics-compat",[MA]:"fire-app-check",[OA]:"fire-app-check-compat",[VA]:"fire-auth",[UA]:"fire-auth-compat",[kA]:"fire-rtdb",[LA]:"fire-data-connect",[PA]:"fire-rtdb-compat",[zA]:"fire-fn",[jA]:"fire-fn-compat",[BA]:"fire-iid",[qA]:"fire-iid-compat",[HA]:"fire-fcm",[FA]:"fire-fcm-compat",[GA]:"fire-perf",[QA]:"fire-perf-compat",[KA]:"fire-rc",[YA]:"fire-rc-compat",[XA]:"fire-gcs",[$A]:"fire-gcs-compat",[ZA]:"fire-fst",[WA]:"fire-fst-compat",[JA]:"fire-vertex","fire-js":"fire-js",[tS]:"fire-js-all"};const qc=new Map,iS=new Map,Yd=new Map;function G_(r,t){try{r.container.addComponent(t)}catch(i){Ji.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Ya(r){const t=r.name;if(Yd.has(t))return Ji.debug(`There were multiple attempts to register component ${t}.`),!1;Yd.set(t,r);for(const i of qc.values())G_(i,r);for(const i of iS.values())G_(i,r);return!0}function Em(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Yn(r){return r==null?!1:r.settings!==void 0}const sS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fs=new kl("app","Firebase",sS);class rS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new zr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Fs.create("app-deleted",{appName:this._name})}}const no=eS;function x0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Kd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Fs.create("bad-app-name",{appName:String(l)});if(i||(i=S0()),!i)throw Fs.create("no-options");const c=qc.get(l);if(c){if(Pr(i,c.options)&&Pr(a,c.config))return c;throw Fs.create("duplicate-app",{appName:l})}const d=new hA(l);for(const y of Yd.values())d.addComponent(y);const p=new rS(i,a,d);return qc.set(l,p),p}function D0(r=Kd){const t=qc.get(r);if(!t&&r===Kd&&S0())return x0();if(!t)throw Fs.create("no-app",{appName:r});return t}function Gs(r,t,i){let a=nS[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ji.warn(d.join(" "));return}Ya(new zr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const aS="firebase-heartbeat-database",oS=1,Rl="firebase-heartbeat-store";let Vd=null;function O0(){return Vd||(Vd=SA(aS,oS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Rl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Fs.create("idb-open",{originalErrorMessage:r.message})})),Vd}async function lS(r){try{const i=(await O0()).transaction(Rl),a=await i.objectStore(Rl).get(M0(r));return await i.done,a}catch(t){if(t instanceof is)Ji.warn(t.message);else{const i=Fs.create("idb-get",{originalErrorMessage:t?.message});Ji.warn(i.message)}}}async function Q_(r,t){try{const a=(await O0()).transaction(Rl,"readwrite");await a.objectStore(Rl).put(t,M0(r)),await a.done}catch(i){if(i instanceof is)Ji.warn(i.message);else{const a=Fs.create("idb-set",{originalErrorMessage:i?.message});Ji.warn(a.message)}}}function M0(r){return`${r.name}!${r.options.appId}`}const uS=1024,cS=30;class hS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new dS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=K_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>cS){const l=mS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ji.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=K_(),{heartbeatsToSend:i,unsentEntries:a}=fS(this._heartbeatsCache.heartbeats),l=Bc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ji.warn(t),""}}}function K_(){return new Date().toISOString().substring(0,10)}function fS(r,t=uS){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),Y_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Y_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class dS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return W1()?tA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await lS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Q_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Q_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Y_(r){return Bc(JSON.stringify({version:2,heartbeats:r})).length}function mS(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function gS(r){Ya(new zr("platform-logger",t=>new IA(t),"PRIVATE")),Ya(new zr("heartbeat",t=>new hS(t),"PRIVATE")),Gs(Qd,F_,r),Gs(Qd,F_,"esm2020"),Gs("fire-js","")}gS("");var pS="firebase",yS="12.7.0";Gs(pS,yS,"app");var X_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Qs,V0;(function(){var r;function t(S,A){function w(){}w.prototype=A.prototype,S.F=A.prototype,S.prototype=new w,S.prototype.constructor=S,S.D=function(D,x,V){for(var I=Array(arguments.length-2),Kt=2;Kt<arguments.length;Kt++)I[Kt-2]=arguments[Kt];return A.prototype[x].apply(D,I)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(S,A,w){w||(w=0);const D=Array(16);if(typeof A=="string")for(var x=0;x<16;++x)D[x]=A.charCodeAt(w++)|A.charCodeAt(w++)<<8|A.charCodeAt(w++)<<16|A.charCodeAt(w++)<<24;else for(x=0;x<16;++x)D[x]=A[w++]|A[w++]<<8|A[w++]<<16|A[w++]<<24;A=S.g[0],w=S.g[1],x=S.g[2];let V=S.g[3],I;I=A+(V^w&(x^V))+D[0]+3614090360&4294967295,A=w+(I<<7&4294967295|I>>>25),I=V+(x^A&(w^x))+D[1]+3905402710&4294967295,V=A+(I<<12&4294967295|I>>>20),I=x+(w^V&(A^w))+D[2]+606105819&4294967295,x=V+(I<<17&4294967295|I>>>15),I=w+(A^x&(V^A))+D[3]+3250441966&4294967295,w=x+(I<<22&4294967295|I>>>10),I=A+(V^w&(x^V))+D[4]+4118548399&4294967295,A=w+(I<<7&4294967295|I>>>25),I=V+(x^A&(w^x))+D[5]+1200080426&4294967295,V=A+(I<<12&4294967295|I>>>20),I=x+(w^V&(A^w))+D[6]+2821735955&4294967295,x=V+(I<<17&4294967295|I>>>15),I=w+(A^x&(V^A))+D[7]+4249261313&4294967295,w=x+(I<<22&4294967295|I>>>10),I=A+(V^w&(x^V))+D[8]+1770035416&4294967295,A=w+(I<<7&4294967295|I>>>25),I=V+(x^A&(w^x))+D[9]+2336552879&4294967295,V=A+(I<<12&4294967295|I>>>20),I=x+(w^V&(A^w))+D[10]+4294925233&4294967295,x=V+(I<<17&4294967295|I>>>15),I=w+(A^x&(V^A))+D[11]+2304563134&4294967295,w=x+(I<<22&4294967295|I>>>10),I=A+(V^w&(x^V))+D[12]+1804603682&4294967295,A=w+(I<<7&4294967295|I>>>25),I=V+(x^A&(w^x))+D[13]+4254626195&4294967295,V=A+(I<<12&4294967295|I>>>20),I=x+(w^V&(A^w))+D[14]+2792965006&4294967295,x=V+(I<<17&4294967295|I>>>15),I=w+(A^x&(V^A))+D[15]+1236535329&4294967295,w=x+(I<<22&4294967295|I>>>10),I=A+(x^V&(w^x))+D[1]+4129170786&4294967295,A=w+(I<<5&4294967295|I>>>27),I=V+(w^x&(A^w))+D[6]+3225465664&4294967295,V=A+(I<<9&4294967295|I>>>23),I=x+(A^w&(V^A))+D[11]+643717713&4294967295,x=V+(I<<14&4294967295|I>>>18),I=w+(V^A&(x^V))+D[0]+3921069994&4294967295,w=x+(I<<20&4294967295|I>>>12),I=A+(x^V&(w^x))+D[5]+3593408605&4294967295,A=w+(I<<5&4294967295|I>>>27),I=V+(w^x&(A^w))+D[10]+38016083&4294967295,V=A+(I<<9&4294967295|I>>>23),I=x+(A^w&(V^A))+D[15]+3634488961&4294967295,x=V+(I<<14&4294967295|I>>>18),I=w+(V^A&(x^V))+D[4]+3889429448&4294967295,w=x+(I<<20&4294967295|I>>>12),I=A+(x^V&(w^x))+D[9]+568446438&4294967295,A=w+(I<<5&4294967295|I>>>27),I=V+(w^x&(A^w))+D[14]+3275163606&4294967295,V=A+(I<<9&4294967295|I>>>23),I=x+(A^w&(V^A))+D[3]+4107603335&4294967295,x=V+(I<<14&4294967295|I>>>18),I=w+(V^A&(x^V))+D[8]+1163531501&4294967295,w=x+(I<<20&4294967295|I>>>12),I=A+(x^V&(w^x))+D[13]+2850285829&4294967295,A=w+(I<<5&4294967295|I>>>27),I=V+(w^x&(A^w))+D[2]+4243563512&4294967295,V=A+(I<<9&4294967295|I>>>23),I=x+(A^w&(V^A))+D[7]+1735328473&4294967295,x=V+(I<<14&4294967295|I>>>18),I=w+(V^A&(x^V))+D[12]+2368359562&4294967295,w=x+(I<<20&4294967295|I>>>12),I=A+(w^x^V)+D[5]+4294588738&4294967295,A=w+(I<<4&4294967295|I>>>28),I=V+(A^w^x)+D[8]+2272392833&4294967295,V=A+(I<<11&4294967295|I>>>21),I=x+(V^A^w)+D[11]+1839030562&4294967295,x=V+(I<<16&4294967295|I>>>16),I=w+(x^V^A)+D[14]+4259657740&4294967295,w=x+(I<<23&4294967295|I>>>9),I=A+(w^x^V)+D[1]+2763975236&4294967295,A=w+(I<<4&4294967295|I>>>28),I=V+(A^w^x)+D[4]+1272893353&4294967295,V=A+(I<<11&4294967295|I>>>21),I=x+(V^A^w)+D[7]+4139469664&4294967295,x=V+(I<<16&4294967295|I>>>16),I=w+(x^V^A)+D[10]+3200236656&4294967295,w=x+(I<<23&4294967295|I>>>9),I=A+(w^x^V)+D[13]+681279174&4294967295,A=w+(I<<4&4294967295|I>>>28),I=V+(A^w^x)+D[0]+3936430074&4294967295,V=A+(I<<11&4294967295|I>>>21),I=x+(V^A^w)+D[3]+3572445317&4294967295,x=V+(I<<16&4294967295|I>>>16),I=w+(x^V^A)+D[6]+76029189&4294967295,w=x+(I<<23&4294967295|I>>>9),I=A+(w^x^V)+D[9]+3654602809&4294967295,A=w+(I<<4&4294967295|I>>>28),I=V+(A^w^x)+D[12]+3873151461&4294967295,V=A+(I<<11&4294967295|I>>>21),I=x+(V^A^w)+D[15]+530742520&4294967295,x=V+(I<<16&4294967295|I>>>16),I=w+(x^V^A)+D[2]+3299628645&4294967295,w=x+(I<<23&4294967295|I>>>9),I=A+(x^(w|~V))+D[0]+4096336452&4294967295,A=w+(I<<6&4294967295|I>>>26),I=V+(w^(A|~x))+D[7]+1126891415&4294967295,V=A+(I<<10&4294967295|I>>>22),I=x+(A^(V|~w))+D[14]+2878612391&4294967295,x=V+(I<<15&4294967295|I>>>17),I=w+(V^(x|~A))+D[5]+4237533241&4294967295,w=x+(I<<21&4294967295|I>>>11),I=A+(x^(w|~V))+D[12]+1700485571&4294967295,A=w+(I<<6&4294967295|I>>>26),I=V+(w^(A|~x))+D[3]+2399980690&4294967295,V=A+(I<<10&4294967295|I>>>22),I=x+(A^(V|~w))+D[10]+4293915773&4294967295,x=V+(I<<15&4294967295|I>>>17),I=w+(V^(x|~A))+D[1]+2240044497&4294967295,w=x+(I<<21&4294967295|I>>>11),I=A+(x^(w|~V))+D[8]+1873313359&4294967295,A=w+(I<<6&4294967295|I>>>26),I=V+(w^(A|~x))+D[15]+4264355552&4294967295,V=A+(I<<10&4294967295|I>>>22),I=x+(A^(V|~w))+D[6]+2734768916&4294967295,x=V+(I<<15&4294967295|I>>>17),I=w+(V^(x|~A))+D[13]+1309151649&4294967295,w=x+(I<<21&4294967295|I>>>11),I=A+(x^(w|~V))+D[4]+4149444226&4294967295,A=w+(I<<6&4294967295|I>>>26),I=V+(w^(A|~x))+D[11]+3174756917&4294967295,V=A+(I<<10&4294967295|I>>>22),I=x+(A^(V|~w))+D[2]+718787259&4294967295,x=V+(I<<15&4294967295|I>>>17),I=w+(V^(x|~A))+D[9]+3951481745&4294967295,S.g[0]=S.g[0]+A&4294967295,S.g[1]=S.g[1]+(x+(I<<21&4294967295|I>>>11))&4294967295,S.g[2]=S.g[2]+x&4294967295,S.g[3]=S.g[3]+V&4294967295}a.prototype.v=function(S,A){A===void 0&&(A=S.length);const w=A-this.blockSize,D=this.C;let x=this.h,V=0;for(;V<A;){if(x==0)for(;V<=w;)l(this,S,V),V+=this.blockSize;if(typeof S=="string"){for(;V<A;)if(D[x++]=S.charCodeAt(V++),x==this.blockSize){l(this,D),x=0;break}}else for(;V<A;)if(D[x++]=S[V++],x==this.blockSize){l(this,D),x=0;break}}this.h=x,this.o+=A},a.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var A=1;A<S.length-8;++A)S[A]=0;A=this.o*8;for(var w=S.length-8;w<S.length;++w)S[w]=A&255,A/=256;for(this.v(S),S=Array(16),A=0,w=0;w<4;++w)for(let D=0;D<32;D+=8)S[A++]=this.g[w]>>>D&255;return S};function c(S,A){var w=p;return Object.prototype.hasOwnProperty.call(w,S)?w[S]:w[S]=A(S)}function d(S,A){this.h=A;const w=[];let D=!0;for(let x=S.length-1;x>=0;x--){const V=S[x]|0;D&&V==A||(w[x]=V,D=!1)}this.g=w}var p={};function y(S){return-128<=S&&S<128?c(S,function(A){return new d([A|0],A<0?-1:0)}):new d([S|0],S<0?-1:0)}function v(S){if(isNaN(S)||!isFinite(S))return R;if(S<0)return Z(v(-S));const A=[];let w=1;for(let D=0;S>=w;D++)A[D]=S/w|0,w*=4294967296;return new d(A,0)}function b(S,A){if(S.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(S.charAt(0)=="-")return Z(b(S.substring(1),A));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=v(Math.pow(A,8));let D=R;for(let V=0;V<S.length;V+=8){var x=Math.min(8,S.length-V);const I=parseInt(S.substring(V,V+x),A);x<8?(x=v(Math.pow(A,x)),D=D.j(x).add(v(I))):(D=D.j(w),D=D.add(v(I)))}return D}var R=y(0),U=y(1),G=y(16777216);r=d.prototype,r.m=function(){if(W(this))return-Z(this).m();let S=0,A=1;for(let w=0;w<this.g.length;w++){const D=this.i(w);S+=(D>=0?D:4294967296+D)*A,A*=4294967296}return S},r.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(J(this))return"0";if(W(this))return"-"+Z(this).toString(S);const A=v(Math.pow(S,6));var w=this;let D="";for(;;){const x=Bt(w,A).g;w=lt(w,x.j(A));let V=((w.g.length>0?w.g[0]:w.h)>>>0).toString(S);if(w=x,J(w))return V+D;for(;V.length<6;)V="0"+V;D=V+D}},r.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function J(S){if(S.h!=0)return!1;for(let A=0;A<S.g.length;A++)if(S.g[A]!=0)return!1;return!0}function W(S){return S.h==-1}r.l=function(S){return S=lt(this,S),W(S)?-1:J(S)?0:1};function Z(S){const A=S.g.length,w=[];for(let D=0;D<A;D++)w[D]=~S.g[D];return new d(w,~S.h).add(U)}r.abs=function(){return W(this)?Z(this):this},r.add=function(S){const A=Math.max(this.g.length,S.g.length),w=[];let D=0;for(let x=0;x<=A;x++){let V=D+(this.i(x)&65535)+(S.i(x)&65535),I=(V>>>16)+(this.i(x)>>>16)+(S.i(x)>>>16);D=I>>>16,V&=65535,I&=65535,w[x]=I<<16|V}return new d(w,w[w.length-1]&-2147483648?-1:0)};function lt(S,A){return S.add(Z(A))}r.j=function(S){if(J(this)||J(S))return R;if(W(this))return W(S)?Z(this).j(Z(S)):Z(Z(this).j(S));if(W(S))return Z(this.j(Z(S)));if(this.l(G)<0&&S.l(G)<0)return v(this.m()*S.m());const A=this.g.length+S.g.length,w=[];for(var D=0;D<2*A;D++)w[D]=0;for(D=0;D<this.g.length;D++)for(let x=0;x<S.g.length;x++){const V=this.i(D)>>>16,I=this.i(D)&65535,Kt=S.i(x)>>>16,he=S.i(x)&65535;w[2*D+2*x]+=I*he,_t(w,2*D+2*x),w[2*D+2*x+1]+=V*he,_t(w,2*D+2*x+1),w[2*D+2*x+1]+=I*Kt,_t(w,2*D+2*x+1),w[2*D+2*x+2]+=V*Kt,_t(w,2*D+2*x+2)}for(S=0;S<A;S++)w[S]=w[2*S+1]<<16|w[2*S];for(S=A;S<2*A;S++)w[S]=0;return new d(w,0)};function _t(S,A){for(;(S[A]&65535)!=S[A];)S[A+1]+=S[A]>>>16,S[A]&=65535,A++}function dt(S,A){this.g=S,this.h=A}function Bt(S,A){if(J(A))throw Error("division by zero");if(J(S))return new dt(R,R);if(W(S))return A=Bt(Z(S),A),new dt(Z(A.g),Z(A.h));if(W(A))return A=Bt(S,Z(A)),new dt(Z(A.g),A.h);if(S.g.length>30){if(W(S)||W(A))throw Error("slowDivide_ only works with positive integers.");for(var w=U,D=A;D.l(S)<=0;)w=Jt(w),D=Jt(D);var x=Ot(w,1),V=Ot(D,1);for(D=Ot(D,2),w=Ot(w,2);!J(D);){var I=V.add(D);I.l(S)<=0&&(x=x.add(w),V=I),D=Ot(D,1),w=Ot(w,1)}return A=lt(S,x.j(A)),new dt(x,A)}for(x=R;S.l(A)>=0;){for(w=Math.max(1,Math.floor(S.m()/A.m())),D=Math.ceil(Math.log(w)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),V=v(w),I=V.j(A);W(I)||I.l(S)>0;)w-=D,V=v(w),I=V.j(A);J(V)&&(V=U),x=x.add(V),S=lt(S,I)}return new dt(x,S)}r.B=function(S){return Bt(this,S).h},r.and=function(S){const A=Math.max(this.g.length,S.g.length),w=[];for(let D=0;D<A;D++)w[D]=this.i(D)&S.i(D);return new d(w,this.h&S.h)},r.or=function(S){const A=Math.max(this.g.length,S.g.length),w=[];for(let D=0;D<A;D++)w[D]=this.i(D)|S.i(D);return new d(w,this.h|S.h)},r.xor=function(S){const A=Math.max(this.g.length,S.g.length),w=[];for(let D=0;D<A;D++)w[D]=this.i(D)^S.i(D);return new d(w,this.h^S.h)};function Jt(S){const A=S.g.length+1,w=[];for(let D=0;D<A;D++)w[D]=S.i(D)<<1|S.i(D-1)>>>31;return new d(w,S.h)}function Ot(S,A){const w=A>>5;A%=32;const D=S.g.length-w,x=[];for(let V=0;V<D;V++)x[V]=A>0?S.i(V+w)>>>A|S.i(V+w+1)<<32-A:S.i(V+w);return new d(x,S.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,V0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=b,Qs=d}).apply(typeof X_<"u"?X_:typeof self<"u"?self:typeof window<"u"?window:{});var bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var U0,pl,k0,Dc,Xd,L0,P0,z0;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof bc=="object"&&bc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var _=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in _))break t;_=_[L]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var _=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&_.push([T,m[T]]);return _}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,_){return u.call.apply(u.bind,arguments)}function v(u,m,_){return v=y,v.apply(null,arguments)}function b(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function R(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var tt=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)tt[Tt-2]=arguments[Tt];return m.prototype[L].apply(T,tt)}}var U=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function J(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var _=typeof L;if(_=_!="object"?_:L?Array.isArray(L)?"array":_:"null",_=="array"||_=="object"&&typeof L.length=="number"){_=u.length||0;const B=L.length||0;u.length=_+B;for(let tt=0;tt<B;tt++)u[_+tt]=L[tt]}else u.push(L)}}class W{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function lt(){var u=S;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class _t{constructor(){this.h=this.g=null}add(m,_){const T=dt.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var dt=new W(()=>new Bt,u=>u.reset());class Bt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Jt,Ot=!1,S=new _t,A=()=>{const u=Promise.resolve(void 0);Jt=()=>{u.then(w)}};function w(){for(var u;u=lt();){try{u.h.call(u.g)}catch(_){Z(_)}var m=dt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ot=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function I(u){return/^[\s\xa0]*$/.test(u)}function Kt(u,m){x.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}R(Kt,x),Kt.prototype.init=function(u,m){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Kt.Z.h.call(this)},Kt.prototype.h=function(){Kt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var he="closure_listenable_"+(Math.random()*1e6|0),F=0;function et(u,m,_,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=L,this.key=++F,this.da=this.fa=!1}function ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function kt(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function Ht(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function M(u){const m={};for(const _ in u)m[_]=u[_];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let _,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(_ in T)u[_]=T[_];for(let B=0;B<Y.length;B++)_=Y[B],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,_,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const tt=At(u,m,T,L);return tt>-1?(m=u[tt],_||(m.fa=!1)):(m=new et(m,this.src,B,!!T,L),m.fa=_,u.push(m)),m};function pt(u,m){const _=m.type;if(_ in u.g){var T=u.g[_],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ht(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function At(u,m,_,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!_&&B.ha==T)return L}return-1}var Vt="closure_lm_"+(Math.random()*1e6|0),xe={};function re(u,m,_,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)re(u,m[B],_,T,L);return null}return _=ho(_),u&&u[he]?u.J(m,_,p(T)?!!T.capture:!1,L):nr(u,m,_,!1,T,L)}function nr(u,m,_,T,L,B){if(!m)throw Error("Invalid event type");const tt=p(L)?!!L.capture:!!L;let Tt=ir(u);if(Tt||(u[Vt]=Tt=new st(u)),_=Tt.add(m,_,T,tt,B),_.proxy)return _;if(T=Kr(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)V||(L=tt),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Jn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Kr(){function u(_){return m.call(u.src,u.listener,_)}const m=uo;return u}function Yr(u,m,_,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Yr(u,m[B],_,T,L);else T=p(T)?!!T.capture:!!T,_=ho(_),u&&u[he]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],_=At(m,_,T,L),_>-1&&(ht(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=ir(u))&&(m=u.g[m.toString()],u=-1,m&&(u=At(m,_,T,L)),(_=u>-1?m[u]:null)&&Xr(_))}function Xr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[he])pt(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(Jn(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=ir(m))?(pt(_,u),_.h==0&&(_.src=null,m[Vt]=null)):ht(u)}}}function Jn(u){return u in xe?xe[u]:xe[u]="on"+u}function uo(u,m){if(u.da)u=!0;else{m=new Kt(m,this);const _=u.listener,T=u.ha||u.src;u.fa&&Xr(u),u=_.call(T,m)}return u}function ir(u){return u=u[Vt],u instanceof st?u:null}var co="__closure_events_fn_"+(Math.random()*1e9>>>0);function ho(u){return typeof u=="function"?u:(u[co]||(u[co]=function(m){return u.handleEvent(m)}),u[co])}function ye(){D.call(this),this.i=new st(this),this.M=this,this.G=null}R(ye,D),ye.prototype[he]=!0,ye.prototype.removeEventListener=function(u,m,_,T){Yr(this,u,m,_,T)};function De(u,m){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new x(m,u);else if(m instanceof x)m.target=m.target||u;else{var L=m;m=new x(T,u),nt(m,L)}L=!0;let B,tt;if(_)for(tt=_.length-1;tt>=0;tt--)B=m.g=_[tt],L=ss(B,T,!0,m)&&L;if(B=m.g=u,L=ss(B,T,!0,m)&&L,L=ss(B,T,!1,m)&&L,_)for(tt=0;tt<_.length;tt++)B=m.g=_[tt],L=ss(B,T,!1,m)&&L}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let T=0;T<_.length;T++)ht(_[T]);delete u.g[m],u.h--}}this.G=null},ye.prototype.J=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},ye.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function ss(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==_){const Tt=tt.listener,de=tt.ha||tt.src;tt.fa&&pt(u.i,tt),L=Tt.call(de,T)!==!1&&L}}return L&&!T.defaultPrevented}function wh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Kl(u){u.g=wh(()=>{u.g=null,u.i&&(u.i=!1,Kl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Je extends D{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Kl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sr(u){D.call(this),this.h=u,this.g={}}R(sr,D);var fo=[];function mo(u){kt(u.g,function(m,_){this.g.hasOwnProperty(_)&&Xr(m)},u),u.g={}}sr.prototype.N=function(){sr.Z.N.call(this),mo(this)},sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rs=d.JSON.stringify,Rh=d.JSON.parse,Yl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Xl(){}function $l(){}var kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){x.call(this,"d")}R(Pe,x);function Tn(){x.call(this,"c")}R(Tn,x);var fe={},Zl=null;function $r(){return Zl=Zl||new ye}fe.Ia="serverreachability";function Jl(u){x.call(this,fe.Ia,u)}R(Jl,x);function Wn(u){const m=$r();De(m,new Jl(m))}fe.STAT_EVENT="statevent";function rr(u,m){x.call(this,fe.STAT_EVENT,u),this.stat=m}R(rr,x);function _e(u){const m=$r();De(m,new rr(m,u))}fe.Ja="timingevent";function ti(u,m){x.call(this,fe.Ja,u),this.size=m}R(ti,x);function ei(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Ln(){this.g=!0}Ln.prototype.ua=function(){this.g=!1};function Ih(u,m,_,T,L,B){u.info(function(){if(u.g)if(B){var tt="",Tt=B.split("&");for(let zt=0;zt<Tt.length;zt++){var de=Tt[zt].split("=");if(de.length>1){const ae=de[0];de=de[1];const wn=ae.split("_");tt=wn.length>=2&&wn[1]=="type"?tt+(ae+"="+de+"&"):tt+(ae+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+_+`
`+tt})}function Wl(u,m,_,T,L,B,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+_+`
`+B+" "+tt})}function ni(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ch(u,_)+(T?" "+T:"")})}function ar(u,m){u.info(function(){return"TIMEOUT: "+m})}Ln.prototype.info=function(){};function Ch(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var _=B[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return rs(B)}catch{return m}}var or={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},go={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},po;function lr(){}R(lr,Xl),lr.prototype.g=function(){return new XMLHttpRequest},po=new lr;function Ni(u){return encodeURIComponent(String(u))}function tu(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function Pn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.S=T||1,this.V=new sr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zn}function zn(){this.i=null,this.g="",this.h=!1}var ve={},Ve={};function ii(u,m,_){u.M=1,u.A=ur(Te(m)),u.u=_,u.R=!0,Zr(u,null)}function Zr(u,m){u.F=Date.now(),si(u),u.B=Te(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ea(_.i,"t",T),u.C=0,_=u.j.L,u.h=new zn,u.g=gu(u.j,_?m:null,!u.u),u.P>0&&(u.O=new Je(v(u.Y,u,u.g),u.P)),m=u.V,_=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(fo[0]=L.toString()),L=fo);for(let B=0;B<L.length;B++){const tt=re(_,L[B],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Wn(),Ih(u.i,u.v,u.B,u.l,u.S,u.u)}Pn.prototype.ba=function(u){u=u.target;const m=this.O;m&&qn(u)==3?m.j():this.Y(u)},Pn.prototype.Y=function(u){try{if(u==this.g)t:{const Tt=qn(this.g),de=this.g.ya(),zt=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||Tt!=4||de==7||(de==8||zt<=0?Wn(3):Wn(2)),ri(this);var m=this.g.ca();this.X=m;var _=Nh(this);if(this.o=m==200,Wl(this.i,this.v,this.B,this.l,this.S,Tt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(T)){var B=T;break e}}B=null}if(u=B)ni(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ai(this,u);else{this.o=!1,this.m=3,_e(12),fn(this),bn(this);break t}}if(this.R){u=!0;let ae;for(;!this.K&&this.C<_.length;)if(ae=nu(this,_),ae==Ve){Tt==4&&(this.m=4,_e(14),u=!1),ni(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==ve){this.m=4,_e(15),ni(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else ni(this.i,this.l,ae,null),ai(this,ae);if(eu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||_.length!=0||this.h.h||(this.m=1,_e(16),u=!1),this.o=this.o&&u,!u)ni(this.i,this.l,_,"[Invalid Chunked Response]"),fn(this),bn(this);else if(_.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Do(tt),tt.P=!0,_e(11))}}else ni(this.i,this.l,_,null),ai(this,_);Tt==4&&fn(this),this.o&&!this.K&&(Tt==4?hu(this.j,this):(this.o=!1,si(this)))}else Di(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),fn(this),bn(this)}}}catch{}};function Nh(u){if(!eu(u))return u.g.la();const m=ze(u.g);if(m==="")return"";let _="";const T=m.length,L=qn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return fn(u),bn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,_+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function eu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function nu(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?Ve:(_=Number(m.substring(_,T)),isNaN(_)?ve:(T+=1,T+_>m.length?Ve:(m=m.slice(T,T+_),u.C=T+_,m)))}Pn.prototype.cancel=function(){this.K=!0,fn(this)};function si(u){u.T=Date.now()+u.H,Jr(u,u.H)}function Jr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ei(v(u.aa,u),m)}function ri(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Pn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ar(this.i,this.B),this.M!=2&&(Wn(),_e(17)),fn(this),this.m=2,bn(this)):Jr(this,this.T-u)};function bn(u){u.j.I==0||u.K||hu(u.j,u)}function fn(u){ri(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,mo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ai(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||li(_.h,u))){if(!u.L&&li(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)aa(_),ds(_);else break t;pr(_),_e(18)}}else _.xa=L[1],0<_.xa-_.K&&L[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ei(v(_.Va,_),6e3));oi(_.h)<=1&&_.ta&&(_.ta=void 0)}else mi(_,11)}else if((u.L||_.g==u)&&aa(_),!I(m))for(L=_.Ba.g.parse(m),m=0;m<L.length;m++){let zt=L[m];const ae=zt[0];if(!(ae<=_.K))if(_.K=ae,zt=zt[1],_.I==2)if(zt[0]=="c"){_.M=zt[1],_.ba=zt[2];const wn=zt[3];wn!=null&&(_.ka=wn,_.j.info("VER="+_.ka));const gi=zt[4];gi!=null&&(_.za=gi,_.j.info("SVER="+_.za));const Hn=zt[5];Hn!=null&&typeof Hn=="number"&&Hn>0&&(T=1.5*Hn,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Fn=u.g;if(Fn){const yr=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yr){var B=T.h;B.g||yr.indexOf("spdy")==-1&&yr.indexOf("quic")==-1&&yr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(vo(B,B.h),B.h=null))}if(T.G){const oa=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;oa&&(T.wa=oa,Ft(T.J,T.G,oa))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var tt=u;if(T.na=mu(T,T.L?T.ba:null,T.W),tt.L){Eo(T.h,tt);var Tt=tt,de=T.O;de&&(Tt.H=de),Tt.D&&(ri(Tt),si(Tt)),T.g=tt}else uu(T);_.i.length>0&&di(_)}else zt[0]!="stop"&&zt[0]!="close"||mi(_,7);else _.I==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?mi(_,7):No(_):zt[0]!="noop"&&_.l&&_.l.qa(zt),_.A=0)}}Wn(4)}catch{}}var Ee=class{constructor(u,m){this.g=u,this.map=m}};function yo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _o(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function oi(u){return u.h?1:u.g?u.g.size:0}function li(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function vo(u,m){u.g?u.g.add(m):u.h=m}function Eo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}yo.prototype.cancel=function(){if(this.i=To(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function To(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return G(u.i)}var iu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wr(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let L,B=null;T>=0?(L=u[_].substring(0,T),B=u[_].substring(T+1)):L=u[_],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof dn?(this.l=u.l,Ue(this,u.j),this.o=u.o,this.g=u.g,as(this,u.u),this.h=u.h,bo(this,ou(u.i)),this.m=u.m):u&&(m=String(u).match(iu))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=ui(m[2]||""),this.g=ui(m[3]||"",!0),as(this,m[4]),this.h=ui(m[5]||"",!0),bo(this,m[6]||"",!0),this.m=ui(m[7]||"")):(this.l=!1,this.i=new ls(null,this.l))}dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(cr(m,ta,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(cr(m,ta,!0),"@"),u.push(Ni(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(cr(_,_.charAt(0)=="/"?Ao:su,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",cr(_,ru)),u.join("")},dn.prototype.resolve=function(u){const m=Te(this);let _=!!u.j;_?Ue(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var T=u.h;if(_)as(m,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let tt=0;tt<L.length;){const Tt=L[tt++];Tt=="."?T&&tt==L.length&&B.push(""):Tt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&tt==L.length&&B.push("")):(B.push(Tt),T=!0)}T=B.join("/")}else T=L}return _?m.h=T:_=u.i.toString()!=="",_?bo(m,ou(u.i)):_=!!u.m,_&&(m.m=u.m),m};function Te(u){return new dn(u)}function Ue(u,m,_){u.j=_?ui(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function as(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function bo(u,m,_){m instanceof ls?(u.i=m,na(u.i,u.l)):(_||(m=cr(m,os)),u.i=new ls(m,u.l))}function Ft(u,m,_){u.i.set(m,_)}function ur(u){return Ft(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ui(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function cr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,nn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ta=/[#\/\?@]/g,su=/[#\?:]/g,Ao=/[#\?]/g,os=/[#\?@]/g,ru=/#/g;function ls(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function sn(u){u.g||(u.g=new Map,u.h=0,u.i&&Wr(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=ls.prototype,r.add=function(u,m){sn(this),this.i=null,u=us(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function au(u,m){sn(u),m=us(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function So(u,m){return sn(u),m=us(u,m),u.g.has(m)}r.forEach=function(u,m){sn(this),this.g.forEach(function(_,T){_.forEach(function(L){u.call(m,L,T,this)},this)},this)};function wo(u,m){sn(u);let _=[];if(typeof m=="string")So(u,m)&&(_=_.concat(u.g.get(us(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}r.set=function(u,m){return sn(this),this.i=null,u=us(this,u),So(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=wo(this,u),u.length>0?String(u[0]):m):m};function ea(u,m,_){au(u,m),_.length>0&&(u.i=null,u.g.set(us(u,m),G(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var _=m[T];const L=Ni(_);_=wo(this,_);for(let B=0;B<_.length;B++){let tt=L;_[B]!==""&&(tt+="="+Ni(_[B])),u.push(tt)}}return this.i=u.join("&")};function ou(u){const m=new ls;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function us(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function na(u,m){m&&!u.j&&(sn(u),u.i=null,u.g.forEach(function(_,T){const L=T.toLowerCase();T!=L&&(au(this,T),ea(this,L,_))},u)),u.j=m}function jn(u,m){const _=new Ln;if(d.Image){const T=new Image;T.onload=b(An,_,"TestLoadImage: loaded",!0,m,T),T.onerror=b(An,_,"TestLoadImage: error",!1,m,T),T.onabort=b(An,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(An,_,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Ro(u,m){const _=new Ln,T=new AbortController,L=setTimeout(()=>{T.abort(),An(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?An(_,"TestPingServer: ok",!0,m):An(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),An(_,"TestPingServer: error",!1,m)})}function An(u,m,_,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(_)}catch{}}function cs(){this.g=new Yl}function ci(u){this.i=u.Sb||null,this.h=u.ab||!1}R(ci,Xl),ci.prototype.g=function(){return new hr(this.i,this.h)};function hr(u,m){ye.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}R(hr,ye),r=hr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Bn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ia(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ia(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?hs(this):Bn(this),this.readyState==3&&ia(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,hs(this))},r.Na=function(u){this.g&&(this.response=u,hs(this))},r.ga=function(){this.g&&hs(this)};function hs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Bn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Bn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(hr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Sn(u){let m="";return kt(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function fr(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=Sn(_),typeof u=="string"?_!=null&&Ni(_):Ft(u,m,_))}function Yt(u){ye.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}R(Yt,ye);var hi=/^https?$/i,Io=["POST","PUT"];r=Yt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():po.g(),this.g.onreadystatechange=U(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){dr(this,B);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)_.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())_.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Io,m,void 0)>=0)||T||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of _)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){dr(this,B)}};function dr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Co(u),xi(u)}function Co(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),xi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xi(this,!0)),Yt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?mr(this):this.Xa())},r.Xa=function(){mr(this)};function mr(u){if(u.h&&typeof c<"u"){if(u.v&&qn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),qn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=B===0){let tt=String(u.D).match(iu)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),T=!hi.test(tt?tt.toLowerCase():"")}_=T}if(_)De(u,"complete"),De(u,"success");else{u.o=6;try{var L=qn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Co(u)}}finally{xi(u)}}}}function xi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||De(u,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function qn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return qn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Rh(m)}};function ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Di(u){const m={};u=(u.g&&qn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(I(u[T]))continue;var _=tu(u[T]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const B=m[L]||[];m[L]=B,B.push(_)}Ht(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function fi(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function fs(u){this.za=0,this.i=[],this.j=new Ln,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=fi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=fi("baseRetryDelayMs",5e3,u),this.Za=fi("retryDelaySeedMs",1e4,u),this.Ta=fi("forwardChannelMaxRetries",2,u),this.va=fi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new yo(u&&u.concurrentRequestLimit),this.Ba=new cs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=fs.prototype,r.ka=8,r.I=1,r.connect=function(u,m,_,T){_e(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=mu(this,null,this.W),di(this)};function No(u){if(sa(u),u.I==3){var m=u.V++,_=Te(u.J);if(Ft(_,"SID",u.M),Ft(_,"RID",m),Ft(_,"TYPE","terminate"),gr(u,_),m=new Pn(u,u.j,m),m.M=2,m.A=ur(Te(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=gu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),si(m)}du(u)}function ds(u){u.g&&(Do(u),u.g.cancel(),u.g=null)}function sa(u){ds(u),u.v&&(d.clearTimeout(u.v),u.v=null),aa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function di(u){if(!_o(u.h)&&!u.m){u.m=!0;var m=u.Ea;Jt||A(),Ot||(Jt(),Ot=!0),S.add(m,u),u.D=0}}function ra(u,m){return oi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ei(v(u.Ea,u,m),fu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Pn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=M(B),nt(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=lu(this,L,m),_=Te(this.J),Ft(_,"RID",u),Ft(_,"CVER",22),this.G&&Ft(_,"X-HTTP-Session-Id",this.G),gr(this,_),B&&(this.R?m="headers="+Ni(Sn(B))+"&"+m:this.u&&fr(_,this.u,B)),vo(this.h,L),this.Ra&&Ft(_,"TYPE","init"),this.S?(Ft(_,"$req",m),Ft(_,"SID","null"),L.U=!0,ii(L,_,null)):ii(L,_,m),this.I=2}}else this.I==3&&(u?xo(this,u):this.i.length==0||_o(this.h)||xo(this))};function xo(u,m){var _;m?_=m.l:_=u.V++;const T=Te(u.J);Ft(T,"SID",u.M),Ft(T,"RID",_),Ft(T,"AID",u.K),gr(u,T),u.u&&u.o&&fr(T,u.u,u.o),_=new Pn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=lu(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),vo(u.h,_),ii(_,T,m)}function gr(u,m){u.H&&kt(u.H,function(_,T){Ft(m,T,_)}),u.l&&kt({},function(_,T){Ft(m,T,_)})}function lu(u,m,_){_=Math.min(u.i.length,_);const T=u.l?v(u.l.Ka,u.l,u):null;t:{var L=u.i;let Tt=-1;for(;;){const de=["count="+_];Tt==-1?_>0?(Tt=L[0].g,de.push("ofs="+Tt)):Tt=0:de.push("ofs="+Tt);let zt=!0;for(let ae=0;ae<_;ae++){var B=L[ae].g;const wn=L[ae].map;if(B-=Tt,B<0)Tt=Math.max(0,L[ae].g-100),zt=!1;else try{B="req"+B+"_"||"";try{var tt=wn instanceof Map?wn:Object.entries(wn);for(const[gi,Hn]of tt){let Fn=Hn;p(Hn)&&(Fn=rs(Hn)),de.push(B+gi+"="+encodeURIComponent(Fn))}}catch(gi){throw de.push(B+"type="+encodeURIComponent("_badmap")),gi}}catch{T&&T(wn)}}if(zt){tt=de.join("&");break t}}tt=void 0}return u=u.i.splice(0,_),m.G=u,tt}function uu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Jt||A(),Ot||(Jt(),Ot=!0),S.add(m,u),u.A=0}}function pr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ei(v(u.Da,u),fu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,cu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ei(v(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),ds(this),cu(this))};function Do(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function cu(u){u.g=new Pn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Te(u.na);Ft(m,"RID","rpc"),Ft(m,"SID",u.M),Ft(m,"AID",u.K),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ft(m,"TO",u.ia),Ft(m,"TYPE","xmlhttp"),gr(u,m),u.u&&u.o&&fr(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=ur(Te(m)),_.u=null,_.R=!0,Zr(_,u)}r.Va=function(){this.C!=null&&(this.C=null,ds(this),pr(this),_e(19))};function aa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function hu(u,m){var _=null;if(u.g==m){aa(u),Do(u),u.g=null;var T=2}else if(li(u.h,m))_=m.G,Eo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=$r(),De(T,new ti(T,_)),di(u)}else uu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&ra(u,m)||T==2&&pr(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),L){case 1:mi(u,5);break;case 4:mi(u,10);break;case 3:mi(u,6);break;default:mi(u,2)}}}function fu(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function mi(u,m){if(u.j.info("Error code "+m),m==2){var _=v(u.bb,u),T=u.Ua;const L=!T;T=new dn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(T,"https"),ur(T),L?jn(T.toString(),_):Ro(T.toString(),_)}else _e(2);u.I=0,u.l&&u.l.pa(m),du(u),sa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function du(u){if(u.I=0,u.ja=[],u.l){const m=To(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function mu(u,m,_){var T=_ instanceof dn?Te(_):new dn(_);if(T.g!="")m&&(T.g=m+"."+T.g),as(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new dn(null);T&&Ue(B,T),m&&(B.g=m),L&&as(B,L),_&&(B.h=_),T=B}return _=u.G,m=u.wa,_&&m&&Ft(T,_,m),Ft(T,"VER",u.ka),gr(u,T),T}function gu(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Yt(new ci({ab:_})):new Yt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function pu(){}r=pu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ms(){}ms.prototype.g=function(u,m){return new We(u,m)};function We(u,m){ye.call(this),this.g=new fs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!I(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!I(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Oi(this)}R(We,ye),We.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){No(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=rs(u),u=_);m.i.push(new Ee(m.Ya++,u)),m.I==3&&di(m)},We.prototype.N=function(){this.g.l=null,delete this.j,No(this.g),delete this.g,We.Z.N.call(this)};function yu(u){Pe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}R(yu,Pe);function _u(){Tn.call(this),this.status=1}R(_u,Tn);function Oi(u){this.g=u}R(Oi,pu),Oi.prototype.ra=function(){De(this.g,"a")},Oi.prototype.qa=function(u){De(this.g,new yu(u))},Oi.prototype.pa=function(u){De(this.g,new _u)},Oi.prototype.oa=function(){De(this.g,"b")},ms.prototype.createWebChannel=ms.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,z0=function(){return new ms},P0=function(){return $r()},L0=fe,Xd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},or.NO_ERROR=0,or.TIMEOUT=8,or.HTTP_ERROR=6,Dc=or,go.COMPLETE="complete",k0=go,$l.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",ye.prototype.listen=ye.prototype.J,pl=$l,Yt.prototype.listenOnce=Yt.prototype.K,Yt.prototype.getLastError=Yt.prototype.Ha,Yt.prototype.getLastErrorCode=Yt.prototype.ya,Yt.prototype.getStatus=Yt.prototype.ca,Yt.prototype.getResponseJson=Yt.prototype.La,Yt.prototype.getResponseText=Yt.prototype.la,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Fa,U0=Yt}).apply(typeof bc<"u"?bc:typeof self<"u"?self:typeof window<"u"?window:{});const $_="@firebase/firestore",Z_="4.9.3";class Xe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");let io="12.7.0";const jr=new _m("@firebase/firestore");function La(){return jr.logLevel}function it(r,...t){if(jr.logLevel<=Nt.DEBUG){const i=t.map(Tm);jr.debug(`Firestore (${io}): ${r}`,...i)}}function Wi(r,...t){if(jr.logLevel<=Nt.ERROR){const i=t.map(Tm);jr.error(`Firestore (${io}): ${r}`,...i)}}function Xa(r,...t){if(jr.logLevel<=Nt.WARN){const i=t.map(Tm);jr.warn(`Firestore (${io}): ${r}`,...i)}}function Tm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function mt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,j0(r,a,i)}function j0(r,t,i){let a=`FIRESTORE (${io}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Wi(a),new Error(a)}function qt(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||j0(t,l,a)}function Et(r,t){return r}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends is{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ur{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class B0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class _S{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class vS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class ES{constructor(t){this.t=t,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){qt(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new Ur;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ur,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ur)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(qt(typeof a.accessToken=="string",31837,{l:a}),new B0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qt(t===null||typeof t=="string",2055,{h:t}),new Xe(t)}}class TS{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class bS{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new TS(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class J_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AS{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){qt(this.o===void 0,3512);const a=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new J_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new J_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function SS(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class bm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=SS(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function xt(r,t){return r<t?-1:r>t?1:0}function $d(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return Ud(l)===Ud(c)?xt(l,c):Ud(l)?1:-1}return xt(r.length,t.length)}const wS=55296,RS=57343;function Ud(r){const t=r.charCodeAt(0);return t>=wS&&t<=RS}function $a(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const W_="__name__";class Ei{constructor(t,i,a){i===void 0?i=0:i>t.length&&mt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&mt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ei.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ei?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ei.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return xt(t.length,i.length)}static compareSegments(t,i){const a=Ei.isNumericId(t),l=Ei.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ei.extractNumericId(t).compare(Ei.extractNumericId(i)):$d(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Qs.fromString(t.substring(4,t.length-2))}}class te extends Ei{construct(t,i,a){return new te(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new rt(X.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new te(i)}static emptyPath(){return new te([])}}const IS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends Ei{construct(t,i,a){return new Ge(t,i,a)}static isValidIdentifier(t){return IS.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===W_}static keyField(){return new Ge([W_])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new rt(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new rt(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new rt(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new rt(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ge(i)}static emptyPath(){return new Ge([])}}class ct{constructor(t){this.path=t}static fromPath(t){return new ct(te.fromString(t))}static fromName(t){return new ct(te.fromString(t).popFirst(5))}static empty(){return new ct(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&te.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return te.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ct(new te(t.slice()))}}function q0(r,t,i){if(!i)throw new rt(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function CS(r,t,i,a){if(t===!0&&a===!0)throw new rt(X.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function tv(r){if(!ct.isDocumentKey(r))throw new rt(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function ev(r){if(ct.isDocumentKey(r))throw new rt(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function H0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function lh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":mt(12329,{type:typeof r})}function kr(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new rt(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=lh(r);throw new rt(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ce(r,t){const i={typeString:r};return t&&(i.value=t),i}function Pl(r,t){if(!H0(r))throw new rt(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new rt(X.INVALID_ARGUMENT,i);return!0}const nv=-62135596800,iv=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*iv);return new se(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new rt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<nv)throw new rt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/iv}_compareTo(t){return this.seconds===t.seconds?xt(this.nanoseconds,t.nanoseconds):xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Pl(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-nv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Ce("string",se._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};class yt{static fromTimestamp(t){return new yt(t)}static min(){return new yt(new se(0,0))}static max(){return new yt(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Il=-1;function NS(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=yt.fromTimestamp(a===1e9?new se(i+1,0):new se(i,a));return new Xs(l,ct.empty(),t)}function xS(r){return new Xs(r.readTime,r.key,Il)}class Xs{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Xs(yt.min(),ct.empty(),Il)}static max(){return new Xs(yt.max(),ct.empty(),Il)}}function DS(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ct.comparator(r.documentKey,t.documentKey),i!==0?i:xt(r.largestBatchId,t.largestBatchId))}const OS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function so(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==OS)throw r;it("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,a)=>{i(t)}))}static reject(t){return new $(((i,a)=>{a(t)}))}static waitFor(t){return new $(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>a(y)))})),d=!0,c===l&&i()}))}static or(t){let i=$.resolve(!1);for(const a of t)i=i.next((l=>l?$.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new $(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const v=y;i(t[v]).next((b=>{d[v]=b,++p,p===c&&a(d)}),(b=>l(b)))}}))}static doWhile(t,i){return new $(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function VS(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ro(r){return r.name==="IndexedDbTransactionError"}class uh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}uh.ce=-1;const Am=-1;function ch(r){return r==null}function Hc(r){return r===0&&1/r==-1/0}function US(r){return typeof r=="number"&&Number.isInteger(r)&&!Hc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const F0="";function kS(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=sv(t)),t=LS(r.get(i),t);return sv(t)}function LS(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case F0:i+="";break;default:i+=c}}return i}function sv(r){return r+F0+""}function rv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Hr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function G0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class le{constructor(t,i){this.comparator=t,this.root=i||Fe.EMPTY}insert(t,i){return new le(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ac(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ac(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ac(this.root,t,this.comparator,!0)}}class Ac{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fe{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Fe.RED,this.left=l??Fe.EMPTY,this.right=c??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Fe(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Fe.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw mt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw mt(27949);return t+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw mt(57766)}get value(){throw mt(16141)}get color(){throw mt(16727)}get left(){throw mt(29726)}get right(){throw mt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Fe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new av(this.data.getIterator())}getIteratorFrom(t){return new av(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class av{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Xn{constructor(t){this.fields=t,t.sort(Ge.comparator)}static empty(){return new Xn([])}unionWith(t){let i=new Me(Ge.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Xn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return $a(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class Q0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Q0("Invalid base64 string: "+c):c}})(t);return new Qe(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Qe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const PS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $s(r){if(qt(!!r,39018),typeof r=="string"){let t=0;const i=PS.exec(r);if(qt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:pe(r.seconds),nanos:pe(r.nanos)}}function pe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Zs(r){return typeof r=="string"?Qe.fromBase64String(r):Qe.fromUint8Array(r)}const K0="server_timestamp",Y0="__type__",X0="__previous_value__",$0="__local_write_time__";function Sm(r){return(r?.mapValue?.fields||{})[Y0]?.stringValue===K0}function hh(r){const t=r.mapValue.fields[X0];return Sm(t)?hh(t):t}function Cl(r){const t=$s(r.mapValue.fields[$0].timestampValue);return new se(t.seconds,t.nanos)}class zS{constructor(t,i,a,l,c,d,p,y,v,b){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=v,this.isUsingEmulator=b}}const Fc="(default)";class Nl{constructor(t,i){this.projectId=t,this.database=i||Fc}static empty(){return new Nl("","")}get isDefaultDatabase(){return this.database===Fc}isEqual(t){return t instanceof Nl&&t.projectId===this.projectId&&t.database===this.database}}const Z0="__type__",jS="__max__",Sc={mapValue:{}},J0="__vector__",Gc="value";function Js(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Sm(r)?4:qS(r)?9007199254740991:BS(r)?10:11:mt(28295,{value:r})}function Ci(r,t){if(r===t)return!0;const i=Js(r);if(i!==Js(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Cl(r).isEqual(Cl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=$s(l.timestampValue),p=$s(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return Zs(l.bytesValue).isEqual(Zs(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return pe(l.geoPointValue.latitude)===pe(c.geoPointValue.latitude)&&pe(l.geoPointValue.longitude)===pe(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return pe(l.integerValue)===pe(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=pe(l.doubleValue),p=pe(c.doubleValue);return d===p?Hc(d)===Hc(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return $a(r.arrayValue.values||[],t.arrayValue.values||[],Ci);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(rv(d)!==rv(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Ci(d[y],p[y])))return!1;return!0})(r,t);default:return mt(52216,{left:r})}}function xl(r,t){return(r.values||[]).find((i=>Ci(i,t)))!==void 0}function Za(r,t){if(r===t)return 0;const i=Js(r),a=Js(t);if(i!==a)return xt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return xt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=pe(c.integerValue||c.doubleValue),y=pe(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,t);case 3:return ov(r.timestampValue,t.timestampValue);case 4:return ov(Cl(r),Cl(t));case 5:return $d(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=Zs(c),y=Zs(d);return p.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let v=0;v<p.length&&v<y.length;v++){const b=xt(p[v],y[v]);if(b!==0)return b}return xt(p.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=xt(pe(c.latitude),pe(d.latitude));return p!==0?p:xt(pe(c.longitude),pe(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return lv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},v=p[Gc]?.arrayValue,b=y[Gc]?.arrayValue,R=xt(v?.values?.length||0,b?.values?.length||0);return R!==0?R:lv(v,b)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Sc.mapValue&&d===Sc.mapValue)return 0;if(c===Sc.mapValue)return 1;if(d===Sc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),v=d.fields||{},b=Object.keys(v);y.sort(),b.sort();for(let R=0;R<y.length&&R<b.length;++R){const U=$d(y[R],b[R]);if(U!==0)return U;const G=Za(p[y[R]],v[b[R]]);if(G!==0)return G}return xt(y.length,b.length)})(r.mapValue,t.mapValue);default:throw mt(23264,{he:i})}}function ov(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return xt(r,t);const i=$s(r),a=$s(t),l=xt(i.seconds,a.seconds);return l!==0?l:xt(i.nanos,a.nanos)}function lv(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Za(i[l],a[l]);if(c)return c}return xt(i.length,a.length)}function Ja(r){return Zd(r)}function Zd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=$s(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Zs(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ct.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=Zd(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${Zd(i.fields[d])}`;return l+"}"})(r.mapValue):mt(61005,{value:r})}function Oc(r){switch(Js(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=hh(r);return t?16+Oc(t):16;case 5:return 2*r.stringValue.length;case 6:return Zs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Oc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return Hr(a.fields,((c,d)=>{l+=c.length+Oc(d)})),l})(r.mapValue);default:throw mt(13486,{value:r})}}function uv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Jd(r){return!!r&&"integerValue"in r}function wm(r){return!!r&&"arrayValue"in r}function cv(r){return!!r&&"nullValue"in r}function hv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Mc(r){return!!r&&"mapValue"in r}function BS(r){return(r?.mapValue?.fields||{})[Z0]?.stringValue===J0}function Tl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Hr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Tl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Tl(r.arrayValue.values[i]);return t}return{...r}}function qS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===jS}class Vn{constructor(t){this.value=t}static empty(){return new Vn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Mc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Tl(i)}setAll(t){let i=Ge.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Tl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Mc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ci(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Mc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){Hr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new Vn(Tl(this.value))}}function W0(r){const t=[];return Hr(r.fields,((i,a)=>{const l=new Ge([i]);if(Mc(a)){const c=W0(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Xn(t)}class $e{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new $e(t,0,yt.min(),yt.min(),yt.min(),Vn.empty(),0)}static newFoundDocument(t,i,a,l){return new $e(t,1,i,yt.min(),a,l,0)}static newNoDocument(t,i){return new $e(t,2,i,yt.min(),yt.min(),Vn.empty(),0)}static newUnknownDocument(t,i){return new $e(t,3,i,yt.min(),yt.min(),Vn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof $e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Qc{constructor(t,i){this.position=t,this.inclusive=i}}function fv(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=ct.comparator(ct.fromName(d.referenceValue),i.key):a=Za(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function dv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ci(r.position[i],t.position[i]))return!1;return!0}class Kc{constructor(t,i="asc"){this.field=t,this.dir=i}}function HS(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class tE{}class Ie extends tE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new GS(t,i,a):i==="array-contains"?new YS(t,a):i==="in"?new XS(t,a):i==="not-in"?new $S(t,a):i==="array-contains-any"?new ZS(t,a):new Ie(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new QS(t,a):new KS(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Za(i,this.value)):i!==null&&Js(this.value)===Js(i)&&this.matchesComparison(Za(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends tE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Zn(t,i)}matches(t){return eE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function eE(r){return r.op==="and"}function nE(r){return FS(r)&&eE(r)}function FS(r){for(const t of r.filters)if(t instanceof Zn)return!1;return!0}function Wd(r){if(r instanceof Ie)return r.field.canonicalString()+r.op.toString()+Ja(r.value);if(nE(r))return r.filters.map((t=>Wd(t))).join(",");{const t=r.filters.map((i=>Wd(i))).join(",");return`${r.op}(${t})`}}function iE(r,t){return r instanceof Ie?(function(a,l){return l instanceof Ie&&a.op===l.op&&a.field.isEqual(l.field)&&Ci(a.value,l.value)})(r,t):r instanceof Zn?(function(a,l){return l instanceof Zn&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&iE(d,l.filters[p])),!0):!1})(r,t):void mt(19439)}function sE(r){return r instanceof Ie?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ja(i.value)}`})(r):r instanceof Zn?(function(i){return i.op.toString()+" {"+i.getFilters().map(sE).join(" ,")+"}"})(r):"Filter"}class GS extends Ie{constructor(t,i,a){super(t,i,a),this.key=ct.fromName(a.referenceValue)}matches(t){const i=ct.comparator(t.key,this.key);return this.matchesComparison(i)}}class QS extends Ie{constructor(t,i){super(t,"in",i),this.keys=rE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class KS extends Ie{constructor(t,i){super(t,"not-in",i),this.keys=rE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function rE(r,t){return(t.arrayValue?.values||[]).map((i=>ct.fromName(i.referenceValue)))}class YS extends Ie{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return wm(i)&&xl(i.arrayValue,this.value)}}class XS extends Ie{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&xl(this.value.arrayValue,i)}}class $S extends Ie{constructor(t,i){super(t,"not-in",i)}matches(t){if(xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!xl(this.value.arrayValue,i)}}class ZS extends Ie{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!wm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>xl(this.value.arrayValue,a)))}}class JS{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function mv(r,t=null,i=[],a=[],l=null,c=null,d=null){return new JS(r,t,i,a,l,c,d)}function Rm(r){const t=Et(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>Wd(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),ch(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Ja(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Ja(a))).join(",")),t.Te=i}return t.Te}function Im(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!HS(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!iE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!dv(r.startAt,t.startAt)&&dv(r.endAt,t.endAt)}function tm(r){return ct.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class zl{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function WS(r,t,i,a,l,c,d,p){return new zl(r,t,i,a,l,c,d,p)}function Cm(r){return new zl(r)}function gv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function aE(r){return r.collectionGroup!==null}function bl(r){const t=Et(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Me(Ge.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Kc(c,a))})),i.has(Ge.keyField().canonicalString())||t.Ie.push(new Kc(Ge.keyField(),a))}return t.Ie}function Ti(r){const t=Et(r);return t.Ee||(t.Ee=tw(t,bl(r))),t.Ee}function tw(r,t){if(r.limitType==="F")return mv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Kc(l.field,c)}));const i=r.endAt?new Qc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Qc(r.startAt.position,r.startAt.inclusive):null;return mv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function em(r,t){const i=r.filters.concat([t]);return new zl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function nm(r,t,i){return new zl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function fh(r,t){return Im(Ti(r),Ti(t))&&r.limitType===t.limitType}function oE(r){return`${Rm(Ti(r))}|lt:${r.limitType}`}function Pa(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>sE(l))).join(", ")}]`),ch(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Ja(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Ja(l))).join(",")),`Target(${a})`})(Ti(r))}; limitType=${r.limitType})`}function dh(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ct.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of bl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,y){const v=fv(d,p,y);return d.inclusive?v<=0:v<0})(a.startAt,bl(a),l)||a.endAt&&!(function(d,p,y){const v=fv(d,p,y);return d.inclusive?v>=0:v>0})(a.endAt,bl(a),l))})(r,t)}function ew(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function lE(r){return(t,i)=>{let a=!1;for(const l of bl(r)){const c=nw(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function nw(r,t,i){const a=r.field.isKeyField()?ct.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),v=p.data.field(c);return y!==null&&v!==null?Za(y,v):mt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return mt(19790,{direction:r.dir})}}class Fr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Hr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return G0(this.inner)}size(){return this.innerSize}}const iw=new le(ct.comparator);function ts(){return iw}const uE=new le(ct.comparator);function yl(...r){let t=uE;for(const i of r)t=t.insert(i.key,i);return t}function cE(r){let t=uE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Vr(){return Al()}function hE(){return Al()}function Al(){return new Fr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const sw=new le(ct.comparator),rw=new Me(ct.comparator);function Dt(...r){let t=rw;for(const i of r)t=t.add(i);return t}const aw=new Me(xt);function ow(){return aw}function Nm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hc(t)?"-0":t}}function fE(r){return{integerValue:""+r}}function lw(r,t){return US(t)?fE(t):Nm(r,t)}class mh{constructor(){this._=void 0}}function uw(r,t,i){return r instanceof Dl?(function(l,c){const d={fields:{[Y0]:{stringValue:K0},[$0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Sm(c)&&(c=hh(c)),c&&(d.fields[X0]=c),{mapValue:d}})(i,t):r instanceof Ol?mE(r,t):r instanceof Ml?gE(r,t):(function(l,c){const d=dE(l,c),p=pv(d)+pv(l.Ae);return Jd(d)&&Jd(l.Ae)?fE(p):Nm(l.serializer,p)})(r,t)}function cw(r,t,i){return r instanceof Ol?mE(r,t):r instanceof Ml?gE(r,t):i}function dE(r,t){return r instanceof Yc?(function(a){return Jd(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Dl extends mh{}class Ol extends mh{constructor(t){super(),this.elements=t}}function mE(r,t){const i=pE(t);for(const a of r.elements)i.some((l=>Ci(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ml extends mh{constructor(t){super(),this.elements=t}}function gE(r,t){let i=pE(t);for(const a of r.elements)i=i.filter((l=>!Ci(l,a)));return{arrayValue:{values:i}}}class Yc extends mh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function pv(r){return pe(r.integerValue||r.doubleValue)}function pE(r){return wm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class hw{constructor(t,i){this.field=t,this.transform=i}}function fw(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof Ol&&l instanceof Ol||a instanceof Ml&&l instanceof Ml?$a(a.elements,l.elements,Ci):a instanceof Yc&&l instanceof Yc?Ci(a.Ae,l.Ae):a instanceof Dl&&l instanceof Dl})(r.transform,t.transform)}class dw{constructor(t,i){this.version=t,this.transformResults=i}}class bi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new bi}static exists(t){return new bi(void 0,t)}static updateTime(t){return new bi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Vc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class gh{}function yE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new vE(r.key,bi.none()):new jl(r.key,r.data,bi.none());{const i=r.data,a=Vn.empty();let l=new Me(Ge.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Gr(r.key,a,new Xn(l.toArray()),bi.none())}}function mw(r,t,i){r instanceof jl?(function(l,c,d){const p=l.value.clone(),y=_v(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof Gr?(function(l,c,d){if(!Vc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=_v(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(_E(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Sl(r,t,i,a){return r instanceof jl?(function(c,d,p,y){if(!Vc(c.precondition,d))return p;const v=c.value.clone(),b=vv(c.fieldTransforms,y,d);return v.setAll(b),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(r,t,i,a):r instanceof Gr?(function(c,d,p,y){if(!Vc(c.precondition,d))return p;const v=vv(c.fieldTransforms,y,d),b=d.data;return b.setAll(_E(c)),b.setAll(v),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((R=>R.field)))})(r,t,i,a):(function(c,d,p){return Vc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function gw(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=dE(a.transform,l||null);c!=null&&(i===null&&(i=Vn.empty()),i.set(a.field,c))}return i||null}function yv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&$a(a,l,((c,d)=>fw(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class jl extends gh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Gr extends gh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function _E(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function _v(r,t,i){const a=new Map;qt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,cw(d,p,i[l]))}return a}function vv(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,uw(c,d,t))}return a}class vE extends gh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pw extends gh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class yw{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&mw(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Sl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Sl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=hE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=yE(d,p);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(yt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Dt())}isEqual(t){return this.batchId===t.batchId&&$a(this.mutations,t.mutations,((i,a)=>yv(i,a)))&&$a(this.baseMutations,t.baseMutations,((i,a)=>yv(i,a)))}}class xm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){qt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return sw})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new xm(t,i,a,l)}}class _w{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class vw{constructor(t,i){this.count=t,this.unchangedNames=i}}var Re,Ut;function Ew(r){switch(r){case X.OK:return mt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return mt(15467,{code:r})}}function EE(r){if(r===void 0)return Wi("GRPC error has no .code"),X.UNKNOWN;switch(r){case Re.OK:return X.OK;case Re.CANCELLED:return X.CANCELLED;case Re.UNKNOWN:return X.UNKNOWN;case Re.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Re.INTERNAL:return X.INTERNAL;case Re.UNAVAILABLE:return X.UNAVAILABLE;case Re.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Re.NOT_FOUND:return X.NOT_FOUND;case Re.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Re.ABORTED:return X.ABORTED;case Re.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Re.DATA_LOSS:return X.DATA_LOSS;default:return mt(39323,{code:r})}}(Ut=Re||(Re={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";function Tw(){return new TextEncoder}const bw=new Qs([4294967295,4294967295],0);function Ev(r){const t=Tw().encode(r),i=new V0;return i.update(t),new Uint8Array(i.digest())}function Tv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Qs([i,a],0),new Qs([l,c],0)]}class Dm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new _l(`Invalid padding: ${i}`);if(a<0)throw new _l(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new _l(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new _l(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Qs.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Qs.fromNumber(a)));return l.compare(bw)===1&&(l=new Qs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Ev(t),[a,l]=Tv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Dm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Ev(t),[a,l]=Tv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class _l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ph{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Bl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new ph(yt.min(),l,new le(xt),ts(),Dt())}}class Bl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Bl(a,i,Dt(),Dt(),Dt())}}class Uc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class TE{constructor(t,i){this.targetId=t,this.Ce=i}}class bE{constructor(t,i,a=Qe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class bv{constructor(){this.ve=0,this.Fe=Av(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Dt(),i=Dt(),a=Dt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:mt(38017,{changeType:c})}})),new Bl(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=Av()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Aw{constructor(t){this.Ge=t,this.ze=new Map,this.je=ts(),this.Je=wc(),this.He=wc(),this.Ye=new le(xt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:mt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(tm(c))if(a===0){const d=new ct(c.path);this.et(i,d,$e.newNoDocument(d,yt.min()))}else qt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Zs(a).toUint8Array()}catch(y){if(y instanceof Q0)return Xa("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Dm(d,l,c)}catch(y){return Xa(y instanceof _l?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&tm(p.target)){const y=new ct(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,$e.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Dt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const v=this.ot(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new ph(t,i,this.Ye,this.je,a);return this.je=ts(),this.Je=wc(),this.He=wc(),this.Ye=new le(xt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new bv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Me(xt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Me(xt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||it("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new bv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function wc(){return new le(ct.comparator)}function Av(){return new le(ct.comparator)}const Sw={asc:"ASCENDING",desc:"DESCENDING"},ww={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Rw={and:"AND",or:"OR"};class Iw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function im(r,t){return r.useProto3Json||ch(t)?t:{value:t}}function Xc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function AE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Cw(r,t){return Xc(r,t.toTimestamp())}function Ai(r){return qt(!!r,49232),yt.fromTimestamp((function(i){const a=$s(i);return new se(a.seconds,a.nanos)})(r))}function Om(r,t){return sm(r,t).canonicalString()}function sm(r,t){const i=(function(l){return new te(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function SE(r){const t=te.fromString(r);return qt(NE(t),10190,{key:t.toString()}),t}function rm(r,t){return Om(r.databaseId,t.path)}function kd(r,t){const i=SE(t);if(i.get(1)!==r.databaseId.projectId)throw new rt(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new rt(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ct(RE(i))}function wE(r,t){return Om(r.databaseId,t)}function Nw(r){const t=SE(r);return t.length===4?te.emptyPath():RE(t)}function am(r){return new te(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function RE(r){return qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Sv(r,t,i){return{name:rm(r,t),fields:i.value.mapValue.fields}}function xw(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:mt(39313,{state:v})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(v,b){return v.useProto3Json?(qt(b===void 0||typeof b=="string",58123),Qe.fromBase64String(b||"")):(qt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Qe.fromUint8Array(b||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(v){const b=v.code===void 0?X.UNKNOWN:EE(v.code);return new rt(b,v.message||"")})(d);i=new bE(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=kd(r,a.document.name),c=Ai(a.document.updateTime),d=a.document.createTime?Ai(a.document.createTime):yt.min(),p=new Vn({mapValue:{fields:a.document.fields}}),y=$e.newFoundDocument(l,c,d,p),v=a.targetIds||[],b=a.removedTargetIds||[];i=new Uc(v,b,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=kd(r,a.document),c=a.readTime?Ai(a.readTime):yt.min(),d=$e.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Uc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=kd(r,a.document),c=a.removedTargetIds||[];i=new Uc([],c,l,null)}else{if(!("filter"in t))return mt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new vw(l,c),p=a.targetId;i=new TE(p,d)}}return i}function Dw(r,t){let i;if(t instanceof jl)i={update:Sv(r,t.key,t.value)};else if(t instanceof vE)i={delete:rm(r,t.key)};else if(t instanceof Gr)i={update:Sv(r,t.key,t.data),updateMask:jw(t.fieldMask)};else{if(!(t instanceof pw))return mt(16599,{Vt:t.type});i={verify:rm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof Dl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Ol)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ml)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Yc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw mt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Cw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:mt(27497)})(r,t.precondition)),i}function Ow(r,t){return r&&r.length>0?(qt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Ai(l.updateTime):Ai(c);return d.isEqual(yt.min())&&(d=Ai(c)),new dw(d,l.transformResults||[])})(i,t)))):[]}function Mw(r,t){return{documents:[wE(r,t.path)]}}function Vw(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=wE(r,l);const c=(function(v){if(v.length!==0)return CE(Zn.create(v,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(v){if(v.length!==0)return v.map((b=>(function(U){return{field:za(U.field),direction:Lw(U.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=im(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{ft:i,parent:l}}function Uw(r){let t=Nw(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){qt(a===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(R){const U=IE(R);return U instanceof Zn&&nE(U)?U.getFilters():[U]})(i.where));let d=[];i.orderBy&&(d=(function(R){return R.map((U=>(function(J){return new Kc(ja(J.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(U)))})(i.orderBy));let p=null;i.limit&&(p=(function(R){let U;return U=typeof R=="object"?R.value:R,ch(U)?null:U})(i.limit));let y=null;i.startAt&&(y=(function(R){const U=!!R.before,G=R.values||[];return new Qc(G,U)})(i.startAt));let v=null;return i.endAt&&(v=(function(R){const U=!R.before,G=R.values||[];return new Qc(G,U)})(i.endAt)),WS(t,l,d,c,p,"F",y,v)}function kw(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function IE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ja(i.unaryFilter.field);return Ie.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=ja(i.unaryFilter.field);return Ie.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ja(i.unaryFilter.field);return Ie.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ja(i.unaryFilter.field);return Ie.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return mt(61313);default:return mt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ie.create(ja(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return mt(58110);default:return mt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Zn.create(i.compositeFilter.filters.map((a=>IE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return mt(1026)}})(i.compositeFilter.op))})(r):mt(30097,{filter:r})}function Lw(r){return Sw[r]}function Pw(r){return ww[r]}function zw(r){return Rw[r]}function za(r){return{fieldPath:r.canonicalString()}}function ja(r){return Ge.fromServerFormat(r.fieldPath)}function CE(r){return r instanceof Ie?(function(i){if(i.op==="=="){if(hv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NAN"}};if(cv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(hv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NOT_NAN"}};if(cv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(i.field),op:Pw(i.op),value:i.value}}})(r):r instanceof Zn?(function(i){const a=i.getFilters().map((l=>CE(l)));return a.length===1?a[0]:{compositeFilter:{op:zw(i.op),filters:a}}})(r):mt(54877,{filter:r})}function jw(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function NE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class qs{constructor(t,i,a,l,c=yt.min(),d=yt.min(),p=Qe.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new qs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Bw{constructor(t){this.yt=t}}function qw(r){const t=Uw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?nm(t,t.limit,"L"):t}class Hw{constructor(){this.Cn=new Fw}addToCollectionParentIndex(t,i){return this.Cn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(Xs.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(Xs.min())}updateCollectionGroup(t,i,a){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class Fw{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Me(te.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Me(te.comparator)).toArray()}}const wv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xE=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(xE,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class Wa{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Wa(0)}static cr(){return new Wa(-1)}}const Rv="LruGarbageCollector",Gw=1048576;function Iv([r,t],[i,a]){const l=xt(r,i);return l===0?xt(t,a):l}class Qw{constructor(t){this.Ir=t,this.buffer=new Me(Iv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Iv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Kw{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){it(Rv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ro(i)?it(Rv,"Ignoring IndexedDB error during garbage collection: ",i):await so(i)}await this.Vr(3e5)}))}}class Yw{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(uh.ce);const a=new Qw(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(wv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,y,v;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((R=>(R>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),l=this.params.maximumSequenceNumbersToCollect):l=R,d=Date.now(),this.nthSequenceNumber(t,l)))).next((R=>(a=R,p=Date.now(),this.removeTargets(t,a,i)))).next((R=>(c=R,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((R=>(v=Date.now(),La()<=Nt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${R} documents in `+(v-y)+`ms
Total Duration: ${v-b}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:R}))))}}function Xw(r,t){return new Yw(r,t)}class $w{constructor(){this.changes=new Fr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,$e.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Zw{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class Jw{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Sl(a.mutation,l,Xn.empty(),se.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Dt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Dt()){const l=Vr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=yl();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Vr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Dt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=ts();const d=Al(),p=(function(){return Al()})();return i.forEach(((y,v)=>{const b=a.get(v.key);l.has(v.key)&&(b===void 0||b.mutation instanceof Gr)?c=c.insert(v.key,v):b!==void 0?(d.set(v.key,b.mutation.getFieldMask()),Sl(b.mutation,v,b.mutation.getFieldMask(),se.now())):d.set(v.key,Xn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((v,b)=>d.set(v,b))),i.forEach(((v,b)=>p.set(v,new Zw(b,d.get(v)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Al();let l=new le(((d,p)=>d-p)),c=Dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const v=i.get(y);if(v===null)return;let b=a.get(y)||Xn.empty();b=p.applyToLocalView(v,b),a.set(y,b);const R=(l.get(p.batchId)||Dt()).add(y);l=l.insert(p.batchId,R)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),v=y.key,b=y.value,R=hE();b.forEach((U=>{if(!c.has(U)){const G=yE(i.get(U),a.get(U));G!==null&&R.set(U,G),c=c.add(U)}})),d.push(this.documentOverlayCache.saveOverlays(t,v,R))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return ct.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):aE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):$.resolve(Vr());let p=Il,y=c;return d.next((v=>$.forEach(v,((b,R)=>(p<R.largestBatchId&&(p=R.largestBatchId),c.get(b)?$.resolve():this.remoteDocumentCache.getEntry(t,b).next((U=>{y=y.insert(b,U)}))))).next((()=>this.populateOverlays(t,v,c))).next((()=>this.computeViews(t,y,v,Dt()))).next((b=>({batchId:p,changes:cE(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ct(i)).next((a=>{let l=yl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=yl();return this.indexManager.getCollectionParents(t,c).next((p=>$.forEach(p,(y=>{const v=(function(R,U){return new zl(U,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,v,a,l).next((b=>{b.forEach(((R,U)=>{d=d.insert(R,U)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((y,v)=>{const b=v.getKey();d.get(b)===null&&(d=d.insert(b,$e.newInvalidDocument(b)))}));let p=yl();return d.forEach(((y,v)=>{const b=c.get(y);b!==void 0&&Sl(b.mutation,v,Xn.empty(),se.now()),dh(i,v)&&(p=p.insert(y,v))})),p}))}}class Ww{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ai(l.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:qw(l.bundledQuery),readTime:Ai(l.readTime)}})(i)),$.resolve()}}class t2{constructor(){this.overlays=new le(ct.comparator),this.qr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Vr();return $.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(t,i,a){const l=Vr(),c=i.length+1,d=new ct(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,v=y.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return $.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new le(((v,b)=>v-b));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let b=c.get(v.largestBatchId);b===null&&(b=Vr(),c=c.insert(v.largestBatchId,b)),b.set(v.getKey(),v)}}const p=Vr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((v,b)=>p.set(v,b))),!(p.size()>=l)););return $.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new _w(i,a));let c=this.qr.get(i);c===void 0&&(c=Dt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class e2{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}class Mm{constructor(){this.Qr=new Me(Le.$r),this.Ur=new Me(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Le(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Le(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new ct(new te([])),a=new Le(i,t),l=new Le(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ct(new te([])),a=new Le(i,t),l=new Le(i,t+1);let c=Dt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Le(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Le{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ct.comparator(t.key,i.key)||xt(t.Yr,i.Yr)}static Kr(t,i){return xt(t.Yr,i.Yr)||ct.comparator(t.key,i.key)}}class n2{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Me(Le.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new yw(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Le(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Am:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Le(i,0),l=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Me(xt);return i.forEach((l=>{const c=new Le(l,0),d=new Le(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;ct.isDocumentKey(c)||(c=c.child(""));const d=new Le(new ct(c),0);let p=new Me(xt);return this.Zr.forEachWhile((y=>{const v=y.key.path;return!!a.isPrefixOf(v)&&(v.length===l&&(p=p.add(y.Yr)),!0)}),d),$.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){qt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(i.mutations,(l=>{const c=new Le(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Le(i,0),l=this.Zr.firstAfterOrEqual(a);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class i2{constructor(t){this.ri=t,this.docs=(function(){return new le(ct.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():$e.newInvalidDocument(i))}getEntries(t,i){let a=ts();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():$e.newInvalidDocument(l))})),$.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=ts();const d=i.path,p=new ct(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:v,value:{document:b}}=y.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||DS(xS(b),a)<=0||(l.has(b.key)||dh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,a,l){mt(9500)}ii(t,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new s2(this)}getSize(t){return $.resolve(this.size)}}class s2 extends $w{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),$.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class r2{constructor(t){this.persistence=t,this.si=new Fr((i=>Rm(i)),Im),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.oi=0,this._i=new Mm,this.targetCount=0,this.ai=Wa.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),$.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Wa(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.Pr(i),$.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return $.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),$.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return $.resolve(a)}containsKey(t,i){return $.resolve(this._i.containsKey(i))}}class DE{constructor(t,i){this.ui={},this.overlays={},this.ci=new uh(0),this.li=!1,this.li=!0,this.hi=new e2,this.referenceDelegate=t(this),this.Pi=new r2(this),this.indexManager=new Hw,this.remoteDocumentCache=(function(l){return new i2(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new Bw(i),this.Ii=new Ww(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new t2,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new n2(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){it("MemoryPersistence","Starting transaction:",t);const l=new a2(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return $.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class a2 extends MS{constructor(t){super(),this.currentSequenceNumber=t}}class Vm{constructor(t){this.persistence=t,this.Ri=new Mm,this.Vi=null}static mi(t){return new Vm(t)}get fi(){if(this.Vi)return this.Vi;throw mt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),$.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(a=>{const l=ct.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,yt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class $c{constructor(t,i){this.persistence=t,this.pi=new Fr((a=>kS(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=Xw(this,i)}static mi(t,i){return new $c(t,i)}Ei(){}di(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return $.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?$.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,yt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Oc(t.data.value)),i}br(t,i,a){return $.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return $.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Um{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Dt(),l=Dt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Um(t,i.fromCache,a,l)}}class o2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class l2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return J1()?8:VS(Ze())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new o2;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(La()<=Nt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",Pa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(La()<=Nt.DEBUG&&it("QueryEngine","Query:",Pa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(La()<=Nt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",Pa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ti(i))):$.resolve())}ys(t,i){if(gv(i))return $.resolve(null);let a=Ti(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=nm(i,null,"F"),a=Ti(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Dt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((y=>{const v=this.Ds(i,p);return this.Cs(i,v,d,y.readTime)?this.ys(t,nm(i,null,"F")):this.vs(t,v,i,y)}))))})))))}ws(t,i,a,l){return gv(i)||l.isEqual(yt.min())?$.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?$.resolve(null):(La()<=Nt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Pa(i)),this.vs(t,d,i,NS(l,Il)).next((p=>p)))}))}Ds(t,i){let a=new Me(lE(t));return i.forEach(((l,c)=>{dh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return La()<=Nt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Pa(i)),this.ps.getDocumentsMatchingQuery(t,i,Xs.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const km="LocalStore",u2=3e8;class c2{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new le(xt),this.xs=new Fr((c=>Rm(c)),Im),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Jw(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function h2(r,t,i,a){return new c2(r,t,i,a)}async function OE(r,t){const i=Et(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=Dt();for(const v of l){d.push(v.batchId);for(const b of v.mutations)y=y.add(b.key)}for(const v of c){p.push(v.batchId);for(const b of v.mutations)y=y.add(b.key)}return i.localDocuments.getDocuments(a,y).next((v=>({Ls:v,removedBatchIds:d,addedBatchIds:p})))}))}))}function f2(r,t){const i=Et(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,v,b){const R=v.batch,U=R.keys();let G=$.resolve();return U.forEach((J=>{G=G.next((()=>b.getEntry(y,J))).next((W=>{const Z=v.docVersions.get(J);qt(Z!==null,48541),W.version.compareTo(Z)<0&&(R.applyToRemoteDocument(W,v),W.isValidDocument()&&(W.setReadTime(v.commitVersion),b.addEntry(W)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(y,R)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=Dt();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(y=y.add(p.batch.mutations[v].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function ME(r){const t=Et(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function d2(r,t){const i=Et(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((b,R)=>{const U=l.get(R);if(!U)return;p.push(i.Pi.removeMatchingKeys(c,b.removedDocuments,R).next((()=>i.Pi.addMatchingKeys(c,b.addedDocuments,R))));let G=U.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(R)!==null?G=G.withResumeToken(Qe.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):b.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(b.resumeToken,a)),l=l.insert(R,G),(function(W,Z,lt){return W.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=u2?!0:lt.addedDocuments.size+lt.modifiedDocuments.size+lt.removedDocuments.size>0})(U,G,b)&&p.push(i.Pi.updateTargetData(c,G))}));let y=ts(),v=Dt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),p.push(m2(c,d,t.documentUpdates).next((b=>{y=b.ks,v=b.qs}))),!a.isEqual(yt.min())){const b=i.Pi.getLastRemoteSnapshotVersion(c).next((R=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(b)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,v))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function m2(r,t,i){let a=Dt(),l=Dt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=ts();return i.forEach(((p,y)=>{const v=c.get(p);y.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(yt.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):it(km,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function g2(r,t){const i=Et(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Am),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function p2(r,t){const i=Et(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,$.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new qs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function om(r,t,i){const a=Et(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!ro(d))throw d;it(km,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function Cv(r,t,i){const a=Et(r);let l=yt.min(),c=Dt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,v,b){const R=Et(y),U=R.xs.get(b);return U!==void 0?$.resolve(R.Ms.get(U)):R.Pi.getTargetData(v,b)})(a,d,Ti(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:yt.min(),i?c:Dt()))).next((p=>(y2(a,ew(t),p),{documents:p,Qs:c})))))}function y2(r,t,i){let a=r.Os.get(t)||yt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class Nv{constructor(){this.activeTargetIds=ow()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class _2{constructor(){this.Mo=new Nv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Nv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class v2{Oo(t){}shutdown(){}}const xv="ConnectivityMonitor";class Dv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it(xv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){it(xv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Rc=null;function lm(){return Rc===null?Rc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Rc++,"0x"+Rc.toString(16)}const Ld="RestConnection",E2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class T2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Fc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=lm(),p=this.zo(t,i.toUriEncodedString());it(Ld,`Sending RPC '${t}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:v}=new URL(p),b=eo(v);return this.Jo(t,p,y,a,b).then((R=>(it(Ld,`Received RPC '${t}' ${d}: `,R),R)),(R=>{throw Xa(Ld,`RPC '${t}' ${d} failed with error: `,R,"url: ",p,"request:",a),R}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+io})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=E2[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class b2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Ye="WebChannelConnection";class A2 extends T2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=lm();return new Promise(((p,y)=>{const v=new U0;v.setWithCredentials(!0),v.listenOnce(k0.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Dc.NO_ERROR:const R=v.getResponseJson();it(Ye,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(R)),p(R);break;case Dc.TIMEOUT:it(Ye,`RPC '${t}' ${d} timed out`),y(new rt(X.DEADLINE_EXCEEDED,"Request time out"));break;case Dc.HTTP_ERROR:const U=v.getStatus();if(it(Ye,`RPC '${t}' ${d} failed with status:`,U,"response text:",v.getResponseText()),U>0){let G=v.getResponseJson();Array.isArray(G)&&(G=G[0]);const J=G?.error;if(J&&J.status&&J.message){const W=(function(lt){const _t=lt.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(_t)>=0?_t:X.UNKNOWN})(J.status);y(new rt(W,J.message))}else y(new rt(X.UNKNOWN,"Server responded with status "+v.getStatus()))}else y(new rt(X.UNAVAILABLE,"Connection failed."));break;default:mt(9055,{l_:t,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{it(Ye,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(l);it(Ye,`RPC '${t}' ${d} sending request:`,l),v.send(i,"POST",b,a,15)}))}T_(t,i,a){const l=lm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=z0(),p=P0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const b=c.join("");it(Ye,`Creating RPC '${t}' stream ${l}: ${b}`,y);const R=d.createWebChannel(b,y);this.I_(R);let U=!1,G=!1;const J=new b2({Yo:Z=>{G?it(Ye,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(U||(it(Ye,`Opening RPC '${t}' stream ${l} transport.`),R.open(),U=!0),it(Ye,`RPC '${t}' stream ${l} sending:`,Z),R.send(Z))},Zo:()=>R.close()}),W=(Z,lt,_t)=>{Z.listen(lt,(dt=>{try{_t(dt)}catch(Bt){setTimeout((()=>{throw Bt}),0)}}))};return W(R,pl.EventType.OPEN,(()=>{G||(it(Ye,`RPC '${t}' stream ${l} transport opened.`),J.o_())})),W(R,pl.EventType.CLOSE,(()=>{G||(G=!0,it(Ye,`RPC '${t}' stream ${l} transport closed`),J.a_(),this.E_(R))})),W(R,pl.EventType.ERROR,(Z=>{G||(G=!0,Xa(Ye,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),J.a_(new rt(X.UNAVAILABLE,"The operation could not be completed")))})),W(R,pl.EventType.MESSAGE,(Z=>{if(!G){const lt=Z.data[0];qt(!!lt,16349);const _t=lt,dt=_t?.error||_t[0]?.error;if(dt){it(Ye,`RPC '${t}' stream ${l} received error:`,dt);const Bt=dt.status;let Jt=(function(A){const w=Re[A];if(w!==void 0)return EE(w)})(Bt),Ot=dt.message;Jt===void 0&&(Jt=X.INTERNAL,Ot="Unknown error status: "+Bt+" with message "+dt.message),G=!0,J.a_(new rt(Jt,Ot)),R.close()}else it(Ye,`RPC '${t}' stream ${l} received:`,lt),J.u_(lt)}})),W(p,L0.STAT_EVENT,(Z=>{Z.stat===Xd.PROXY?it(Ye,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===Xd.NOPROXY&&it(Ye,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Pd(){return typeof document<"u"?document:null}function yh(r){return new Iw(r,!0)}class VE{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Ov="PersistentStream";class UE{constructor(t,i,a,l,c,d,p,y){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new VE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(Wi(i.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new rt(X.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return it(Ov,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(it(Ov,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class S2 extends UE{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=xw(this.serializer,t),a=(function(c){if(!("targetChange"in c))return yt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?Ai(d.readTime):yt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=am(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=tm(y)?{documents:Mw(c,y)}:{query:Vw(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=AE(c,d.resumeToken);const v=im(c,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(yt.min())>0){p.readTime=Xc(c,d.snapshotVersion.toTimestamp());const v=im(c,d.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,t);const a=kw(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=am(this.serializer),i.removeTarget=t,this.q_(i)}}class w2 extends UE{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Ow(t.writeResults,t.commitTime),a=Ai(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=am(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>Dw(this.serializer,a)))};this.q_(i)}}class R2{}class I2 extends R2{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new rt(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,sm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new rt(X.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,sm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class C2{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wi(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Br="RemoteStore";class N2{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Qr(this)&&(it(Br,"Restarting streams for network reachability change."),await(async function(y){const v=Et(y);v.Ea.add(4),await ql(v),v.Ra.set("Unknown"),v.Ea.delete(4),await _h(v)})(this))}))})),this.Ra=new C2(a,l)}}async function _h(r){if(Qr(r))for(const t of r.da)await t(!0)}async function ql(r){for(const t of r.da)await t(!1)}function kE(r,t){const i=Et(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),jm(i)?zm(i):ao(i).O_()&&Pm(i,t))}function Lm(r,t){const i=Et(r),a=ao(i);i.Ia.delete(t),a.O_()&&LE(i,t),i.Ia.size===0&&(a.O_()?a.L_():Qr(i)&&i.Ra.set("Unknown"))}function Pm(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(yt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ao(r).Y_(t)}function LE(r,t){r.Va.Ue(t),ao(r).Z_(t)}function zm(r){r.Va=new Aw({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),ao(r).start(),r.Ra.ua()}function jm(r){return Qr(r)&&!ao(r).x_()&&r.Ia.size>0}function Qr(r){return Et(r).Ea.size===0}function PE(r){r.Va=void 0}async function x2(r){r.Ra.set("Online")}async function D2(r){r.Ia.forEach(((t,i)=>{Pm(r,t)}))}async function O2(r,t){PE(r),jm(r)?(r.Ra.ha(t),zm(r)):r.Ra.set("Unknown")}async function M2(r,t,i){if(r.Ra.set("Online"),t instanceof bE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(a){it(Br,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Zc(r,a)}else if(t instanceof Uc?r.Va.Ze(t):t instanceof TE?r.Va.st(t):r.Va.tt(t),!i.isEqual(yt.min()))try{const a=await ME(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const b=c.Ia.get(v);b&&c.Ia.set(v,b.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,v)=>{const b=c.Ia.get(y);if(!b)return;c.Ia.set(y,b.withResumeToken(Qe.EMPTY_BYTE_STRING,b.snapshotVersion)),LE(c,y);const R=new qs(b.target,y,v,b.sequenceNumber);Pm(c,R)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){it(Br,"Failed to raise snapshot:",a),await Zc(r,a)}}async function Zc(r,t,i){if(!ro(t))throw t;r.Ea.add(1),await ql(r),r.Ra.set("Offline"),i||(i=()=>ME(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{it(Br,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await _h(r)}))}function zE(r,t){return t().catch((i=>Zc(r,i,t)))}async function vh(r){const t=Et(r),i=Ws(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Am;for(;V2(t);)try{const l=await g2(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,U2(t,l)}catch(l){await Zc(t,l)}jE(t)&&BE(t)}function V2(r){return Qr(r)&&r.Ta.length<10}function U2(r,t){r.Ta.push(t);const i=Ws(r);i.O_()&&i.X_&&i.ea(t.mutations)}function jE(r){return Qr(r)&&!Ws(r).x_()&&r.Ta.length>0}function BE(r){Ws(r).start()}async function k2(r){Ws(r).ra()}async function L2(r){const t=Ws(r);for(const i of r.Ta)t.ea(i.mutations)}async function P2(r,t,i){const a=r.Ta.shift(),l=xm.from(a,t,i);await zE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await vh(r)}async function z2(r,t){t&&Ws(r).X_&&await(async function(a,l){if((function(d){return Ew(d)&&d!==X.ABORTED})(l.code)){const c=a.Ta.shift();Ws(a).B_(),await zE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await vh(a)}})(r,t),jE(r)&&BE(r)}async function Mv(r,t){const i=Et(r);i.asyncQueue.verifyOperationInProgress(),it(Br,"RemoteStore received new credentials");const a=Qr(i);i.Ea.add(3),await ql(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await _h(i)}async function j2(r,t){const i=Et(r);t?(i.Ea.delete(2),await _h(i)):t||(i.Ea.add(2),await ql(i),i.Ra.set("Unknown"))}function ao(r){return r.ma||(r.ma=(function(i,a,l){const c=Et(i);return c.sa(),new S2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:x2.bind(null,r),t_:D2.bind(null,r),r_:O2.bind(null,r),H_:M2.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),jm(r)?zm(r):r.Ra.set("Unknown")):(await r.ma.stop(),PE(r))}))),r.ma}function Ws(r){return r.fa||(r.fa=(function(i,a,l){const c=Et(i);return c.sa(),new w2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:k2.bind(null,r),r_:z2.bind(null,r),ta:L2.bind(null,r),na:P2.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await vh(r)):(await r.fa.stop(),r.Ta.length>0&&(it(Br,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Bm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new Bm(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qm(r,t){if(Wi("AsyncQueue",`${t}: ${r}`),ro(r))return new rt(X.UNAVAILABLE,`${t}: ${r}`);throw r}class Ha{static emptySet(t){return new Ha(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ct.comparator(i.key,a.key):(i,a)=>ct.comparator(i.key,a.key),this.keyedMap=yl(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ha)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ha;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Vv{constructor(){this.ga=new le(ct.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):mt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class to{constructor(t,i,a,l,c,d,p,y,v){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new to(t,i,Ha.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&fh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class B2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class q2{constructor(){this.queries=Uv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Et(i),c=l.queries;l.queries=Uv(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new rt(X.ABORTED,"Firestore shutting down"))}}function Uv(){return new Fr((r=>oE(r)),fh)}async function H2(r,t){const i=Et(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new B2,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=qm(d,`Initialization of query '${Pa(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Hm(i)}async function F2(r,t){const i=Et(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function G2(r,t){const i=Et(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&Hm(i)}function Q2(r,t,i){const a=Et(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function Hm(r){r.Ca.forEach((t=>{t.next()}))}var um,kv;(kv=um||(um={})).Ma="default",kv.Cache="cache";class K2{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new to(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=to.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==um.Cache}}class qE{constructor(t){this.key=t}}class HE{constructor(t){this.key=t}}class Y2{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Dt(),this.mutatedKeys=Dt(),this.eu=lE(t),this.tu=new Ha(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new Vv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((b,R)=>{const U=l.get(b),G=dh(this.query,R)?R:null,J=!!U&&this.mutatedKeys.has(U.key),W=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let Z=!1;U&&G?U.data.isEqual(G.data)?J!==W&&(a.track({type:3,doc:G}),Z=!0):this.su(U,G)||(a.track({type:2,doc:G}),Z=!0,(y&&this.eu(G,y)>0||v&&this.eu(G,v)<0)&&(p=!0)):!U&&G?(a.track({type:0,doc:G}),Z=!0):U&&!G&&(a.track({type:1,doc:U}),Z=!0,(y||v)&&(p=!0)),Z&&(G?(d=d.add(G),c=W?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,R)=>(function(G,J){const W=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt(20277,{Rt:Z})}};return W(G)-W(J)})(b.type,R.type)||this.eu(b.doc,R.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,v=y!==this.Za;return this.Za=y,d.length!==0||v?{snapshot:new to(this.query,t.tu,c,d,t.mutatedKeys,y===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Vv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Dt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new HE(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new qE(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Dt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return to.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Fm="SyncEngine";class X2{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class $2{constructor(t){this.key=t,this.hu=!1}}class Z2{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Fr((p=>oE(p)),fh),this.Iu=new Map,this.Eu=new Set,this.du=new le(ct.comparator),this.Au=new Map,this.Ru=new Mm,this.Vu={},this.mu=new Map,this.fu=Wa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function J2(r,t,i=!0){const a=XE(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await FE(a,t,i,!0),l}async function W2(r,t){const i=XE(r);await FE(i,t,!0,!1)}async function FE(r,t,i,a){const l=await p2(r.localStore,Ti(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await tR(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&kE(r.remoteStore,l),p}async function tR(r,t,i,a,l){r.pu=(R,U,G)=>(async function(W,Z,lt,_t){let dt=Z.view.ru(lt);dt.Cs&&(dt=await Cv(W.localStore,Z.query,!1).then((({documents:S})=>Z.view.ru(S,dt))));const Bt=_t&&_t.targetChanges.get(Z.targetId),Jt=_t&&_t.targetMismatches.get(Z.targetId)!=null,Ot=Z.view.applyChanges(dt,W.isPrimaryClient,Bt,Jt);return Pv(W,Z.targetId,Ot.au),Ot.snapshot})(r,R,U,G);const c=await Cv(r.localStore,t,!0),d=new Y2(t,c.Qs),p=d.ru(c.documents),y=Bl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),v=d.applyChanges(p,r.isPrimaryClient,y);Pv(r,i,v.au);const b=new X2(t,i,d);return r.Tu.set(t,b),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),v.snapshot}async function eR(r,t,i){const a=Et(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!fh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await om(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Lm(a.remoteStore,l.targetId),cm(a,l.targetId)})).catch(so)):(cm(a,l.targetId),await om(a.localStore,l.targetId,!0))}async function nR(r,t){const i=Et(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Lm(i.remoteStore,a.targetId))}async function iR(r,t,i){const a=cR(r);try{const l=await(function(d,p){const y=Et(d),v=se.now(),b=p.reduce(((G,J)=>G.add(J.key)),Dt());let R,U;return y.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let J=ts(),W=Dt();return y.Ns.getEntries(G,b).next((Z=>{J=Z,J.forEach(((lt,_t)=>{_t.isValidDocument()||(W=W.add(lt))}))})).next((()=>y.localDocuments.getOverlayedDocuments(G,J))).next((Z=>{R=Z;const lt=[];for(const _t of p){const dt=gw(_t,R.get(_t.key).overlayedDocument);dt!=null&&lt.push(new Gr(_t.key,dt,W0(dt.value.mapValue),bi.exists(!0)))}return y.mutationQueue.addMutationBatch(G,v,lt,p)})).next((Z=>{U=Z;const lt=Z.applyToLocalDocumentSet(R,W);return y.documentOverlayCache.saveOverlays(G,Z.batchId,lt)}))})).then((()=>({batchId:U.batchId,changes:cE(R)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let v=d.Vu[d.currentUser.toKey()];v||(v=new le(xt)),v=v.insert(p,y),d.Vu[d.currentUser.toKey()]=v})(a,l.batchId,i),await Hl(a,l.changes),await vh(a.remoteStore)}catch(l){const c=qm(l,"Failed to persist write");i.reject(c)}}async function GE(r,t){const i=Et(r);try{const a=await d2(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?qt(d.hu,14607):l.removedDocuments.size>0&&(qt(d.hu,42227),d.hu=!1))})),await Hl(i,a,t)}catch(a){await so(a)}}function Lv(r,t,i){const a=Et(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=Et(d);y.onlineState=p;let v=!1;y.queries.forEach(((b,R)=>{for(const U of R.Sa)U.va(p)&&(v=!0)})),v&&Hm(y)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function sR(r,t,i){const a=Et(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new le(ct.comparator);d=d.insert(c,$e.newNoDocument(c,yt.min()));const p=Dt().add(c),y=new ph(yt.min(),new Map,new le(xt),d,p);await GE(a,y),a.du=a.du.remove(c),a.Au.delete(t),Gm(a)}else await om(a.localStore,t,!1).then((()=>cm(a,t,i))).catch(so)}async function rR(r,t){const i=Et(r),a=t.batch.batchId;try{const l=await f2(i.localStore,t);KE(i,a,null),QE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Hl(i,l)}catch(l){await so(l)}}async function aR(r,t,i){const a=Et(r);try{const l=await(function(d,p){const y=Et(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let b;return y.mutationQueue.lookupMutationBatch(v,p).next((R=>(qt(R!==null,37113),b=R.keys(),y.mutationQueue.removeMutationBatch(v,R)))).next((()=>y.mutationQueue.performConsistencyCheck(v))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(v,b,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,b))).next((()=>y.localDocuments.getDocuments(v,b)))}))})(a.localStore,t);KE(a,t,i),QE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Hl(a,l)}catch(l){await so(l)}}function QE(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function KE(r,t,i){const a=Et(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function cm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||YE(r,a)}))}function YE(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Lm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),Gm(r))}function Pv(r,t,i){for(const a of i)a instanceof qE?(r.Ru.addReference(a.key,t),oR(r,a)):a instanceof HE?(it(Fm,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||YE(r,a.key)):mt(19791,{wu:a})}function oR(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(it(Fm,"New document in limbo: "+i),r.Eu.add(a),Gm(r))}function Gm(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new ct(te.fromString(t)),a=r.fu.next();r.Au.set(a,new $2(i)),r.du=r.du.insert(i,a),kE(r.remoteStore,new qs(Ti(Cm(i.path)),a,"TargetPurposeLimboResolution",uh.ce))}}async function Hl(r,t,i){const a=Et(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,t,i).then((v=>{if((v||i)&&a.isPrimaryClient){const b=v?!v.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,b?"current":"not-current")}if(v){l.push(v);const b=Um.As(y.targetId,v);c.push(b)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(y,v){const b=Et(y);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(R=>$.forEach(v,(U=>$.forEach(U.Es,(G=>b.persistence.referenceDelegate.addReference(R,U.targetId,G))).next((()=>$.forEach(U.ds,(G=>b.persistence.referenceDelegate.removeReference(R,U.targetId,G)))))))))}catch(R){if(!ro(R))throw R;it(km,"Failed to update sequence numbers: "+R)}for(const R of v){const U=R.targetId;if(!R.fromCache){const G=b.Ms.get(U),J=G.snapshotVersion,W=G.withLastLimboFreeSnapshotVersion(J);b.Ms=b.Ms.insert(U,W)}}})(a.localStore,c))}async function lR(r,t){const i=Et(r);if(!i.currentUser.isEqual(t)){it(Fm,"User change. New user:",t.toKey());const a=await OE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new rt(X.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Hl(i,a.Ls)}}function uR(r,t){const i=Et(r),a=i.Au.get(t);if(a&&a.hu)return Dt().add(a.key);{let l=Dt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function XE(r){const t=Et(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=GE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=uR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=sR.bind(null,t),t.Pu.H_=G2.bind(null,t.eventManager),t.Pu.yu=Q2.bind(null,t.eventManager),t}function cR(r){const t=Et(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=rR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=aR.bind(null,t),t}class Jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=yh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return h2(this.persistence,new l2,t.initialUser,this.serializer)}Cu(t){return new DE(Vm.mi,this.serializer)}Du(t){return new _2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jc.provider={build:()=>new Jc};class hR extends Jc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){qt(this.persistence.referenceDelegate instanceof $c,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Kw(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new DE((a=>$c.mi(a,i)),this.serializer)}}class hm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Lv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=lR.bind(null,this.syncEngine),await j2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new q2})()}createDatastore(t){const i=yh(t.databaseInfo.databaseId),a=(function(c){return new A2(c)})(t.databaseInfo);return(function(c,d,p,y){return new I2(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new N2(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Lv(this.syncEngine,i,0)),(function(){return Dv.v()?new Dv:new v2})())}createSyncEngine(t,i){return(function(l,c,d,p,y,v,b){const R=new Z2(l,c,d,p,y,v);return b&&(R.gu=!0),R})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Et(i);it(Br,"RemoteStore shutting down."),a.Ea.add(5),await ql(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}hm.provider={build:()=>new hm};class fR{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Wi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const tr="FirestoreClient";class dR{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=Xe.UNAUTHENTICATED,this.clientId=bm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{it(tr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(it(tr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=qm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function zd(r,t){r.asyncQueue.verifyOperationInProgress(),it(tr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await OE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function zv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await mR(r);it(tr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Mv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>Mv(t.remoteStore,l))),r._onlineComponents=t}async function mR(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){it(tr,"Using user provided OfflineComponentProvider");try{await zd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Xa("Error using user provided cache. Falling back to memory cache: "+i),await zd(r,new Jc)}}else it(tr,"Using default OfflineComponentProvider"),await zd(r,new hR(void 0));return r._offlineComponents}async function $E(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(it(tr,"Using user provided OnlineComponentProvider"),await zv(r,r._uninitializedComponentsProvider._online)):(it(tr,"Using default OnlineComponentProvider"),await zv(r,new hm))),r._onlineComponents}function gR(r){return $E(r).then((t=>t.syncEngine))}async function jv(r){const t=await $E(r),i=t.eventManager;return i.onListen=J2.bind(null,t.syncEngine),i.onUnlisten=eR.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=W2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=nR.bind(null,t.syncEngine),i}function ZE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const Bv=new Map;const JE="firestore.googleapis.com",qv=!0;class Hv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new rt(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=JE,this.ssl=qv}else this.host=t.host,this.ssl=t.ssl??qv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=xE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Gw)throw new rt(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}CS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZE(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new rt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new rt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new rt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Eh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new rt(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new _S;switch(a.type){case"firstParty":return new bS(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new rt(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Bv.get(i);a&&(it("ComponentProvider","Removing Datastore"),Bv.delete(i),a.terminate())})(this),Promise.resolve()}}function pR(r,t,i,a={}){r=kr(r,Eh);const l=eo(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(R0(`https://${p}`),I0("Firestore",!0)),c.host!==JE&&c.host!==p&&Xa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:a};if(!Pr(y,d)&&(r._setSettings(y),a.mockUserToken)){let v,b;if(typeof a.mockUserToken=="string")v=a.mockUserToken,b=Xe.MOCK_USER;else{v=H1(a.mockUserToken,r._app?.options.projectId);const R=a.mockUserToken.sub||a.mockUserToken.user_id;if(!R)throw new rt(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Xe(R)}r._authCredentials=new vS(new B0(v,b))}}class oo{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new oo(this.firestore,t,this._query)}}class Ne{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ks(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ne(this.firestore,t,this._key)}toJSON(){return{type:Ne._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Pl(i,Ne._jsonSchema))return new Ne(t,a||null,new ct(te.fromString(i.referencePath)))}}Ne._jsonSchemaVersion="firestore/documentReference/1.0",Ne._jsonSchema={type:Ce("string",Ne._jsonSchemaVersion),referencePath:Ce("string")};class Ks extends oo{constructor(t,i,a){super(t,i,Cm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ne(this.firestore,null,new ct(t))}withConverter(t){return new Ks(this.firestore,t,this._path)}}function Ic(r,t,...i){if(r=hn(r),q0("collection","path",t),r instanceof Eh){const a=te.fromString(t,...i);return ev(a),new Ks(r,null,a)}{if(!(r instanceof Ne||r instanceof Ks))throw new rt(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(te.fromString(t,...i));return ev(a),new Ks(r.firestore,null,a)}}function Ba(r,t,...i){if(r=hn(r),arguments.length===1&&(t=bm.newId()),q0("doc","path",t),r instanceof Eh){const a=te.fromString(t,...i);return tv(a),new Ne(r,null,new ct(a))}{if(!(r instanceof Ne||r instanceof Ks))throw new rt(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(te.fromString(t,...i));return tv(a),new Ne(r.firestore,r instanceof Ks?r.converter:null,new ct(a))}}const Fv="AsyncQueue";class Gv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new VE(this,"async_queue_retry"),this._c=()=>{const a=Pd();a&&it(Fv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Pd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Pd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ur;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ro(t))throw t;it(Fv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,Wi("INTERNAL UNHANDLED ERROR: ",Qv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Bm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&mt(47125,{Pc:Qv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Qv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function Kv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Vl extends Eh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new Gv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Gv(t),this._firestoreClient=void 0,await t}}}function yR(r,t){const i=typeof r=="object"?r:D0(),a=typeof r=="string"?r:Fc,l=Em(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=B1("firestore");c&&pR(l,...c)}return l}function WE(r){if(r._terminated)throw new rt(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||_R(r),r._firestoreClient}function _R(r){const t=r._freezeSettings(),i=(function(l,c,d,p){return new zS(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,ZE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new dR(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Un{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Un(Qe.fromBase64String(t))}catch(i){throw new rt(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Un(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Pl(t,Un._jsonSchema))return Un.fromBase64String(t.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Ce("string",Un._jsonSchemaVersion),bytes:Ce("string")};class Qm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new rt(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Km{constructor(t){this._methodName=t}}class Si{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new rt(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new rt(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return xt(this._lat,t._lat)||xt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Si._jsonSchemaVersion}}static fromJSON(t){if(Pl(t,Si._jsonSchema))return new Si(t.latitude,t.longitude)}}Si._jsonSchemaVersion="firestore/geoPoint/1.0",Si._jsonSchema={type:Ce("string",Si._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};class wi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Pl(t,wi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new wi(t.vectorValues);throw new rt(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wi._jsonSchemaVersion="firestore/vectorValue/1.0",wi._jsonSchema={type:Ce("string",wi._jsonSchemaVersion),vectorValues:Ce("object")};const vR=/^__.*__$/;class ER{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Gr(t,this.data,this.fieldMask,i,this.fieldTransforms):new jl(t,this.data,i,this.fieldTransforms)}}function tT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt(40011,{Ac:r})}}class Ym{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Ym({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Wc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(tT(this.Ac)&&vR.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class TR{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||yh(t)}Cc(t,i,a,l=!1){return new Ym({Ac:t,methodName:i,Dc:a,path:Ge.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xm(r){const t=r._freezeSettings(),i=yh(r._databaseId);return new TR(r._databaseId,!!t.ignoreUndefinedProperties,i)}function eT(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);sT("Data must be an object, but it was:",d,a);const p=nT(a,d);let y,v;if(c.merge)y=new Xn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const R of c.mergeFields){const U=AR(t,R,i);if(!d.contains(U))throw new rt(X.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);wR(b,U)||b.push(U)}y=new Xn(b),v=d.fieldTransforms.filter((R=>y.covers(R.field)))}else y=null,v=d.fieldTransforms;return new ER(new Vn(p),y,v)}class $m extends Km{_toFieldTransform(t){return new hw(t.path,new Dl)}isEqual(t){return t instanceof $m}}function bR(r,t,i,a=!1){return Zm(i,r.Cc(a?4:3,t))}function Zm(r,t){if(iT(r=hn(r)))return sT("Unsupported field value:",t,r),nT(r,t);if(r instanceof Km)return(function(a,l){if(!tT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let y=Zm(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=hn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return lw(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=se.fromDate(a);return{timestampValue:Xc(l.serializer,c)}}if(a instanceof se){const c=new se(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Xc(l.serializer,c)}}if(a instanceof Si)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Un)return{bytesValue:AE(l.serializer,a._byteString)};if(a instanceof Ne){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Om(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof wi)return(function(d,p){return{mapValue:{fields:{[Z0]:{stringValue:J0},[Gc]:{arrayValue:{values:d.toArray().map((v=>{if(typeof v!="number")throw p.Sc("VectorValues must only contain numeric values.");return Nm(p.serializer,v)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${lh(a)}`)})(r,t)}function nT(r,t){const i={};return G0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Hr(r,((a,l)=>{const c=Zm(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function iT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof se||r instanceof Si||r instanceof Un||r instanceof Ne||r instanceof Km||r instanceof wi)}function sT(r,t,i){if(!iT(i)||!H0(i)){const a=lh(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function AR(r,t,i){if((t=hn(t))instanceof Qm)return t._internalPath;if(typeof t=="string")return rT(r,t);throw Wc("Field path arguments must be of type string or ",r,!1,void 0,i)}const SR=new RegExp("[~\\*/\\[\\]]");function rT(r,t,i){if(t.search(SR)>=0)throw Wc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Qm(...t.split("."))._internalPath}catch{throw Wc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Wc(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new rt(X.INVALID_ARGUMENT,p+r+y)}function wR(r,t){return r.some((i=>i.isEqual(t)))}class aT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ne(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new RR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(oT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class RR extends aT{data(){return super.data()}}function oT(r,t){return typeof t=="string"?rT(r,t):t instanceof Qm?t._internalPath:t._delegate._internalPath}function IR(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new rt(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jm{}class CR extends Jm{}function jd(r,t,...i){let a=[];t instanceof Jm&&a.push(t),a=a.concat(i),(function(c){const d=c.filter((y=>y instanceof tg)).length,p=c.filter((y=>y instanceof Wm)).length;if(d>1||d>0&&p>0)throw new rt(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)r=l._apply(r);return r}class Wm extends CR{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new Wm(t,i,a)}_apply(t){const i=this._parse(t);return lT(t._query,i),new oo(t.firestore,t.converter,em(t._query,i))}_parse(t){const i=Xm(t.firestore);return(function(c,d,p,y,v,b,R){let U;if(v.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new rt(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){Xv(R,b);const J=[];for(const W of R)J.push(Yv(y,c,W));U={arrayValue:{values:J}}}else U=Yv(y,c,R)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||Xv(R,b),U=bR(p,d,R,b==="in"||b==="not-in");return Ie.create(v,b,U)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class tg extends Jm{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new tg(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:Zn.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const y of p)lT(d,y),d=em(d,y)})(t._query,i),new oo(t.firestore,t.converter,em(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Yv(r,t,i){if(typeof(i=hn(i))=="string"){if(i==="")throw new rt(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aE(t)&&i.indexOf("/")!==-1)throw new rt(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(te.fromString(i));if(!ct.isDocumentKey(a))throw new rt(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return uv(r,new ct(a))}if(i instanceof Ne)return uv(r,i._key);throw new rt(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lh(i)}.`)}function Xv(r,t){if(!Array.isArray(r)||r.length===0)throw new rt(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function lT(r,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new rt(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new rt(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class NR{convertValue(t,i="none"){switch(Js(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Zs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw mt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Hr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Gc].arrayValue?.values?.map((a=>pe(a.doubleValue)));return new wi(i)}convertGeoPoint(t){return new Si(pe(t.latitude),pe(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=hh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Cl(t));default:return null}}convertTimestamp(t){const i=$s(t);return new se(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=te.fromString(t);qt(NE(a),9688,{name:t});const l=new Nl(a.get(1),a.get(3)),c=new ct(a.popFirst(5));return l.isEqual(i)||Wi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function uT(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class vl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Lr extends aT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(oT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Lr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Lr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Lr._jsonSchema={type:Ce("string",Lr._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class kc extends Lr{data(t={}){return super.data(t)}}class Fa{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new vl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new kc(this._firestore,this._userDataWriter,a.key,a,new vl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new kc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new vl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new kc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new vl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,b=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:xR(p.type),doc:y,oldIndex:v,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Fa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=bm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function xR(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt(61501,{type:r})}}Fa._jsonSchemaVersion="firestore/querySnapshot/1.0",Fa._jsonSchema={type:Ce("string",Fa._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class cT extends NR{constructor(t){super(),this.firestore=t}convertBytes(t){return new Un(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ne(this.firestore,null,i)}}function Cc(r,t,i){r=kr(r,Ne);const a=kr(r.firestore,Vl),l=uT(r.converter,t);return hT(a,[eT(Xm(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,bi.none())])}function DR(r,t){const i=kr(r.firestore,Vl),a=Ba(r),l=uT(r.converter,t);return hT(i,[eT(Xm(r.firestore),"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,bi.exists(!1))]).then((()=>a))}function Nc(r,...t){r=hn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||Kv(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Kv(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof Ne)d=kr(r.firestore,Vl),p=Cm(r._key.path),c={next:y=>{t[a]&&t[a](OR(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=kr(r,oo);d=kr(y.firestore,Vl),p=y._query;const v=new cT(d);c={next:b=>{t[a]&&t[a](new Fa(d,v,y,b))},error:t[a+1],complete:t[a+2]},IR(r._query)}return(function(v,b,R,U){const G=new fR(U),J=new K2(b,G,R);return v.asyncQueue.enqueueAndForget((async()=>H2(await jv(v),J))),()=>{G.Nu(),v.asyncQueue.enqueueAndForget((async()=>F2(await jv(v),J)))}})(WE(d),p,l,c)}function hT(r,t){return(function(a,l){const c=new Ur;return a.asyncQueue.enqueueAndForget((async()=>iR(await gR(a),l,c))),c.promise})(WE(r),t)}function OR(r,t,i){const a=i.docs.get(t._key),l=new cT(r);return new Lr(r,l,t._key,a,new vl(i.hasPendingWrites,i.fromCache),t.converter)}function MR(){return new $m("serverTimestamp")}(function(t,i=!0){(function(l){io=l})(no),Ya(new zr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new Vl(new ES(a.getProvider("auth-internal")),new AS(d,a.getProvider("app-check-internal")),(function(v,b){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new rt(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nl(v.options.projectId,b)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Gs($_,Z_,t),Gs($_,Z_,"esm2020")})();function fT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VR=fT,dT=new kl("auth","Firebase",fT());const th=new _m("@firebase/auth");function UR(r,...t){th.logLevel<=Nt.WARN&&th.warn(`Auth (${no}): ${r}`,...t)}function Lc(r,...t){th.logLevel<=Nt.ERROR&&th.error(`Auth (${no}): ${r}`,...t)}function es(r,...t){throw eg(r,...t)}function Ri(r,...t){return eg(r,...t)}function mT(r,t,i){const a={...VR(),[t]:i};return new kl("auth","Firebase",a).create(t,{appName:r.name})}function Ys(r){return mT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function eg(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return dT.create(r,...t)}function gt(r,t,...i){if(!r)throw eg(t,...i)}function $i(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Lc(t),new Error(t)}function ns(r,t){r||$i(t)}function fm(){return typeof self<"u"&&self.location?.href||""}function kR(){return $v()==="http:"||$v()==="https:"}function $v(){return typeof self<"u"&&self.location?.protocol||null}function LR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kR()||X1()||"connection"in navigator)?navigator.onLine:!0}function PR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Fl{constructor(t,i){this.shortDelay=t,this.longDelay=i,ns(i>t,"Short delay should be less than long delay!"),this.isMobile=Q1()||$1()}get(){return LR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ng(r,t){ns(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class gT{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const zR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const jR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],BR=new Fl(3e4,6e4);function Th(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function lo(r,t,i,a,l={}){return pT(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Ll({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const v={method:t,headers:y,...c};return Y1()||(v.referrerPolicy="no-referrer"),r.emulatorConfig&&eo(r.emulatorConfig.host)&&(v.credentials="include"),gT.fetch()(await _T(r,r.config.apiHost,i,p),v)})}async function pT(r,t,i){r._canInitEmulator=!1;const a={...zR,...t};try{const l=new qR(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw xc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,v]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw xc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw xc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw xc(r,"user-disabled",d);const b=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw mT(r,b,v);es(r,b)}}catch(l){if(l instanceof is)throw l;es(r,"network-request-failed",{message:String(l)})}}async function yT(r,t,i,a,l={}){const c=await lo(r,t,i,a,l);return"mfaPendingCredential"in c&&es(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function _T(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?ng(r.config,l):`${r.config.apiScheme}://${l}`;return jR.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class qR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ri(this.auth,"network-request-failed")),BR.get())})}}function xc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ri(r,t,a);return l.customData._tokenResponse=i,l}async function HR(r,t){return lo(r,"POST","/v1/accounts:delete",t)}async function eh(r,t){return lo(r,"POST","/v1/accounts:lookup",t)}function wl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function FR(r,t=!1){const i=hn(r),a=await i.getIdToken(t),l=ig(a);gt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:wl(Bd(l.auth_time)),issuedAtTime:wl(Bd(l.iat)),expirationTime:wl(Bd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Bd(r){return Number(r)*1e3}function ig(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Lc("JWT malformed, contained fewer than 3 sections"),null;try{const l=b0(i);return l?JSON.parse(l):(Lc("Failed to decode base64 JWT payload"),null)}catch(l){return Lc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Zv(r){const t=ig(r);return gt(t,"internal-error"),gt(typeof t.exp<"u","internal-error"),gt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ul(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof is&&GR(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function GR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class QR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class dm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=wl(this.lastLoginAt),this.creationTime=wl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function nh(r){const t=r.auth,i=await r.getIdToken(),a=await Ul(r,eh(t,{idToken:i}));gt(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?vT(l.providerUserInfo):[],d=YR(r.providerData,c),p=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,v=p?y:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new dm(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(r,b)}async function KR(r){const t=hn(r);await nh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function YR(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function vT(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function XR(r,t){const i=await pT(r,{},async()=>{const a=Ll({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await _T(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return r.emulatorConfig&&eo(r.emulatorConfig.host)&&(y.credentials="include"),gT.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function $R(r,t){return lo(r,"POST","/v2/accounts:revokeToken",Th(r,t))}class Ga{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){gt(t.idToken,"internal-error"),gt(typeof t.idToken<"u","internal-error"),gt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Zv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){gt(t.length!==0,"internal-error");const i=Zv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(gt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await XR(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ga;return a&&(gt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(gt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(gt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ga,this.toJSON())}_performRefresh(){return $i("not implemented")}}function Ls(r,t){gt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class $n{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new QR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new dm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Ul(this,this.stsTokenManager.getToken(this.auth,t));return gt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return FR(this,t)}reload(){return KR(this)}_assign(t){this!==t&&(gt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new $n({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await nh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(Ys(this.auth));const t=await this.getIdToken();return await Ul(this,HR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,v=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:R,emailVerified:U,isAnonymous:G,providerData:J,stsTokenManager:W}=i;gt(R&&W,t,"internal-error");const Z=Ga.fromJSON(this.name,W);gt(typeof R=="string",t,"internal-error"),Ls(a,t.name),Ls(l,t.name),gt(typeof U=="boolean",t,"internal-error"),gt(typeof G=="boolean",t,"internal-error"),Ls(c,t.name),Ls(d,t.name),Ls(p,t.name),Ls(y,t.name),Ls(v,t.name),Ls(b,t.name);const lt=new $n({uid:R,auth:t,email:l,emailVerified:U,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:Z,createdAt:v,lastLoginAt:b});return J&&Array.isArray(J)&&(lt.providerData=J.map(_t=>({..._t}))),y&&(lt._redirectEventId=y),lt}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ga;l.updateFromServerResponse(i);const c=new $n({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await nh(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];gt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?vT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Ga;p.updateFromIdToken(a);const y=new $n({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new dm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,v),y}}const Jv=new Map;function Zi(r){ns(r instanceof Function,"Expected a class definition");let t=Jv.get(r);return t?(ns(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Jv.set(r,t),t)}class ET{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}ET.type="NONE";const Wv=ET;function Pc(r,t,i){return`firebase:${r}:${t}:${i}`}class Qa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Pc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Pc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await eh(this.auth,{idToken:t}).catch(()=>{});return i?$n._fromGetAccountInfoResponse(this.auth,i,t):null}return $n._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Qa(Zi(Wv),t,a);const l=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=l[0]||Zi(Wv);const d=Pc(a,t.config.apiKey,t.name);let p=null;for(const v of i)try{const b=await v._get(d);if(b){let R;if(typeof b=="string"){const U=await eh(t,{idToken:b}).catch(()=>{});if(!U)break;R=await $n._fromGetAccountInfoResponse(t,U,b)}else R=$n._fromJSON(t,b);v!==c&&(p=R),c=v;break}}catch{}const y=l.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Qa(c,t,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new Qa(c,t,a))}}function t0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ST(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(TT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(RT(t))return"Blackberry";if(IT(t))return"Webos";if(bT(t))return"Safari";if((t.includes("chrome/")||AT(t))&&!t.includes("edge/"))return"Chrome";if(wT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function TT(r=Ze()){return/firefox\//i.test(r)}function bT(r=Ze()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function AT(r=Ze()){return/crios\//i.test(r)}function ST(r=Ze()){return/iemobile/i.test(r)}function wT(r=Ze()){return/android/i.test(r)}function RT(r=Ze()){return/blackberry/i.test(r)}function IT(r=Ze()){return/webos/i.test(r)}function sg(r=Ze()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function ZR(r=Ze()){return sg(r)&&!!window.navigator?.standalone}function JR(){return Z1()&&document.documentMode===10}function CT(r=Ze()){return sg(r)||wT(r)||IT(r)||RT(r)||/windows phone/i.test(r)||ST(r)}function NT(r,t=[]){let i;switch(r){case"Browser":i=t0(Ze());break;case"Worker":i=`${t0(Ze())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${no}/${a}`}class WR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function tI(r,t={}){return lo(r,"GET","/v2/passwordPolicy",Th(r,t))}const eI=6;class nI{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??eI,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class iI{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new e0(this),this.idTokenSubscription=new e0(this),this.beforeStateQueue=new WR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Zi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Qa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await eh(this,{idToken:t}),a=await $n._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Yn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return gt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await nh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=PR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Yn(this.app))return Promise.reject(Ys(this));const i=t?hn(t):null;return i&&gt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&gt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(Ys(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Yn(this.app)?Promise.reject(Ys(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await tI(this),i=new nI(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new kl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await $R(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Zi(t)||this._popupRedirectResolver;gt(i,this,"argument-error"),this.redirectPersistenceManager=await Qa.create(this,[Zi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(gt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=NT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&UR(`Error while retrieving App Check token: ${t.error}`),t?.token}}function bh(r){return hn(r)}class e0{constructor(t){this.auth=t,this.observer=null,this.addObserver=rA(i=>this.observer=i)}get next(){return gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let rg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sI(r){rg=r}function rI(r){return rg.loadJS(r)}function aI(){return rg.gapiScript}function oI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function lI(r,t){const i=Em(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Pr(c,t??{}))return l;es(l,"already-initialized")}return i.initialize({options:t})}function uI(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Zi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function cI(r,t,i){const a=bh(r);gt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=xT(t),{host:d,port:p}=hI(t),y=p===null?"":`:${p}`,v={url:`${c}//${d}${y}/`},b=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){gt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),gt(Pr(v,a.config.emulator)&&Pr(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=v,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,eo(d)?(R0(`${c}//${d}${y}`),I0("Auth",!0)):fI()}function xT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function hI(r){const t=xT(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:n0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:n0(d)}}}function n0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function fI(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class DT{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return $i("not implemented")}_getIdTokenResponse(t){return $i("not implemented")}_linkToIdToken(t,i){return $i("not implemented")}_getReauthenticationResolver(t){return $i("not implemented")}}async function Ka(r,t){return yT(r,"POST","/v1/accounts:signInWithIdp",Th(r,t))}const dI="http://localhost";class qr extends DT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new qr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):es("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new qr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ka(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ka(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ka(t,i)}buildRequest(){const t={requestUri:dI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Ll(i)}return t}}class OT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Gl extends OT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ps extends Gl{constructor(){super("facebook.com")}static credential(t){return qr._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ps.credentialFromTaggedObject(t)}static credentialFromError(t){return Ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ps.credential(t.oauthAccessToken)}catch{return null}}}Ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ps.PROVIDER_ID="facebook.com";class zs extends Gl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return qr._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return zs.credentialFromTaggedObject(t)}static credentialFromError(t){return zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return zs.credential(i,a)}catch{return null}}}zs.GOOGLE_SIGN_IN_METHOD="google.com";zs.PROVIDER_ID="google.com";class js extends Gl{constructor(){super("github.com")}static credential(t){return qr._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return js.credentialFromTaggedObject(t)}static credentialFromError(t){return js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return js.credential(t.oauthAccessToken)}catch{return null}}}js.GITHUB_SIGN_IN_METHOD="github.com";js.PROVIDER_ID="github.com";class Bs extends Gl{constructor(){super("twitter.com")}static credential(t,i){return qr._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Bs.credential(i,a)}catch{return null}}}Bs.TWITTER_SIGN_IN_METHOD="twitter.com";Bs.PROVIDER_ID="twitter.com";async function mI(r,t){return yT(r,"POST","/v1/accounts:signUp",Th(r,t))}class er{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await $n._fromIdTokenResponse(t,a,l),d=i0(a);return new er({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=i0(a);return new er({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function i0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function gI(r){if(Yn(r.app))return Promise.reject(Ys(r));const t=bh(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new er({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await mI(t,{returnSecureToken:!0}),a=await er._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class ih extends is{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,ih.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new ih(t,i,a,l)}}function MT(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?ih._fromErrorAndOperation(r,c,t,a):c})}async function pI(r,t,i=!1){const a=await Ul(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return er._forOperation(r,"link",a)}async function yI(r,t,i=!1){const{auth:a}=r;if(Yn(a.app))return Promise.reject(Ys(a));const l="reauthenticate";try{const c=await Ul(r,MT(a,l,t,r),i);gt(c.idToken,a,"internal-error");const d=ig(c.idToken);gt(d,a,"internal-error");const{sub:p}=d;return gt(r.uid===p,a,"user-mismatch"),er._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&es(a,"user-mismatch"),c}}async function _I(r,t,i=!1){if(Yn(r.app))return Promise.reject(Ys(r));const a="signIn",l=await MT(r,a,t),c=await er._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}function vI(r,t,i,a){return hn(r).onIdTokenChanged(t,i,a)}function EI(r,t,i){return hn(r).beforeAuthStateChanged(t,i)}function TI(r,t,i,a){return hn(r).onAuthStateChanged(t,i,a)}const sh="__sak";class VT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(sh,"1"),this.storage.removeItem(sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const bI=1e3,AI=10;class UT extends VT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);JR()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,AI):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},bI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}UT.type="LOCAL";const SI=UT;class kT extends VT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}kT.type="SESSION";const LT=kT;function wI(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Ah{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new Ah(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async v=>v(i.origin,c)),y=await wI(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ah.receivers=[];function ag(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class RI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const v=ag("",20);l.port1.start();const b=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(R){const U=R;if(U.data.eventId===v)switch(U.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(U.data.response);break;default:clearTimeout(b),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ii(){return window}function II(r){Ii().location.href=r}function PT(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function CI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NI(){return navigator?.serviceWorker?.controller||null}function xI(){return PT()?self:null}const zT="firebaseLocalStorageDb",DI=1,rh="firebaseLocalStorage",jT="fbase_key";class Ql{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Sh(r,t){return r.transaction([rh],t?"readwrite":"readonly").objectStore(rh)}function OI(){const r=indexedDB.deleteDatabase(zT);return new Ql(r).toPromise()}function mm(){const r=indexedDB.open(zT,DI);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(rh,{keyPath:jT})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(rh)?t(a):(a.close(),await OI(),t(await mm()))})})}async function s0(r,t,i){const a=Sh(r,!0).put({[jT]:t,value:i});return new Ql(a).toPromise()}async function MI(r,t){const i=Sh(r,!1).get(t),a=await new Ql(i).toPromise();return a===void 0?null:a.value}function r0(r,t){const i=Sh(r,!0).delete(t);return new Ql(i).toPromise()}const VI=800,UI=3;class BT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>UI)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return PT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ah._getInstance(xI()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await CI(),!this.activeServiceWorker)return;this.sender=new RI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||NI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await mm();return await s0(t,sh,"1"),await r0(t,sh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>s0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>MI(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>r0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Sh(l,!1).getAll();return new Ql(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BT.type="LOCAL";const kI=BT;new Fl(3e4,6e4);function LI(r,t){return t?Zi(t):(gt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class og extends DT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ka(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ka(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ka(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function PI(r){return _I(r.auth,new og(r),r.bypassAuthState)}function zI(r){const{auth:t,user:i}=r;return gt(i,t,"internal-error"),yI(i,new og(r),r.bypassAuthState)}async function jI(r){const{auth:t,user:i}=r;return gt(i,t,"internal-error"),pI(i,new og(r),r.bypassAuthState)}class qT{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return PI;case"linkViaPopup":case"linkViaRedirect":return jI;case"reauthViaPopup":case"reauthViaRedirect":return zI;default:es(this.auth,"internal-error")}}resolve(t){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const BI=new Fl(2e3,1e4);class qa extends qT{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,qa.currentPopupAction&&qa.currentPopupAction.cancel(),qa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return gt(t,this.auth,"internal-error"),t}async onExecution(){ns(this.filter.length===1,"Popup operations only handle one event");const t=ag();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,BI.get())};t()}}qa.currentPopupAction=null;const qI="pendingRedirect",zc=new Map;class HI extends qT{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=zc.get(this.auth._key());if(!t){try{const a=await FI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}zc.set(this.auth._key(),t)}return this.bypassAuthState||zc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FI(r,t){const i=KI(t),a=QI(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function GI(r,t){zc.set(r._key(),t)}function QI(r){return Zi(r._redirectPersistence)}function KI(r){return Pc(qI,r.config.apiKey,r.name)}async function YI(r,t,i=!1){if(Yn(r.app))return Promise.reject(Ys(r));const a=bh(r),l=LI(a,t),d=await new HI(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const XI=600*1e3;class $I{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!ZI(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!HT(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ri(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=XI&&this.cachedEventUids.clear(),this.cachedEventUids.has(a0(t))}saveEventToCache(t){this.cachedEventUids.add(a0(t)),this.lastProcessedEventTime=Date.now()}}function a0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function HT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function ZI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HT(r);default:return!1}}async function JI(r,t={}){return lo(r,"GET","/v1/projects",t)}const WI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tC=/^https?/;async function eC(r){if(r.config.emulator)return;const{authorizedDomains:t}=await JI(r);for(const i of t)try{if(nC(i))return}catch{}es(r,"unauthorized-domain")}function nC(r){const t=fm(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!tC.test(i))return!1;if(WI.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const iC=new Fl(3e4,6e4);function o0(){const r=Ii().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function sC(r){return new Promise((t,i)=>{function a(){o0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{o0(),i(Ri(r,"network-request-failed"))},timeout:iC.get()})}if(Ii().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ii().gapi?.load)a();else{const l=oI("iframefcb");return Ii()[l]=()=>{gapi.load?a():i(Ri(r,"network-request-failed"))},rI(`${aI()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw jc=null,t})}let jc=null;function rC(r){return jc=jc||sC(r),jc}const aC=new Fl(5e3,15e3),oC="__/auth/iframe",lC="emulator/auth/iframe",uC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hC(r){const t=r.config;gt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?ng(t,lC):`https://${r.config.authDomain}/${oC}`,a={apiKey:t.apiKey,appName:r.name,v:no},l=cC.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Ll(a).slice(1)}`}async function fC(r){const t=await rC(r),i=Ii().gapi;return gt(i,r,"internal-error"),t.open({where:document.body,url:hC(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uC,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ri(r,"network-request-failed"),p=Ii().setTimeout(()=>{c(d)},aC.get());function y(){Ii().clearTimeout(p),l(a)}a.ping(y).then(y,()=>{c(d)})}))}const dC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mC=500,gC=600,pC="_blank",yC="http://localhost";class l0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _C(r,t,i,a=mC,l=gC){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...dC,width:a.toString(),height:l.toString(),top:c,left:d},v=Ze().toLowerCase();i&&(p=AT(v)?pC:i),TT(v)&&(t=t||yC,y.scrollbars="yes");const b=Object.entries(y).reduce((U,[G,J])=>`${U}${G}=${J},`,"");if(ZR(v)&&p!=="_self")return vC(t||"",p),new l0(null);const R=window.open(t||"",p,b);gt(R,r,"popup-blocked");try{R.focus()}catch{}return new l0(R)}function vC(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const EC="__/auth/handler",TC="emulator/auth/handler",bC=encodeURIComponent("fac");async function u0(r,t,i,a,l,c){gt(r.config.authDomain,r,"auth-domain-config-required"),gt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:no,eventId:l};if(t instanceof OT){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",sA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,R]of Object.entries({}))d[b]=R}if(t instanceof Gl){const b=t.getScopes().filter(R=>R!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const y=await r._getAppCheckToken(),v=y?`#${bC}=${encodeURIComponent(y)}`:"";return`${AC(r)}?${Ll(p).slice(1)}${v}`}function AC({config:r}){return r.emulator?ng(r,TC):`https://${r.authDomain}/${EC}`}const qd="webStorageSupport";class SC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LT,this._completeRedirectFn=YI,this._overrideRedirectResult=GI}async _openPopup(t,i,a,l){ns(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await u0(t,i,a,fm(),l);return _C(t,c,ag())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await u0(t,i,a,fm(),l);return II(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ns(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await fC(t),a=new $I(t);return i.register("authEvent",l=>(gt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(qd,{type:qd},l=>{const c=l?.[0]?.[qd];c!==void 0&&i(!!c),es(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=eC(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return CT()||bT()||sg()}}const wC=SC;var c0="@firebase/auth",h0="1.12.0";class RC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function IC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CC(r){Ya(new zr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;gt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NT(r)},v=new iI(a,l,c,y);return uI(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Ya(new zr("auth-internal",t=>{const i=bh(t.getProvider("auth").getImmediate());return(a=>new RC(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gs(c0,h0,IC(r)),Gs(c0,h0,"esm2020")}const NC=300,xC=w0("authIdTokenMaxAge")||NC;let f0=null;const DC=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>xC)return;const l=i?.token;f0!==l&&(f0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function OC(r=D0()){const t=Em(r,"auth");if(t.isInitialized())return t.getImmediate();const i=lI(r,{popupRedirectResolver:wC,persistence:[kI,SI,LT]}),a=w0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=DC(c.toString());EI(i,d,()=>d(i.currentUser)),vI(i,p=>d(p))}}const l=A0("auth");return l&&cI(i,`http://${l}`),i}function MC(){return document.getElementsByTagName("head")?.[0]??document}sI({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=Ri("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",MC().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CC("Browser");const VC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),UC=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),d0=r=>{const t=UC(r);return t.charAt(0).toUpperCase()+t.slice(1)},FT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),kC=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var LC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const PC=ie.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},y)=>ie.createElement("svg",{ref:y,...LC,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:FT("lucide",l),...!c&&!kC(p)&&{"aria-hidden":"true"},...p},[...d.map(([v,b])=>ie.createElement(v,b)),...Array.isArray(c)?c:[c]]));const en=(r,t)=>{const i=ie.forwardRef(({className:a,...l},c)=>ie.createElement(PC,{ref:c,iconNode:t,className:FT(`lucide-${VC(d0(r))}`,`lucide-${r}`,a),...l}));return i.displayName=d0(r),i};const zC=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],jC=en("chevron-left",zC);const BC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],GT=en("chevron-right",BC);const qC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],gm=en("circle-check-big",qC);const HC=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],FC=en("clock",HC);const GC=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],QC=en("external-link",GC);const KC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],m0=en("file-text",KC);const YC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],XC=en("log-out",YC);const $C=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],g0=en("plus",$C);const ZC=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],p0=en("refresh-cw",ZC);const JC=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],WC=en("save",JC);const tN=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Hd=en("settings",tN);const eN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ah=en("shield",eN);const nN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],y0=en("trash-2",nN);const iN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],sN=en("triangle-alert",iN);const rN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],aN=en("users",rN),oN={apiKey:"AIzaSyDAU3qUSdj97I08ga6byIoFQb_pf0b3EeI",authDomain:"e-i-b-e-p-r-o-mideabank-muwplu.firebaseapp.com",projectId:"e-i-b-e-p-r-o-mideabank-muwplu",storageBucket:"e-i-b-e-p-r-o-mideabank-muwplu.firebasestorage.app",messagingSenderId:"567962116529",appId:"1:567962116529:web:e70eb712555bc6c9175d90"},QT=x0(oN),_0=OC(QT),Yi=yR(QT),Xi="exam-app-v1",v0={timerMinutes:45,passScore:60,adminEmail:"testENG@eprom.com",studentFields:[{id:"f1",label:"Full Name",type:"text",required:!0},{id:"f2",label:"Phone Number",type:"tel",required:!0},{id:"f3",label:"ID",type:"text",required:!0},{id:"f4",label:"Department",type:"select",required:!0,options:["Mechanical","Electrical","Process","Civil","HSE","IT"]},{id:"f5",label:"Group",type:"select",required:!0,options:["A","B","C","D"]}]},pm=()=>C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("img",{src:"/logo.png",alt:"EPROM",className:"h-12 object-contain",onError:r=>{r.currentTarget.style.display="none",document.getElementById("text-logo-fallback").style.display="flex"}}),C.jsxs("div",{id:"text-logo-fallback",className:"flex flex-col",children:[C.jsx("span",{className:"text-xl font-black tracking-tight text-blue-900",children:"EPROM"}),C.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-widest",children:"Operation & Maintenance"})]})]}),lN=({onLogin:r,onResetRequest:t})=>{const[i,a]=ie.useState(""),[l,c]=ie.useState(""),d=p=>{p.preventDefault(),i==="admin123"?r():c("Invalid credentials")};return C.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-900 via-blue-800 to-gray-900",children:C.jsxs("div",{className:"bg-white p-10 rounded-2xl shadow-2xl w-full max-w-md border-t-4 border-blue-500",children:[C.jsx("div",{className:"flex justify-center mb-8",children:C.jsx(ah,{className:"w-16 h-16 text-blue-600"})}),C.jsx("h2",{className:"text-3xl font-bold mb-2 text-center text-gray-800",children:"Admin Portal"}),C.jsx("p",{className:"text-center text-gray-500 mb-8",children:"Restricted Access Only"}),C.jsxs("form",{onSubmit:d,className:"space-y-6",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Access Key"}),C.jsx("input",{type:"password",value:i,onChange:p=>a(p.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",placeholder:"Enter admin password"})]}),l&&C.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded text-sm text-center font-medium",children:l}),C.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-bold hover:bg-blue-700 transition transform hover:scale-[1.02] active:scale-95 shadow-lg",children:"Login to Dashboard"})]}),C.jsx("button",{onClick:t,className:"mt-6 text-sm text-gray-500 hover:text-blue-600 w-full text-center underline decoration-dotted",children:"Forgot Password?"})]})})},uN=({fields:r,onStart:t})=>{const[i,a]=ie.useState({}),l=d=>{d.preventDefault(),t(i)},c=(d,p)=>{a(y=>({...y,[d]:p}))};return C.jsxs("div",{className:"min-h-screen flex bg-gray-50",children:[C.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-blue-900 relative overflow-hidden flex-col justify-between p-12 text-white",children:[C.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?auto=format&fit=crop&q=80')] bg-cover opacity-20 mix-blend-overlay"}),C.jsxs("div",{className:"relative z-10",children:[C.jsx(pm,{}),C.jsxs("div",{className:"mt-20",children:[C.jsx("h1",{className:"text-5xl font-bold leading-tight mb-6",children:"Competence Assessment Center"}),C.jsx("p",{className:"text-xl text-blue-200 max-w-md",children:"Welcome to the official technical competence evaluation portal. Please ensure all details provided are accurate before proceeding."})]})]}),C.jsxs("div",{className:"relative z-10 text-sm text-blue-300",children:[" ",new Date().getFullYear()," EPROM. All Rights Reserved."]})]}),C.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 lg:p-16 overflow-y-auto",children:C.jsxs("div",{className:"w-full max-w-lg",children:[C.jsx("div",{className:"lg:hidden mb-8 flex justify-center",children:C.jsx(pm,{})}),C.jsxs("div",{className:"mb-8",children:[C.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Candidate Registration"}),C.jsx("p",{className:"text-gray-500 mt-2",children:"Enter your credentials to access the exam."})]}),C.jsxs("form",{onSubmit:l,className:"space-y-5",children:[r.map(d=>C.jsxs("div",{className:"group",children:[C.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 group-focus-within:text-blue-600 transition-colors",children:[d.label," ",d.required&&C.jsx("span",{className:"text-red-500",children:"*"})]}),d.type==="select"?C.jsxs("div",{className:"relative",children:[C.jsxs("select",{required:d.required,className:"w-full appearance-none bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-3 pr-8",onChange:p=>c(d.label,p.target.value),children:[C.jsx("option",{value:"",children:"Select an option..."}),d.options?.map(p=>C.jsx("option",{value:p,children:p},p))]}),C.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:C.jsx(GT,{className:"rotate-90 w-4 h-4"})})]}):C.jsx("input",{type:d.type,required:d.required,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-3 transition-shadow",placeholder:`Enter your ${d.label.toLowerCase()}`,onChange:p=>c(d.label,p.target.value)})]},d.id)),C.jsxs("div",{className:"pt-4",children:[C.jsx("button",{type:"submit",className:"w-full text-white bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 focus:ring-4 focus:ring-blue-300 font-bold rounded-lg text-lg px-5 py-4 text-center shadow-lg transform transition hover:-translate-y-1",children:"Begin Assessment"}),C.jsx("p",{className:"text-xs text-center text-gray-400 mt-4",children:"By clicking start, you agree to the exam rules and regulations."})]})]})]})})]})},cN=({questions:r,durationMins:t,studentName:i,onSubmit:a})=>{const[l,c]=ie.useState(0),[d,p]=ie.useState({}),[y,v]=ie.useState(t*60);ie.useEffect(()=>{const W=setInterval(()=>{v(Z=>Z<=1?(clearInterval(W),b(),0):Z-1)},1e3);return()=>clearInterval(W)},[]);const b=()=>{a(d)},R=W=>{p(Z=>({...Z,[r[l].id]:W}))},U=W=>{const Z=Math.floor(W/60),lt=W%60;return`${Z}:${lt<10?"0":""}${lt}`},G=Math.round((l+1)/r.length*100);if(r.length===0)return C.jsx("div",{className:"min-h-screen flex items-center justify-center text-blue-600 font-bold text-xl animate-pulse",children:"Loading Assessment Data..."});const J=r[l];return C.jsxs("div",{className:"min-h-screen bg-gray-100 flex flex-col font-sans",children:[C.jsxs("header",{className:"bg-white shadow-md z-20 sticky top-0 border-b border-gray-200",children:[C.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-20 flex justify-between items-center",children:[C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsx(pm,{}),C.jsx("div",{className:"hidden md:block h-8 w-px bg-gray-300 mx-2"}),C.jsxs("div",{className:"hidden md:flex flex-col",children:[C.jsx("span",{className:"font-semibold text-gray-800 text-sm",children:"Candidate"}),C.jsx("span",{className:"text-blue-600 font-bold",children:i})]})]}),C.jsx("div",{className:"flex items-center gap-6",children:C.jsxs("div",{className:`flex items-center gap-3 px-4 py-2 rounded-full border ${y<300?"bg-red-50 border-red-200 text-red-600 animate-pulse":"bg-blue-50 border-blue-100 text-blue-700"}`,children:[C.jsx(FC,{size:20,className:"stroke-2"}),C.jsx("span",{className:"text-xl font-mono font-bold tracking-widest",children:U(y)})]})})]}),C.jsx("div",{className:"w-full bg-gray-200 h-1.5",children:C.jsx("div",{className:"bg-blue-600 h-1.5 transition-all duration-500 ease-out",style:{width:`${G}%`}})})]}),C.jsx("main",{className:"flex-1 max-w-5xl mx-auto w-full p-6 md:p-10",children:C.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden min-h-[500px] flex flex-col",children:[C.jsx("div",{className:"bg-gray-50 border-b border-gray-100 p-8 flex justify-between items-start",children:C.jsxs("div",{children:[C.jsxs("span",{className:"inline-block px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-bold tracking-wide mb-3",children:["QUESTION ",l+1," OF ",r.length]}),C.jsx("h3",{className:"text-2xl font-bold text-gray-800 leading-snug",children:J.text})]})}),C.jsx("div",{className:"p-8 flex-1",children:C.jsx("div",{className:"grid grid-cols-1 gap-4",children:J.options.map((W,Z)=>{const lt=d[J.id]===Z;return C.jsxs("div",{onClick:()=>R(Z),className:`
                      relative p-5 rounded-xl border-2 cursor-pointer transition-all duration-200 flex items-center gap-4 group
                      ${lt?"border-blue-500 bg-blue-50 shadow-md transform scale-[1.01]":"border-gray-200 hover:border-blue-300 hover:bg-gray-50"}
                    `,children:[C.jsx("div",{className:`
                      w-8 h-8 rounded-full border-2 flex items-center justify-center flex-shrink-0 transition-colors
                      ${lt?"border-blue-600 bg-blue-600 text-white":"border-gray-300 text-gray-400 group-hover:border-blue-400"}
                    `,children:lt?C.jsx(gm,{size:16}):C.jsx("span",{className:"text-sm font-bold",children:String.fromCharCode(65+Z)})}),C.jsx("span",{className:`text-lg ${lt?"text-blue-900 font-medium":"text-gray-700"}`,children:W}),lt&&C.jsx("div",{className:"absolute right-5 text-blue-600 animate-in fade-in slide-in-from-left-2",children:C.jsx(gm,{size:24})})]},Z)})})}),C.jsxs("div",{className:"bg-gray-50 p-6 border-t border-gray-100 flex justify-between items-center",children:[C.jsxs("button",{onClick:()=>c(W=>Math.max(0,W-1)),disabled:l===0,className:"flex items-center gap-2 px-6 py-3 rounded-lg text-gray-600 hover:bg-white hover:shadow-sm disabled:opacity-30 disabled:hover:shadow-none transition-all font-medium",children:[C.jsx(jC,{size:20})," Back"]}),l===r.length-1?C.jsxs("button",{onClick:b,className:"flex items-center gap-3 px-8 py-3 rounded-lg bg-green-600 text-white hover:bg-green-700 font-bold shadow-lg hover:shadow-green-500/30 transition-all transform hover:-translate-y-0.5",children:["Submit Exam ",C.jsx(ah,{size:20})]}):C.jsxs("button",{onClick:()=>c(W=>Math.min(r.length-1,W+1)),className:"flex items-center gap-3 px-8 py-3 rounded-lg bg-blue-600 text-white hover:bg-blue-700 font-bold shadow-lg hover:shadow-blue-500/30 transition-all transform hover:-translate-y-0.5",children:["Next Question ",C.jsx(GT,{size:20})]})]})]})})]})};function hN(){const[r,t]=ie.useState("student-login"),[i,a]=ie.useState(null),[l,c]=ie.useState([]),[d,p]=ie.useState(v0),[y,v]=ie.useState(null),[b,R]=ie.useState(!1),[U,G]=ie.useState("results"),[J,W]=ie.useState([]),[Z,lt]=ie.useState({});ie.useEffect(()=>{(async()=>await gI(_0))();const A=TI(_0,w=>a(w));return()=>A()},[]),ie.useEffect(()=>{if(!i)return;const S=Nc(Ba(Yi,"artifacts",Xi,"public","data","config","settings"),D=>{D.exists()&&p(D.data())},D=>{console.log("Settings fetch err",D),D.code==="permission-denied"&&R(!0)}),A=jd(Ic(Yi,"artifacts",Xi,"public","data","questions")),w=Nc(A,D=>{const x=[];D.forEach(V=>x.push(V.data())),x.length===0?fetch("/exam_data.json").then(V=>V.json()).then(V=>{console.log("Loaded default data from file",V);const I=V.map(({correctIndex:Kt,...he})=>he);c(I)}).catch(V=>console.error("Failed to load default data",V)):(x.sort((V,I)=>parseInt(V.id)-parseInt(I.id)),c(x))},D=>{console.log("Q fetch err",D),D.code==="permission-denied"&&R(!0)});return()=>{S(),w()}},[i]),ie.useEffect(()=>{if(r==="admin-dash"&&i){const S=jd(Ic(Yi,"artifacts",Xi,"public","data","secure_keys")),A=Nc(S,x=>{const V={};x.forEach(I=>{const Kt=I.data();V[Kt.id]=Kt.correctIndex}),lt(V)},x=>console.log("Key fetch err",x)),w=jd(Ic(Yi,"artifacts",Xi,"public","data","submissions")),D=Nc(w,x=>{const V=[];x.forEach(I=>V.push({id:I.id,...I.data()})),W(V)},x=>console.log("Sub fetch err",x));return()=>{A(),D()}}},[r,i]);const _t=S=>{v(S),t("student-exam")},dt=async S=>{if(i)try{await DR(Ic(Yi,"artifacts",Xi,"public","data","submissions"),{studentData:y,answers:S,timestamp:MR()}),t("student-done")}catch{alert("Error submitting. Please try again.")}},Bt=()=>{prompt("Enter Recovery Email:")===d.adminEmail?alert("Instructions sent to email (simulated). Default is admin123"):alert("Email not recognized.")},Jt=async()=>{if(confirm("This will overwrite existing questions with data from 'public/exam_data.json'. Continue?"))try{const A=await(await fetch("/exam_data.json")).json();for(const w of A){const{correctIndex:D,...x}=w;await Cc(Ba(Yi,"artifacts",Xi,"public","data","questions",w.id),x),await Cc(Ba(Yi,"artifacts",Xi,"public","data","secure_keys",w.id),{id:w.id,correctIndex:D})}await Cc(Ba(Yi,"artifacts",Xi,"public","data","config","settings"),v0),alert("Database Initialized Successfully from File!")}catch(S){alert("Failed to load 'exam_data.json'. Make sure it exists in the public folder."),console.error(S)}},Ot=S=>{if(Object.keys(Z).length===0)return{score:0,total:0,percent:0,pass:!1};let A=0,w=0;Object.keys(Z).forEach(x=>{w++,S.answers[x]===Z[x]&&A++});const D=Math.round(A/w*100);return{score:A,total:w,percent:D,pass:D>=d.passScore}};return b?C.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-6",children:C.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-xl max-w-2xl w-full border-l-4 border-red-500",children:[C.jsxs("div",{className:"flex items-center gap-3 mb-4 text-red-600",children:[C.jsx(sN,{size:32}),C.jsx("h2",{className:"text-2xl font-bold",children:"Database Access Denied"})]}),C.jsxs("p",{className:"text-gray-700 mb-6",children:["The app cannot connect to your Firebase Database. This is usually because",C.jsx("strong",{children:" Security Rules"})," are blocking the connection."]}),C.jsxs("div",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg font-mono text-sm mb-6 overflow-x-auto",children:[C.jsx("p",{className:"text-gray-400 mb-2",children:"// Go to Firebase Console > Firestore Database > Rules"}),C.jsx("p",{className:"text-gray-400 mb-2",children:"// Paste this code to allow access:"}),C.jsx("pre",{className:"whitespace-pre-wrap text-green-400",children:`rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /{document=**} {
      allow read, write: if true;
    }
  }
}`})]}),C.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-blue-700 w-full md:w-auto",children:"I've Updated the Rules (Retry)"})]})}):r==="student-login"?C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"absolute top-4 right-4 z-50",children:C.jsxs("button",{onClick:()=>t("admin-login"),className:"text-gray-400 hover:text-white lg:hover:text-blue-200 flex items-center gap-1 transition-colors",children:[C.jsx(ah,{size:16})," ",C.jsx("span",{className:"text-xs",children:"Staff Login"})]})}),C.jsx(uN,{fields:d.studentFields,onStart:_t})]}):r==="student-exam"?C.jsx(cN,{questions:l,durationMins:d.timerMinutes,studentName:y?.["Full Name"]||"Student",onSubmit:dt}):r==="student-done"?C.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 text-center p-6",children:C.jsxs("div",{className:"bg-white p-12 rounded-2xl shadow-2xl max-w-lg border-t-8 border-green-500 transform transition-all animate-in fade-in zoom-in duration-300",children:[C.jsx("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:C.jsx(gm,{className:"w-12 h-12 text-green-600"})}),C.jsx("h2",{className:"text-3xl font-extrabold text-gray-800 mb-4",children:"Assessment Submitted"}),C.jsx("p",{className:"text-gray-600 mb-8 text-lg",children:"Thank you. Your responses have been securely recorded. You may now close this window or return to the main screen."}),C.jsxs("button",{onClick:()=>window.location.reload(),className:"text-blue-600 font-bold hover:text-blue-800 flex items-center justify-center gap-2 mx-auto",children:[C.jsx(p0,{size:16})," Return to Registration"]})]})}):r==="admin-login"?C.jsx(lN,{onLogin:()=>t("admin-dash"),onResetRequest:Bt}):r==="admin-dash"?C.jsxs("div",{className:"min-h-screen bg-gray-100 flex font-sans",children:[C.jsxs("div",{className:"w-72 bg-gray-900 text-white flex flex-col shadow-2xl",children:[C.jsxs("div",{className:"p-8 border-b border-gray-800",children:[C.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[C.jsx(ah,{className:"text-blue-500"}),C.jsx("span",{className:"font-bold text-xl tracking-wider",children:"ADMIN"})]}),C.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-widest",children:"Control Panel"})]}),C.jsxs("nav",{className:"flex-1 p-4 space-y-2 mt-4",children:[C.jsxs("button",{onClick:()=>G("results"),className:`w-full flex items-center gap-3 p-4 rounded-xl transition-all duration-200 ${U==="results"?"bg-blue-600 shadow-lg shadow-blue-900/50 translate-x-1":"hover:bg-gray-800 text-gray-400 hover:text-white"}`,children:[C.jsx(aN,{size:20})," Results"]}),C.jsxs("button",{onClick:()=>G("questions"),className:`w-full flex items-center gap-3 p-4 rounded-xl transition-all duration-200 ${U==="questions"?"bg-blue-600 shadow-lg shadow-blue-900/50 translate-x-1":"hover:bg-gray-800 text-gray-400 hover:text-white"}`,children:[C.jsx(m0,{size:20})," Questions"]}),C.jsxs("button",{onClick:()=>G("settings"),className:`w-full flex items-center gap-3 p-4 rounded-xl transition-all duration-200 ${U==="settings"?"bg-blue-600 shadow-lg shadow-blue-900/50 translate-x-1":"hover:bg-gray-800 text-gray-400 hover:text-white"}`,children:[C.jsx(Hd,{size:20})," Settings"]})]}),C.jsx("div",{className:"p-4 border-t border-gray-800",children:C.jsxs("button",{onClick:()=>t("student-login"),className:"w-full p-4 flex items-center justify-center gap-2 bg-gray-800 hover:bg-red-600 rounded-lg transition-colors text-gray-300 hover:text-white",children:[C.jsx(XC,{size:18})," Logout"]})})]}),C.jsxs("div",{className:"flex-1 p-10 overflow-y-auto",children:[U==="results"&&C.jsxs("div",{className:"max-w-6xl mx-auto animate-in fade-in slide-in-from-bottom-4 duration-500",children:[C.jsxs("div",{className:"flex justify-between items-end mb-8",children:[C.jsxs("div",{children:[C.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Assessment Results"}),C.jsx("p",{className:"text-gray-500 mt-1",children:"Real-time submission tracking"})]}),C.jsxs("div",{className:"bg-white px-4 py-2 rounded-lg shadow text-sm font-medium text-gray-600",children:["Total Submissions: ",J.length]})]}),C.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:C.jsxs("table",{className:"w-full text-left",children:[C.jsx("thead",{className:"bg-gray-50 text-gray-500 text-xs font-bold uppercase tracking-wider",children:C.jsxs("tr",{children:[C.jsx("th",{className:"p-5",children:"Candidate"}),C.jsx("th",{className:"p-5",children:"ID Number"}),C.jsx("th",{className:"p-5",children:"Submitted At"}),C.jsx("th",{className:"p-5",children:"Score"}),C.jsx("th",{className:"p-5 text-center",children:"Status"})]})}),C.jsxs("tbody",{className:"divide-y divide-gray-100",children:[J.map(S=>{const A=Ot(S),w=S.timestamp?S.timestamp.toDate().toLocaleString():"Syncing...";return C.jsxs("tr",{className:"hover:bg-blue-50/50 transition-colors",children:[C.jsxs("td",{className:"p-5",children:[C.jsx("div",{className:"font-bold text-gray-900",children:S.studentData["Full Name"]||"N/A"}),C.jsx("div",{className:"text-xs text-gray-400",children:S.studentData.Department})]}),C.jsx("td",{className:"p-5 text-gray-600 font-mono text-sm",children:S.studentData.ID||"N/A"}),C.jsx("td",{className:"p-5 text-sm text-gray-500",children:w}),C.jsx("td",{className:"p-5",children:C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 w-24",children:C.jsx("div",{className:`h-2 rounded-full ${A.pass?"bg-green-500":"bg-red-500"}`,style:{width:`${A.percent}%`}})}),C.jsxs("span",{className:"font-bold text-gray-700",children:[A.percent,"%"]})]})}),C.jsx("td",{className:"p-5 text-center",children:C.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${A.pass?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:A.pass?"PASSED":"FAILED"})})]},S.id)}),J.length===0&&C.jsx("tr",{children:C.jsx("td",{colSpan:5,className:"p-12 text-center text-gray-400 italic",children:"No submissions received yet."})})]})]})})]}),U==="questions"&&C.jsxs("div",{className:"max-w-5xl mx-auto animate-in fade-in slide-in-from-bottom-4 duration-500",children:[C.jsxs("div",{className:"flex justify-between items-center mb-8",children:[C.jsxs("div",{children:[C.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Question Bank"}),C.jsx("p",{className:"text-gray-500 mt-1",children:"Manage assessment content"})]}),C.jsxs("div",{className:"flex gap-3",children:[C.jsxs("a",{href:"/exam_data.json",target:"_blank",className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-5 py-2.5 rounded-lg flex items-center gap-2 font-bold shadow-sm transition-all",children:[C.jsx(QC,{size:18})," View Data File"]}),C.jsxs("button",{onClick:Jt,className:"bg-yellow-500 hover:bg-yellow-600 text-white px-5 py-2.5 rounded-lg flex items-center gap-2 text-sm font-bold shadow-md hover:shadow-lg transition-all",children:[C.jsx(p0,{size:18})," Load from File"]}),C.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg flex items-center gap-2 font-bold shadow-md hover:shadow-lg transition-all",children:[C.jsx(g0,{size:18})," New Question"]})]})]}),C.jsx("div",{className:"grid gap-6",children:l.map(S=>C.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow group",children:[C.jsxs("div",{className:"flex justify-between items-start mb-4",children:[C.jsxs("div",{className:"flex gap-3",children:[C.jsxs("span",{className:"bg-blue-100 text-blue-700 font-bold px-3 py-1 rounded text-xs h-fit",children:["Q",S.id]}),C.jsx("h4",{className:"font-bold text-lg text-gray-800 leading-snug max-w-2xl",children:S.text})]}),C.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[C.jsx("button",{className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded",children:C.jsx(Hd,{size:18})}),C.jsx("button",{className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded",children:C.jsx(y0,{size:18})})]})]}),C.jsx("div",{className:"pl-12 grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-2",children:S.options.map((A,w)=>C.jsxs("div",{className:`text-sm flex items-center gap-2 ${w===Z[S.id]?"text-green-700 font-bold bg-green-50 px-2 py-1 rounded w-fit":"text-gray-600"}`,children:[C.jsx("div",{className:`w-2 h-2 rounded-full ${w===Z[S.id]?"bg-green-500":"bg-gray-300"}`}),A]},w))})]},S.id))})]}),U==="settings"&&C.jsxs("div",{className:"max-w-3xl mx-auto animate-in fade-in slide-in-from-bottom-4 duration-500",children:[C.jsx("h2",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Exam Configuration"}),C.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-sm border border-gray-100 mb-8",children:[C.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[C.jsx("div",{className:"p-3 bg-blue-100 rounded-lg text-blue-600",children:C.jsx(Hd,{size:24})}),C.jsx("h3",{className:"font-bold text-xl text-gray-800",children:"Core Parameters"})]}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Timer Duration (Minutes)"}),C.jsx("input",{type:"number",value:d.timerMinutes,onChange:S=>p({...d,timerMinutes:parseInt(S.target.value)}),className:"w-full border-gray-300 border p-3 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition"}),C.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Time allowed before auto-submit"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Passing Score (%)"}),C.jsx("input",{type:"number",value:d.passScore,onChange:S=>p({...d,passScore:parseInt(S.target.value)}),className:"w-full border-gray-300 border p-3 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition"}),C.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Minimum percentage to pass"})]})]}),C.jsx("div",{className:"mt-8 pt-6 border-t border-gray-100 flex justify-end",children:C.jsxs("button",{onClick:()=>Cc(Ba(Yi,"artifacts",Xi,"public","data","config","settings"),d),className:"bg-gray-900 text-white px-6 py-3 rounded-lg hover:bg-black flex items-center gap-2 font-bold shadow-lg transition-transform active:scale-95",children:[C.jsx(WC,{size:18})," Save Changes"]})})]}),C.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-sm border border-gray-100",children:[C.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[C.jsx("div",{className:"p-3 bg-purple-100 rounded-lg text-purple-600",children:C.jsx(m0,{size:24})}),C.jsx("h3",{className:"font-bold text-xl text-gray-800",children:"Registration Fields"})]}),C.jsx("div",{className:"space-y-3 mb-6",children:d.studentFields.map((S,A)=>C.jsxs("div",{className:"flex gap-3 items-center bg-gray-50 p-3 rounded-lg border border-gray-200 group hover:border-blue-300 transition-colors",children:[C.jsx("span",{className:"font-mono text-xs text-gray-400 w-6 text-center",children:A+1}),C.jsx("input",{value:S.label,onChange:w=>{const D=[...d.studentFields];D[A].label=w.target.value,p({...d,studentFields:D})},className:"bg-white border border-gray-200 p-2 rounded text-sm font-medium flex-1 focus:ring-2 focus:ring-blue-500 outline-none"}),C.jsxs("select",{value:S.type,onChange:w=>{const D=[...d.studentFields];D[A].type=w.target.value,p({...d,studentFields:D})},className:"bg-white border border-gray-200 p-2 rounded text-sm focus:ring-2 focus:ring-blue-500 outline-none",children:[C.jsx("option",{value:"text",children:"Text"}),C.jsx("option",{value:"number",children:"Number"}),C.jsx("option",{value:"select",children:"Dropdown"})]}),C.jsx("button",{onClick:()=>{const w=d.studentFields.filter((D,x)=>x!==A);p({...d,studentFields:w})},className:"text-gray-400 hover:text-red-500 p-2 rounded hover:bg-red-50 transition-colors",children:C.jsx(y0,{size:18})})]},S.id))}),C.jsxs("button",{onClick:()=>p({...d,studentFields:[...d.studentFields,{id:Date.now().toString(),label:"New Field",type:"text",required:!0}]}),className:"text-blue-600 text-sm font-bold hover:text-blue-800 flex items-center gap-2 px-2 py-1 rounded hover:bg-blue-50 w-fit transition-colors",children:[C.jsx(g0,{size:16})," Add Custom Field"]})]})]})]})]}):C.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:C.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}O1.createRoot(document.getElementById("root")).render(C.jsx(ie.StrictMode,{children:C.jsx(hN,{})}));
