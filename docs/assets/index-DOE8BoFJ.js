(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Sd={exports:{}},ml={};var b_;function _A(){if(b_)return ml;b_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return ml.Fragment=t,ml.jsx=i,ml.jsxs=i,ml}var w_;function vA(){return w_||(w_=1,Sd.exports=_A()),Sd.exports}var j=vA(),bd={exports:{}},Tt={};var R_;function EA(){if(R_)return Tt;R_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),V=Symbol.iterator;function G(O){return O===null||typeof O!="object"?null:(O=V&&O[V]||O["@@iterator"],typeof O=="function"?O:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,J={};function dt(O,K,nt){this.props=O,this.context=K,this.refs=J,this.updater=nt||$}dt.prototype.isReactComponent={},dt.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},dt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Et(){}Et.prototype=dt.prototype;function gt(O,K,nt){this.props=O,this.context=K,this.refs=J,this.updater=nt||$}var qt=gt.prototype=new Et;qt.constructor=gt,W(qt,dt.prototype),qt.isPureReactComponent=!0;var ot=Array.isArray;function ut(){}var w={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function R(O,K,nt){var st=nt.ref;return{$$typeof:r,type:O,key:K,ref:st!==void 0?st:null,props:nt}}function x(O,K){return R(O.type,K,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function k(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(nt){return K[nt]})}var I=/\/+/g;function ie(O,K){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):K.toString(36)}function Ne(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(ut,ut):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function F(O,K,nt,st,_t){var wt=typeof O;(wt==="undefined"||wt==="boolean")&&(O=null);var kt=!1;if(O===null)kt=!0;else switch(wt){case"bigint":case"string":case"number":kt=!0;break;case"object":switch(O.$$typeof){case r:case t:kt=!0;break;case A:return kt=O._init,F(kt(O._payload),K,nt,st,_t)}}if(kt)return _t=_t(O),kt=st===""?"."+ie(O,0):st,ot(_t)?(nt="",kt!=null&&(nt=kt.replace(I,"$&/")+"/"),F(_t,K,nt,"",function(nr){return nr})):_t!=null&&(N(_t)&&(_t=x(_t,nt+(_t.key==null||O&&O.key===_t.key?"":(""+_t.key).replace(I,"$&/")+"/")+kt)),K.push(_t)),1;kt=0;var De=st===""?".":st+":";if(ot(O))for(var se=0;se<O.length;se++)st=O[se],wt=De+ie(st,se),kt+=F(st,K,nt,wt,_t);else if(se=G(O),typeof se=="function")for(O=se.call(O),se=0;!(st=O.next()).done;)st=st.value,wt=De+ie(st,se++),kt+=F(st,K,nt,wt,_t);else if(wt==="object"){if(typeof O.then=="function")return F(Ne(O),K,nt,st,_t);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return kt}function et(O,K,nt){if(O==null)return O;var st=[],_t=0;return F(O,st,"","",function(wt){return K.call(nt,wt,_t++)}),st}function ft(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(nt){(O._status===0||O._status===-1)&&(O._status=1,O._result=nt)},function(nt){(O._status===0||O._status===-1)&&(O._status=2,O._result=nt)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var Lt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ft={map:et,forEach:function(O,K,nt){et(O,function(){K.apply(this,arguments)},nt)},count:function(O){var K=0;return et(O,function(){K++}),K},toArray:function(O){return et(O,function(K){return K})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Tt.Activity=b,Tt.Children=Ft,Tt.Component=dt,Tt.Fragment=i,Tt.Profiler=l,Tt.PureComponent=gt,Tt.StrictMode=a,Tt.Suspense=y,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return w.H.useMemoCache(O)}},Tt.cache=function(O){return function(){return O.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(O,K,nt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var st=W({},O.props),_t=O.key;if(K!=null)for(wt in K.key!==void 0&&(_t=""+K.key),K)!S.call(K,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&K.ref===void 0||(st[wt]=K[wt]);var wt=arguments.length-2;if(wt===1)st.children=nt;else if(1<wt){for(var kt=Array(wt),De=0;De<wt;De++)kt[De]=arguments[De+2];st.children=kt}return R(O.type,_t,st)},Tt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Tt.createElement=function(O,K,nt){var st,_t={},wt=null;if(K!=null)for(st in K.key!==void 0&&(wt=""+K.key),K)S.call(K,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(_t[st]=K[st]);var kt=arguments.length-2;if(kt===1)_t.children=nt;else if(1<kt){for(var De=Array(kt),se=0;se<kt;se++)De[se]=arguments[se+2];_t.children=De}if(O&&O.defaultProps)for(st in kt=O.defaultProps,kt)_t[st]===void 0&&(_t[st]=kt[st]);return R(O,wt,_t)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(O){return{$$typeof:p,render:O}},Tt.isValidElement=N,Tt.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:ft}},Tt.memo=function(O,K){return{$$typeof:v,type:O,compare:K===void 0?null:K}},Tt.startTransition=function(O){var K=w.T,nt={};w.T=nt;try{var st=O(),_t=w.S;_t!==null&&_t(nt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(ut,Lt)}catch(wt){Lt(wt)}finally{K!==null&&nt.types!==null&&(K.types=nt.types),w.T=K}},Tt.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},Tt.use=function(O){return w.H.use(O)},Tt.useActionState=function(O,K,nt){return w.H.useActionState(O,K,nt)},Tt.useCallback=function(O,K){return w.H.useCallback(O,K)},Tt.useContext=function(O){return w.H.useContext(O)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(O,K){return w.H.useDeferredValue(O,K)},Tt.useEffect=function(O,K){return w.H.useEffect(O,K)},Tt.useEffectEvent=function(O){return w.H.useEffectEvent(O)},Tt.useId=function(){return w.H.useId()},Tt.useImperativeHandle=function(O,K,nt){return w.H.useImperativeHandle(O,K,nt)},Tt.useInsertionEffect=function(O,K){return w.H.useInsertionEffect(O,K)},Tt.useLayoutEffect=function(O,K){return w.H.useLayoutEffect(O,K)},Tt.useMemo=function(O,K){return w.H.useMemo(O,K)},Tt.useOptimistic=function(O,K){return w.H.useOptimistic(O,K)},Tt.useReducer=function(O,K,nt){return w.H.useReducer(O,K,nt)},Tt.useRef=function(O){return w.H.useRef(O)},Tt.useState=function(O){return w.H.useState(O)},Tt.useSyncExternalStore=function(O,K,nt){return w.H.useSyncExternalStore(O,K,nt)},Tt.useTransition=function(){return w.H.useTransition()},Tt.version="19.2.3",Tt}var I_;function dm(){return I_||(I_=1,bd.exports=EA()),bd.exports}var oe=dm(),wd={exports:{}},gl={},Rd={exports:{}},Id={};var C_;function TA(){return C_||(C_=1,(function(r){function t(F,et){var ft=F.length;F.push(et);t:for(;0<ft;){var Lt=ft-1>>>1,Ft=F[Lt];if(0<l(Ft,et))F[Lt]=et,F[ft]=Ft,ft=Lt;else break t}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var et=F[0],ft=F.pop();if(ft!==et){F[0]=ft;t:for(var Lt=0,Ft=F.length,O=Ft>>>1;Lt<O;){var K=2*(Lt+1)-1,nt=F[K],st=K+1,_t=F[st];if(0>l(nt,ft))st<Ft&&0>l(_t,nt)?(F[Lt]=_t,F[st]=ft,Lt=st):(F[Lt]=nt,F[K]=ft,Lt=K);else if(st<Ft&&0>l(_t,ft))F[Lt]=_t,F[st]=ft,Lt=st;else break t}}return et}function l(F,et){var ft=F.sortIndex-et.sortIndex;return ft!==0?ft:F.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],v=[],A=1,b=null,V=3,G=!1,$=!1,W=!1,J=!1,dt=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;function qt(F){for(var et=i(v);et!==null;){if(et.callback===null)a(v);else if(et.startTime<=F)a(v),et.sortIndex=et.expirationTime,t(y,et);else break;et=i(v)}}function ot(F){if(W=!1,qt(F),!$)if(i(y)!==null)$=!0,ut||(ut=!0,k());else{var et=i(v);et!==null&&Ne(ot,et.startTime-F)}}var ut=!1,w=-1,S=5,R=-1;function x(){return J?!0:!(r.unstable_now()-R<S)}function N(){if(J=!1,ut){var F=r.unstable_now();R=F;var et=!0;try{t:{$=!1,W&&(W=!1,Et(w),w=-1),G=!0;var ft=V;try{e:{for(qt(F),b=i(y);b!==null&&!(b.expirationTime>F&&x());){var Lt=b.callback;if(typeof Lt=="function"){b.callback=null,V=b.priorityLevel;var Ft=Lt(b.expirationTime<=F);if(F=r.unstable_now(),typeof Ft=="function"){b.callback=Ft,qt(F),et=!0;break e}b===i(y)&&a(y),qt(F)}else a(y);b=i(y)}if(b!==null)et=!0;else{var O=i(v);O!==null&&Ne(ot,O.startTime-F),et=!1}}break t}finally{b=null,V=ft,G=!1}et=void 0}}finally{et?k():ut=!1}}}var k;if(typeof gt=="function")k=function(){gt(N)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,ie=I.port2;I.port1.onmessage=N,k=function(){ie.postMessage(null)}}else k=function(){dt(N,0)};function Ne(F,et){w=dt(function(){F(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(F){switch(V){case 1:case 2:case 3:var et=3;break;default:et=V}var ft=V;V=et;try{return F()}finally{V=ft}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(F,et){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ft=V;V=F;try{return et()}finally{V=ft}},r.unstable_scheduleCallback=function(F,et,ft){var Lt=r.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Lt+ft:Lt):ft=Lt,F){case 1:var Ft=-1;break;case 2:Ft=250;break;case 5:Ft=1073741823;break;case 4:Ft=1e4;break;default:Ft=5e3}return Ft=ft+Ft,F={id:A++,callback:et,priorityLevel:F,startTime:ft,expirationTime:Ft,sortIndex:-1},ft>Lt?(F.sortIndex=ft,t(v,F),i(y)===null&&F===i(v)&&(W?(Et(w),w=-1):W=!0,Ne(ot,ft-Lt))):(F.sortIndex=Ft,t(y,F),$||G||($=!0,ut||(ut=!0,k()))),F},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(F){var et=V;return function(){var ft=V;V=et;try{return F.apply(this,arguments)}finally{V=ft}}}})(Id)),Id}var N_;function AA(){return N_||(N_=1,Rd.exports=TA()),Rd.exports}var Cd={exports:{}},Ye={};var D_;function SA(){if(D_)return Ye;D_=1;var r=dm();function t(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,v,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:y,containerInfo:v,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ye.createPortal=function(y,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return c(y,v,null,A)},Ye.flushSync=function(y){var v=d.T,A=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=v,a.p=A,a.d.f()}},Ye.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(y,v))},Ye.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Ye.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var A=v.as,b=p(A,v.crossOrigin),V=typeof v.integrity=="string"?v.integrity:void 0,G=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?a.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:b,integrity:V,fetchPriority:G}):A==="script"&&a.d.X(y,{crossOrigin:b,integrity:V,fetchPriority:G,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Ye.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=p(v.as,v.crossOrigin);a.d.M(y,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(y)},Ye.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,b=p(A,v.crossOrigin);a.d.L(y,A,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Ye.preloadModule=function(y,v){if(typeof y=="string")if(v){var A=p(v.as,v.crossOrigin);a.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(y)},Ye.requestFormReset=function(y){a.d.r(y)},Ye.unstable_batchedUpdates=function(y,v){return y(v)},Ye.useFormState=function(y,v,A){return d.H.useFormState(y,v,A)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.3",Ye}var O_;function bA(){if(O_)return Cd.exports;O_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Cd.exports=SA(),Cd.exports}var x_;function wA(){if(x_)return gl;x_=1;var r=AA(),t=dm(),i=bA();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function v(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,V=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),dt=Symbol.for("react.profiler"),Et=Symbol.for("react.consumer"),gt=Symbol.for("react.context"),qt=Symbol.for("react.forward_ref"),ot=Symbol.for("react.suspense"),ut=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case dt:return"Profiler";case J:return"StrictMode";case ot:return"Suspense";case ut:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case $:return"Portal";case gt:return e.displayName||"Context";case Et:return(e._context.displayName||"Context")+".Consumer";case qt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case w:return n=e.displayName||null,n!==null?n:ie(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return ie(e(n))}catch{}}return null}var Ne=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Lt=[],Ft=-1;function O(e){return{current:e}}function K(e){0>Ft||(e.current=Lt[Ft],Lt[Ft]=null,Ft--)}function nt(e,n){Ft++,Lt[Ft]=e.current,e.current=n}var st=O(null),_t=O(null),wt=O(null),kt=O(null);function De(e,n){switch(nt(wt,n),nt(_t,e),nt(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Yy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Yy(n),e=Ky(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(st),nt(st,e)}function se(){K(st),K(_t),K(wt)}function nr(e){e.memoizedState!==null&&nt(kt,e);var n=st.current,s=Ky(n,e.type);n!==s&&(nt(_t,e),nt(st,s))}function Yr(e){_t.current===e&&(K(st),K(_t)),kt.current===e&&(K(kt),cl._currentValue=ft)}var Kr,Xr;function Jn(e){if(Kr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Kr=n&&n[1]||"",Xr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kr+e+Xr}var uo=!1;function ir(e,n){if(!e||uo)return"";uo=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var z=q}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(q){z=q}e.call(Y.prototype)}}else{try{throw Error()}catch(q){z=q}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var C=g.split(`
`),P=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===P.length)for(o=C.length-1,h=P.length-1;1<=o&&0<=h&&C[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==P[h]){var H=`
`+C[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=h);break}}}finally{uo=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Jn(s):""}function co(e,n){switch(e.tag){case 26:case 27:case 5:return Jn(e.type);case 16:return Jn("Lazy");case 13:return e.child!==n&&n!==null?Jn("Suspense Fallback"):Jn("Suspense");case 19:return Jn("SuspenseList");case 0:case 15:return ir(e.type,!1);case 11:return ir(e.type.render,!1);case 1:return ir(e.type,!0);case 31:return Jn("Activity");default:return""}}function ho(e){try{var n="",s=null;do n+=co(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var pe=Object.prototype.hasOwnProperty,Oe=r.unstable_scheduleCallback,ss=r.unstable_cancelCallback,bh=r.unstable_shouldYield,Yl=r.unstable_requestPaint,Je=r.unstable_now,sr=r.unstable_getCurrentPriorityLevel,fo=r.unstable_ImmediatePriority,mo=r.unstable_UserBlockingPriority,rs=r.unstable_NormalPriority,wh=r.unstable_LowPriority,Kl=r.unstable_IdlePriority,Xl=r.log,Zl=r.unstable_setDisableYieldValue,Un=null,Pe=null;function Tn(e){if(typeof Xl=="function"&&Zl(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(Un,e)}catch{}}var he=Math.clz32?Math.clz32:Jl,$l=Math.log,Zr=Math.LN2;function Jl(e){return e>>>=0,e===0?32:31-($l(e)/Zr|0)|0}var Wn=256,rr=262144,ye=4194304;function ti(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ei(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ti(o):(g&=E,g!==0?h=ti(g):s||(s=E&~e,s!==0&&(h=ti(s))))):(E=o&~f,E!==0?h=ti(E):g!==0?h=ti(g):s||(s=o&~e,s!==0&&(h=ti(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Ln(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Rh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wl(){var e=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),e}function ni(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function ar(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ih(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,P=e.hiddenUpdates;for(s=g&~s;0<s;){var H=31-he(s),Y=1<<H;E[H]=0,C[H]=-1;var z=P[H];if(z!==null)for(P[H]=null,H=0;H<z.length;H++){var q=z[H];q!==null&&(q.lane&=-536870913)}s&=~Y}o!==0&&or(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function or(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-he(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function go(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-he(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function po(e,n){var s=n&-n;return s=(s&42)!==0?1:lr(s),(s&(e.suspendedLanes|n))!==0?0:s}function lr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ni(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function tu(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:y_(e.type))}function Pn(e,n){var s=et.p;try{return et.p=e,n()}finally{et.p=s}}var zn=Math.random().toString(36).slice(2),_e="__reactFiber$"+zn,Ve="__reactProps$"+zn,ii="__reactContainer$"+zn,$r="__reactEvents$"+zn,Ch="__reactListeners$"+zn,eu="__reactHandles$"+zn,nu="__reactResources$"+zn,si="__reactMarker$"+zn;function Jr(e){delete e[_e],delete e[Ve],delete e[$r],delete e[Ch],delete e[eu]}function ri(e){var n=e[_e];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ii]||s[_e]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=e_(e);e!==null;){if(s=e[_e])return s;e=e_(e)}return n}e=s,s=e.parentNode}return null}function An(e){if(e=e[_e]||e[ii]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function hn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function ai(e){var n=e[nu];return n||(n=e[nu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ve(e){e[si]=!0}var yo=new Set,_o={};function oi(e,n){li(e,n),li(e+"Capture",n)}function li(e,n){for(_o[e]=n,e=0;e<n.length;e++)yo.add(n[e])}var vo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Eo={},To={};function iu(e){return pe.call(To,e)?!0:pe.call(Eo,e)?!1:vo.test(e)?To[e]=!0:(Eo[e]=!0,!1)}function Wr(e,n,s){if(iu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function fn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ee(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function as(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ao(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Gt(e){if(!e._valueTracker){var n=as(e)?"checked":"value";e._valueTracker=Ao(e,n,""+e[n])}}function ur(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=as(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function ui(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var cr=/[\n"\\]/g;function en(e){return e.replace(cr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ta(e,n,s,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ke(n)):e.value!==""+ke(n)&&(e.value=""+ke(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?So(e,g,ke(n)):s!=null?So(e,g,ke(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+ke(E):e.removeAttribute("name")}function su(e,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Gt(e);return}s=s!=null?""+ke(s):"",n=n!=null?""+ke(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Gt(e)}function So(e,n,s){n==="number"&&ui(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function os(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+ke(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function ru(e,n,s){if(n!=null&&(n=""+ke(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+ke(s):""}function ls(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(Ne(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=ke(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Gt(e)}function nn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var au=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bo(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||au.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function wo(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&bo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&bo(e,f,n[f])}function ea(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ou=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),us=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function na(e){return us.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function jn(){}var Ro=null;function Sn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cs=null,ci=null;function hr(e){var n=An(e);if(n&&(e=n.stateNode)){var s=e[Ve]||null;t:switch(e=n.stateNode,n.type){case"input":if(ta(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+en(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[Ve]||null;if(!h)throw Error(a(90));ta(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&ur(o)}break t;case"textarea":ru(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&os(e,!!s.multiple,n,!1)}}}var ia=!1;function hs(e,n,s){if(ia)return e(n,s);ia=!0;try{var o=e(n);return o}finally{if(ia=!1,(cs!==null||ci!==null)&&(tc(),cs&&(n=cs,e=ci,ci=cs=null,hr(n),e)))for(n=0;n<e.length;n++)hr(e[n])}}function Bn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Ve]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fr=!1;if(bn)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){fr=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{fr=!1}var hi=null,Io=null,dr=null;function Co(){if(dr)return dr;var e,n=Io,s=n.length,o,h="value"in hi?hi.value:hi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return dr=h.slice(e,1<o?1-o:void 0)}function mr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Di(){return!0}function qn(){return!1}function ze(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Di:qn,this.isPropagationStopped=qn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),n}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fi=ze(Oi),fs=b({},Oi,{view:0,detail:0}),No=ze(fs),ds,sa,di,ra=b({},fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ms,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==di&&(di&&e.type==="mousemove"?(ds=e.screenX-di.screenX,sa=e.screenY-di.screenY):sa=ds=0,di=e),ds)},movementY:function(e){return"movementY"in e?e.movementY:sa}}),Do=ze(ra),gr=b({},ra,{dataTransfer:0}),lu=ze(gr),uu=b({},fs,{relatedTarget:0}),pr=ze(uu),Oo=b({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),cu=ze(Oo),aa=b({},Oi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hu=ze(aa),fu=b({},Oi,{data:0}),mi=ze(fu),du={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=gu[e])?!!n[e]:!1}function ms(){return pu}var We=b({},fs,{key:function(e){if(e.key){var n=du[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=mr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ms,charCode:function(e){return e.type==="keypress"?mr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yu=ze(We),_u=b({},ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xi=ze(_u),u=b({},fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ms}),m=ze(u),_=b({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ze(_),U=b({},ra,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=ze(U),tt=b({},Oi,{newState:0,oldState:0}),St=ze(tt),fe=[9,13,27,32],jt=bn&&"CompositionEvent"in window,re=null;bn&&"documentMode"in document&&(re=document.documentMode);var wn=bn&&"TextEvent"in window&&!re,gi=bn&&(!jt||re&&8<re&&11>=re),Hn=" ",Fn=!1;function yr(e,n){switch(e){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var la=!1;function qT(e,n){switch(e){case"compositionend":return oa(n);case"keypress":return n.which!==32?null:(Fn=!0,Hn);case"textInput":return e=n.data,e===Hn&&Fn?null:e;default:return null}}function HT(e,n){if(la)return e==="compositionend"||!jt&&yr(e,n)?(e=Co(),dr=Io=hi=null,la=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return gi&&n.locale!=="ko"?null:n.data;default:return null}}var FT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!FT[e.type]:n==="textarea"}function rg(e,n,s,o){cs?ci?ci.push(o):ci=[o]:cs=o,n=oc(n,"onChange"),0<n.length&&(s=new fi("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var xo=null,Mo=null;function GT(e){By(e,0)}function vu(e){var n=hn(e);if(ur(n))return e}function ag(e,n){if(e==="change")return n}var og=!1;if(bn){var Nh;if(bn){var Dh="oninput"in document;if(!Dh){var lg=document.createElement("div");lg.setAttribute("oninput","return;"),Dh=typeof lg.oninput=="function"}Nh=Dh}else Nh=!1;og=Nh&&(!document.documentMode||9<document.documentMode)}function ug(){xo&&(xo.detachEvent("onpropertychange",cg),Mo=xo=null)}function cg(e){if(e.propertyName==="value"&&vu(Mo)){var n=[];rg(n,Mo,e,Sn(e)),hs(GT,n)}}function QT(e,n,s){e==="focusin"?(ug(),xo=n,Mo=s,xo.attachEvent("onpropertychange",cg)):e==="focusout"&&ug()}function YT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vu(Mo)}function KT(e,n){if(e==="click")return vu(n)}function XT(e,n){if(e==="input"||e==="change")return vu(n)}function ZT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var dn=typeof Object.is=="function"?Object.is:ZT;function Vo(e,n){if(dn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!pe.call(n,h)||!dn(e[h],n[h]))return!1}return!0}function hg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fg(e,n){var s=hg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=hg(s)}}function dg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?dg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function mg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ui(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ui(e.document)}return n}function Oh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var $T=bn&&"documentMode"in document&&11>=document.documentMode,ua=null,xh=null,ko=null,Mh=!1;function gg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Mh||ua==null||ua!==ui(o)||(o=ua,"selectionStart"in o&&Oh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ko&&Vo(ko,o)||(ko=o,o=oc(xh,"onSelect"),0<o.length&&(n=new fi("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=ua)))}function _r(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ca={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionrun:_r("Transition","TransitionRun"),transitionstart:_r("Transition","TransitionStart"),transitioncancel:_r("Transition","TransitionCancel"),transitionend:_r("Transition","TransitionEnd")},Vh={},pg={};bn&&(pg=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function vr(e){if(Vh[e])return Vh[e];if(!ca[e])return e;var n=ca[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in pg)return Vh[e]=n[s];return e}var yg=vr("animationend"),_g=vr("animationiteration"),vg=vr("animationstart"),JT=vr("transitionrun"),WT=vr("transitionstart"),t1=vr("transitioncancel"),Eg=vr("transitionend"),Tg=new Map,kh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kh.push("scrollEnd");function Gn(e,n){Tg.set(e,n),oi(n,[e])}var Eu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Rn=[],ha=0,Uh=0;function Tu(){for(var e=ha,n=Uh=ha=0;n<e;){var s=Rn[n];Rn[n++]=null;var o=Rn[n];Rn[n++]=null;var h=Rn[n];Rn[n++]=null;var f=Rn[n];if(Rn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Ag(s,h,f)}}function Au(e,n,s,o){Rn[ha++]=e,Rn[ha++]=n,Rn[ha++]=s,Rn[ha++]=o,Uh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Lh(e,n,s,o){return Au(e,n,s,o),Su(e)}function Er(e,n){return Au(e,null,null,n),Su(e)}function Ag(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-he(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Su(e){if(50<il)throw il=0,Yf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var fa={};function e1(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,n,s,o){return new e1(e,n,s,o)}function Ph(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mi(e,n){var s=e.alternate;return s===null?(s=mn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Sg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function bu(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")Ph(e)&&(g=1);else if(typeof e=="string")g=aA(e,s,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=mn(31,s,n,h),e.elementType=R,e.lanes=f,e;case W:return Tr(s.children,h,f,n);case J:g=8,h|=24;break;case dt:return e=mn(12,s,n,h|2),e.elementType=dt,e.lanes=f,e;case ot:return e=mn(13,s,n,h),e.elementType=ot,e.lanes=f,e;case ut:return e=mn(19,s,n,h),e.elementType=ut,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gt:g=10;break t;case Et:g=9;break t;case qt:g=11;break t;case w:g=14;break t;case S:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=mn(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Tr(e,n,s,o){return e=mn(7,e,o,n),e.lanes=s,e}function zh(e,n,s){return e=mn(6,e,null,n),e.lanes=s,e}function bg(e){var n=mn(18,null,null,0);return n.stateNode=e,n}function jh(e,n,s){return n=mn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var wg=new WeakMap;function In(e,n){if(typeof e=="object"&&e!==null){var s=wg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:ho(n)},wg.set(e,n),n)}return{value:e,source:n,stack:ho(n)}}var da=[],ma=0,wu=null,Uo=0,Cn=[],Nn=0,gs=null,pi=1,yi="";function Vi(e,n){da[ma++]=Uo,da[ma++]=wu,wu=e,Uo=n}function Rg(e,n,s){Cn[Nn++]=pi,Cn[Nn++]=yi,Cn[Nn++]=gs,gs=e;var o=pi;e=yi;var h=32-he(o)-1;o&=~(1<<h),s+=1;var f=32-he(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,pi=1<<32-he(n)+h|s<<h|o,yi=f+e}else pi=1<<f|s<<h|o,yi=e}function Bh(e){e.return!==null&&(Vi(e,1),Rg(e,1,0))}function qh(e){for(;e===wu;)wu=da[--ma],da[ma]=null,Uo=da[--ma],da[ma]=null;for(;e===gs;)gs=Cn[--Nn],Cn[Nn]=null,yi=Cn[--Nn],Cn[Nn]=null,pi=Cn[--Nn],Cn[Nn]=null}function Ig(e,n){Cn[Nn++]=pi,Cn[Nn++]=yi,Cn[Nn++]=gs,pi=n.id,yi=n.overflow,gs=e}var je=null,te=null,Vt=!1,ps=null,Dn=!1,Hh=Error(a(519));function ys(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Lo(In(n,e)),Hh}function Cg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[_e]=e,n[Ve]=o,s){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(s=0;s<rl.length;s++)Ct(rl[s],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),su(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),ls(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Gy(n.textContent,s)?(o.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),o.onScroll!=null&&Ct("scroll",n),o.onScrollEnd!=null&&Ct("scrollend",n),o.onClick!=null&&(n.onclick=jn),n=!0):n=!1,n||ys(e,!0)}function Ng(e){for(je=e.return;je;)switch(je.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:je=je.return}}function ga(e){if(e!==je)return!1;if(!Vt)return Ng(e),Vt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||ld(e.type,e.memoizedProps)),s=!s),s&&te&&ys(e),Ng(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));te=t_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));te=t_(e)}else n===27?(n=te,Os(e.type)?(e=dd,dd=null,te=e):te=n):te=je?xn(e.stateNode.nextSibling):null;return!0}function Ar(){te=je=null,Vt=!1}function Fh(){var e=ps;return e!==null&&(on===null?on=e:on.push.apply(on,e),ps=null),e}function Lo(e){ps===null?ps=[e]:ps.push(e)}var Gh=O(null),Sr=null,ki=null;function _s(e,n,s){nt(Gh,n._currentValue),n._currentValue=s}function Ui(e){e._currentValue=Gh.current,K(Gh)}function Qh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Yh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Qh(f.return,s,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Qh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function pa(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;dn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===kt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(cl):e=[cl])}h=h.return}e!==null&&Yh(n,e,s,o),n.flags|=262144}function Ru(e){for(e=e.firstContext;e!==null;){if(!dn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function br(e){Sr=e,ki=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return Dg(Sr,e)}function Iu(e,n){return Sr===null&&br(e),Dg(e,n)}function Dg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},ki===null){if(e===null)throw Error(a(308));ki=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ki=ki.next=n;return s}var n1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},i1=r.unstable_scheduleCallback,s1=r.unstable_NormalPriority,Te={$$typeof:gt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kh(){return{controller:new n1,data:new Map,refCount:0}}function Po(e){e.refCount--,e.refCount===0&&i1(s1,function(){e.controller.abort()})}var zo=null,Xh=0,ya=0,_a=null;function r1(e,n){if(zo===null){var s=zo=[];Xh=0,ya=Wf(),_a={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Xh++,n.then(Og,Og),n}function Og(){if(--Xh===0&&zo!==null){_a!==null&&(_a.status="fulfilled");var e=zo;zo=null,ya=0,_a=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function a1(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var xg=F.S;F.S=function(e,n){gy=Je(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&r1(e,n),xg!==null&&xg(e,n)};var wr=O(null);function Zh(){var e=wr.current;return e!==null?e:Jt.pooledCache}function Cu(e,n){n===null?nt(wr,wr.current):nt(wr,n.pool)}function Mg(){var e=Zh();return e===null?null:{parent:Te._currentValue,pool:e}}var va=Error(a(460)),$h=Error(a(474)),Nu=Error(a(542)),Du={then:function(){}};function Vg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function kg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(jn,jn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Lg(e),e;default:if(typeof n.status=="string")n.then(jn,jn);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Lg(e),e}throw Ir=n,va}}function Rr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ir=s,va):s}}var Ir=null;function Ug(){if(Ir===null)throw Error(a(459));var e=Ir;return Ir=null,e}function Lg(e){if(e===va||e===Nu)throw Error(a(483))}var Ea=null,jo=0;function Ou(e){var n=jo;return jo+=1,Ea===null&&(Ea=[]),kg(Ea,e,n)}function Bo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function xu(e,n){throw n.$$typeof===V?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Pg(e){function n(M,D){if(e){var L=M.deletions;L===null?(M.deletions=[D],M.flags|=16):L.push(D)}}function s(M,D){if(!e)return null;for(;D!==null;)n(M,D),D=D.sibling;return null}function o(M){for(var D=new Map;M!==null;)M.key!==null?D.set(M.key,M):D.set(M.index,M),M=M.sibling;return D}function h(M,D){return M=Mi(M,D),M.index=0,M.sibling=null,M}function f(M,D,L){return M.index=L,e?(L=M.alternate,L!==null?(L=L.index,L<D?(M.flags|=67108866,D):L):(M.flags|=67108866,D)):(M.flags|=1048576,D)}function g(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function E(M,D,L,Q){return D===null||D.tag!==6?(D=zh(L,M.mode,Q),D.return=M,D):(D=h(D,L),D.return=M,D)}function C(M,D,L,Q){var ct=L.type;return ct===W?H(M,D,L.props.children,Q,L.key):D!==null&&(D.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===S&&Rr(ct)===D.type)?(D=h(D,L.props),Bo(D,L),D.return=M,D):(D=bu(L.type,L.key,L.props,null,M.mode,Q),Bo(D,L),D.return=M,D)}function P(M,D,L,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==L.containerInfo||D.stateNode.implementation!==L.implementation?(D=jh(L,M.mode,Q),D.return=M,D):(D=h(D,L.children||[]),D.return=M,D)}function H(M,D,L,Q,ct){return D===null||D.tag!==7?(D=Tr(L,M.mode,Q,ct),D.return=M,D):(D=h(D,L),D.return=M,D)}function Y(M,D,L){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=zh(""+D,M.mode,L),D.return=M,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case G:return L=bu(D.type,D.key,D.props,null,M.mode,L),Bo(L,D),L.return=M,L;case $:return D=jh(D,M.mode,L),D.return=M,D;case S:return D=Rr(D),Y(M,D,L)}if(Ne(D)||k(D))return D=Tr(D,M.mode,L,null),D.return=M,D;if(typeof D.then=="function")return Y(M,Ou(D),L);if(D.$$typeof===gt)return Y(M,Iu(M,D),L);xu(M,D)}return null}function z(M,D,L,Q){var ct=D!==null?D.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ct!==null?null:E(M,D,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case G:return L.key===ct?C(M,D,L,Q):null;case $:return L.key===ct?P(M,D,L,Q):null;case S:return L=Rr(L),z(M,D,L,Q)}if(Ne(L)||k(L))return ct!==null?null:H(M,D,L,Q,null);if(typeof L.then=="function")return z(M,D,Ou(L),Q);if(L.$$typeof===gt)return z(M,D,Iu(M,L),Q);xu(M,L)}return null}function q(M,D,L,Q,ct){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return M=M.get(L)||null,E(D,M,""+Q,ct);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case G:return M=M.get(Q.key===null?L:Q.key)||null,C(D,M,Q,ct);case $:return M=M.get(Q.key===null?L:Q.key)||null,P(D,M,Q,ct);case S:return Q=Rr(Q),q(M,D,L,Q,ct)}if(Ne(Q)||k(Q))return M=M.get(L)||null,H(D,M,Q,ct,null);if(typeof Q.then=="function")return q(M,D,L,Ou(Q),ct);if(Q.$$typeof===gt)return q(M,D,L,Iu(D,Q),ct);xu(D,Q)}return null}function at(M,D,L,Q){for(var ct=null,Pt=null,lt=D,Rt=D=0,Dt=null;lt!==null&&Rt<L.length;Rt++){lt.index>Rt?(Dt=lt,lt=null):Dt=lt.sibling;var zt=z(M,lt,L[Rt],Q);if(zt===null){lt===null&&(lt=Dt);break}e&&lt&&zt.alternate===null&&n(M,lt),D=f(zt,D,Rt),Pt===null?ct=zt:Pt.sibling=zt,Pt=zt,lt=Dt}if(Rt===L.length)return s(M,lt),Vt&&Vi(M,Rt),ct;if(lt===null){for(;Rt<L.length;Rt++)lt=Y(M,L[Rt],Q),lt!==null&&(D=f(lt,D,Rt),Pt===null?ct=lt:Pt.sibling=lt,Pt=lt);return Vt&&Vi(M,Rt),ct}for(lt=o(lt);Rt<L.length;Rt++)Dt=q(lt,M,Rt,L[Rt],Q),Dt!==null&&(e&&Dt.alternate!==null&&lt.delete(Dt.key===null?Rt:Dt.key),D=f(Dt,D,Rt),Pt===null?ct=Dt:Pt.sibling=Dt,Pt=Dt);return e&&lt.forEach(function(Us){return n(M,Us)}),Vt&&Vi(M,Rt),ct}function mt(M,D,L,Q){if(L==null)throw Error(a(151));for(var ct=null,Pt=null,lt=D,Rt=D=0,Dt=null,zt=L.next();lt!==null&&!zt.done;Rt++,zt=L.next()){lt.index>Rt?(Dt=lt,lt=null):Dt=lt.sibling;var Us=z(M,lt,zt.value,Q);if(Us===null){lt===null&&(lt=Dt);break}e&&lt&&Us.alternate===null&&n(M,lt),D=f(Us,D,Rt),Pt===null?ct=Us:Pt.sibling=Us,Pt=Us,lt=Dt}if(zt.done)return s(M,lt),Vt&&Vi(M,Rt),ct;if(lt===null){for(;!zt.done;Rt++,zt=L.next())zt=Y(M,zt.value,Q),zt!==null&&(D=f(zt,D,Rt),Pt===null?ct=zt:Pt.sibling=zt,Pt=zt);return Vt&&Vi(M,Rt),ct}for(lt=o(lt);!zt.done;Rt++,zt=L.next())zt=q(lt,M,Rt,zt.value,Q),zt!==null&&(e&&zt.alternate!==null&&lt.delete(zt.key===null?Rt:zt.key),D=f(zt,D,Rt),Pt===null?ct=zt:Pt.sibling=zt,Pt=zt);return e&&lt.forEach(function(yA){return n(M,yA)}),Vt&&Vi(M,Rt),ct}function $t(M,D,L,Q){if(typeof L=="object"&&L!==null&&L.type===W&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case G:t:{for(var ct=L.key;D!==null;){if(D.key===ct){if(ct=L.type,ct===W){if(D.tag===7){s(M,D.sibling),Q=h(D,L.props.children),Q.return=M,M=Q;break t}}else if(D.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===S&&Rr(ct)===D.type){s(M,D.sibling),Q=h(D,L.props),Bo(Q,L),Q.return=M,M=Q;break t}s(M,D);break}else n(M,D);D=D.sibling}L.type===W?(Q=Tr(L.props.children,M.mode,Q,L.key),Q.return=M,M=Q):(Q=bu(L.type,L.key,L.props,null,M.mode,Q),Bo(Q,L),Q.return=M,M=Q)}return g(M);case $:t:{for(ct=L.key;D!==null;){if(D.key===ct)if(D.tag===4&&D.stateNode.containerInfo===L.containerInfo&&D.stateNode.implementation===L.implementation){s(M,D.sibling),Q=h(D,L.children||[]),Q.return=M,M=Q;break t}else{s(M,D);break}else n(M,D);D=D.sibling}Q=jh(L,M.mode,Q),Q.return=M,M=Q}return g(M);case S:return L=Rr(L),$t(M,D,L,Q)}if(Ne(L))return at(M,D,L,Q);if(k(L)){if(ct=k(L),typeof ct!="function")throw Error(a(150));return L=ct.call(L),mt(M,D,L,Q)}if(typeof L.then=="function")return $t(M,D,Ou(L),Q);if(L.$$typeof===gt)return $t(M,D,Iu(M,L),Q);xu(M,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,D!==null&&D.tag===6?(s(M,D.sibling),Q=h(D,L),Q.return=M,M=Q):(s(M,D),Q=zh(L,M.mode,Q),Q.return=M,M=Q),g(M)):s(M,D)}return function(M,D,L,Q){try{jo=0;var ct=$t(M,D,L,Q);return Ea=null,ct}catch(lt){if(lt===va||lt===Nu)throw lt;var Pt=mn(29,lt,null,M.mode);return Pt.lanes=Q,Pt.return=M,Pt}}}var Cr=Pg(!0),zg=Pg(!1),vs=!1;function Jh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Es(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ts(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Bt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Su(e),Ag(e,null,s),n}return Au(e,o,n,s),Su(e)}function qo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,go(e,s)}}function tf(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var ef=!1;function Ho(){if(ef){var e=_a;if(e!==null)throw e}}function Fo(e,n,s,o){ef=!1;var h=e.updateQueue;vs=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,P=C.next;C.next=null,g===null?f=P:g.next=P,g=C;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==g&&(E===null?H.firstBaseUpdate=P:E.next=P,H.lastBaseUpdate=C))}if(f!==null){var Y=h.baseState;g=0,H=P=C=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(Nt&z)===z:(o&z)===z){z!==0&&z===ya&&(ef=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,mt=E;z=n;var $t=s;switch(mt.tag){case 1:if(at=mt.payload,typeof at=="function"){Y=at.call($t,Y,z);break t}Y=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=mt.payload,z=typeof at=="function"?at.call($t,Y,z):at,z==null)break t;Y=b({},Y,z);break t;case 2:vs=!0}}z=E.callback,z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(P=H=q,C=Y):H=H.next=q,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);H===null&&(C=Y),h.baseState=C,h.firstBaseUpdate=P,h.lastBaseUpdate=H,f===null&&(h.shared.lanes=0),Rs|=g,e.lanes=g,e.memoizedState=Y}}function jg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Bg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)jg(s[e],n)}var Ta=O(null),Mu=O(0);function qg(e,n){e=Gi,nt(Mu,e),nt(Ta,n),Gi=e|n.baseLanes}function nf(){nt(Mu,Gi),nt(Ta,Ta.current)}function sf(){Gi=Mu.current,K(Ta),K(Mu)}var gn=O(null),On=null;function As(e){var n=e.alternate;nt(de,de.current&1),nt(gn,e),On===null&&(n===null||Ta.current!==null||n.memoizedState!==null)&&(On=e)}function rf(e){nt(de,de.current),nt(gn,e),On===null&&(On=e)}function Hg(e){e.tag===22?(nt(de,de.current),nt(gn,e),On===null&&(On=e)):Ss()}function Ss(){nt(de,de.current),nt(gn,gn.current)}function pn(e){K(gn),On===e&&(On=null),K(de)}var de=O(0);function Vu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||hd(s)||fd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Li=0,bt=null,Xt=null,Ae=null,ku=!1,Aa=!1,Nr=!1,Uu=0,Go=0,Sa=null,o1=0;function ue(){throw Error(a(321))}function af(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!dn(e[s],n[s]))return!1;return!0}function of(e,n,s,o,h,f){return Li=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?Rp:Af,Nr=!1,f=s(o,h),Nr=!1,Aa&&(f=Gg(n,s,o,h)),Fg(e),f}function Fg(e){F.H=Ko;var n=Xt!==null&&Xt.next!==null;if(Li=0,Ae=Xt=bt=null,ku=!1,Go=0,Sa=null,n)throw Error(a(300));e===null||Se||(e=e.dependencies,e!==null&&Ru(e)&&(Se=!0))}function Gg(e,n,s,o){bt=e;var h=0;do{if(Aa&&(Sa=null),Go=0,Aa=!1,25<=h)throw Error(a(301));if(h+=1,Ae=Xt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Ip,f=n(s,o)}while(Aa);return f}function l1(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?Qo(n):n,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(bt.flags|=1024),n}function lf(){var e=Uu!==0;return Uu=0,e}function uf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function cf(e){if(ku){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ku=!1}Li=0,Ae=Xt=bt=null,Aa=!1,Go=Uu=0,Sa=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?bt.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function me(){if(Xt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var n=Ae===null?bt.memoizedState:Ae.next;if(n!==null)Ae=n,Xt=e;else{if(e===null)throw bt.alternate===null?Error(a(467)):Error(a(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Ae===null?bt.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Lu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qo(e){var n=Go;return Go+=1,Sa===null&&(Sa=[]),e=kg(Sa,e,n),n=bt,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Rp:Af),e}function Pu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Qo(e);if(e.$$typeof===gt)return Be(e)}throw Error(a(438,String(e)))}function hf(e){var n=null,s=bt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=bt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Lu(),bt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=x;return n.index++,s}function Pi(e,n){return typeof n=="function"?n(e):n}function zu(e){var n=me();return ff(n,Xt,e)}function ff(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,C=null,P=n,H=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(Nt&Y)===Y:(Li&Y)===Y){var z=P.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===ya&&(H=!0);else if((Li&z)===z){P=P.next,z===ya&&(H=!0);continue}else Y={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(E=C=Y,g=f):C=C.next=Y,bt.lanes|=z,Rs|=z;Y=P.action,Nr&&s(f,Y),f=P.hasEagerState?P.eagerState:s(f,Y)}else z={lane:Y,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(E=C=z,g=f):C=C.next=z,bt.lanes|=Y,Rs|=Y;P=P.next}while(P!==null&&P!==n);if(C===null?g=f:C.next=E,!dn(f,e.memoizedState)&&(Se=!0,H&&(s=_a,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function df(e){var n=me(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);dn(f,n.memoizedState)||(Se=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function Qg(e,n,s){var o=bt,h=me(),f=Vt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!dn((Xt||h).memoizedState,s);if(g&&(h.memoizedState=s,Se=!0),h=h.queue,pf(Xg.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Ae!==null&&Ae.memoizedState.tag&1){if(o.flags|=2048,ba(9,{destroy:void 0},Kg.bind(null,o,h,s,n),null),Jt===null)throw Error(a(349));f||(Li&127)!==0||Yg(o,n,s)}return s}function Yg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=bt.updateQueue,n===null?(n=Lu(),bt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Kg(e,n,s,o){n.value=s,n.getSnapshot=o,Zg(n)&&$g(e)}function Xg(e,n,s){return s(function(){Zg(n)&&$g(e)})}function Zg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!dn(e,s)}catch{return!0}}function $g(e){var n=Er(e,2);n!==null&&ln(n,e,2)}function mf(e){var n=tn();if(typeof e=="function"){var s=e;if(e=s(),Nr){Tn(!0);try{s()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:e},n}function Jg(e,n,s,o){return e.baseState=s,ff(e,Xt,typeof o=="function"?o:Pi)}function u1(e,n,s,o,h){if(qu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};F.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,Wg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Wg(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=F.T,g={};F.T=g;try{var E=s(h,o),C=F.S;C!==null&&C(g,E),tp(e,n,E)}catch(P){gf(e,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),F.T=f}}else try{f=s(h,o),tp(e,n,f)}catch(P){gf(e,n,P)}}function tp(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){ep(e,n,o)},function(o){return gf(e,n,o)}):ep(e,n,s)}function ep(e,n,s){n.status="fulfilled",n.value=s,np(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Wg(e,s)))}function gf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,np(n),n=n.next;while(n!==o)}e.action=null}function np(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function ip(e,n){return n}function sp(e,n){if(Vt){var s=Jt.formState;if(s!==null){t:{var o=bt;if(Vt){if(te){e:{for(var h=te,f=Dn;h.nodeType!==8;){if(!f){h=null;break e}if(h=xn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){te=xn(h.nextSibling),o=h.data==="F!";break t}}ys(o)}o=!1}o&&(n=s[0])}}return s=tn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ip,lastRenderedState:n},s.queue=o,s=Sp.bind(null,bt,o),o.dispatch=s,o=mf(!1),f=Tf.bind(null,bt,!1,o.queue),o=tn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=u1.bind(null,bt,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function rp(e){var n=me();return ap(n,Xt,e)}function ap(e,n,s){if(n=ff(e,n,ip)[0],e=zu(Pi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Qo(n)}catch(g){throw g===va?Nu:g}else o=n;n=me();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(bt.flags|=2048,ba(9,{destroy:void 0},c1.bind(null,h,s),null)),[o,f,e]}function c1(e,n){e.action=n}function op(e){var n=me(),s=Xt;if(s!==null)return ap(n,s,e);me(),n=n.memoizedState,s=me();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function ba(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=bt.updateQueue,n===null&&(n=Lu(),bt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function lp(){return me().memoizedState}function ju(e,n,s,o){var h=tn();bt.flags|=e,h.memoizedState=ba(1|n,{destroy:void 0},s,o===void 0?null:o)}function Bu(e,n,s,o){var h=me();o=o===void 0?null:o;var f=h.memoizedState.inst;Xt!==null&&o!==null&&af(o,Xt.memoizedState.deps)?h.memoizedState=ba(n,f,s,o):(bt.flags|=e,h.memoizedState=ba(1|n,f,s,o))}function up(e,n){ju(8390656,8,e,n)}function pf(e,n){Bu(2048,8,e,n)}function h1(e){bt.flags|=4;var n=bt.updateQueue;if(n===null)n=Lu(),bt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function cp(e){var n=me().memoizedState;return h1({ref:n,nextImpl:e}),function(){if((Bt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function hp(e,n){return Bu(4,2,e,n)}function fp(e,n){return Bu(4,4,e,n)}function dp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function mp(e,n,s){s=s!=null?s.concat([e]):null,Bu(4,4,dp.bind(null,n,e),s)}function yf(){}function gp(e,n){var s=me();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&af(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function pp(e,n){var s=me();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&af(n,o[1]))return o[0];if(o=e(),Nr){Tn(!0);try{e()}finally{Tn(!1)}}return s.memoizedState=[o,n],o}function _f(e,n,s){return s===void 0||(Li&1073741824)!==0&&(Nt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=yy(),bt.lanes|=e,Rs|=e,s)}function yp(e,n,s,o){return dn(s,n)?s:Ta.current!==null?(e=_f(e,s,o),dn(e,n)||(Se=!0),e):(Li&42)===0||(Li&1073741824)!==0&&(Nt&261930)===0?(Se=!0,e.memoizedState=s):(e=yy(),bt.lanes|=e,Rs|=e,n)}function _p(e,n,s,o,h){var f=et.p;et.p=f!==0&&8>f?f:8;var g=F.T,E={};F.T=E,Tf(e,!1,n,s);try{var C=h(),P=F.S;if(P!==null&&P(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var H=a1(C,o);Yo(e,n,H,vn(e))}else Yo(e,n,o,vn(e))}catch(Y){Yo(e,n,{then:function(){},status:"rejected",reason:Y},vn())}finally{et.p=f,g!==null&&E.types!==null&&(g.types=E.types),F.T=g}}function f1(){}function vf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=vp(e).queue;_p(e,h,n,ft,s===null?f1:function(){return Ep(e),s(o)})}function vp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:ft},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Ep(e){var n=vp(e);n.next===null&&(n=e.alternate.memoizedState),Yo(e,n.next.queue,{},vn())}function Ef(){return Be(cl)}function Tp(){return me().memoizedState}function Ap(){return me().memoizedState}function d1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=vn();e=Es(s);var o=Ts(n,e,s);o!==null&&(ln(o,n,s),qo(o,n,s)),n={cache:Kh()},e.payload=n;return}n=n.return}}function m1(e,n,s){var o=vn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},qu(e)?bp(n,s):(s=Lh(e,n,s,o),s!==null&&(ln(s,e,o),wp(s,n,o)))}function Sp(e,n,s){var o=vn();Yo(e,n,s,o)}function Yo(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(qu(e))bp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,dn(E,g))return Au(e,n,h,0),Jt===null&&Tu(),!1}catch{}if(s=Lh(e,n,h,o),s!==null)return ln(s,e,o),wp(s,n,o),!0}return!1}function Tf(e,n,s,o){if(o={lane:2,revertLane:Wf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},qu(e)){if(n)throw Error(a(479))}else n=Lh(e,s,o,2),n!==null&&ln(n,e,2)}function qu(e){var n=e.alternate;return e===bt||n!==null&&n===bt}function bp(e,n){Aa=ku=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function wp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,go(e,s)}}var Ko={readContext:Be,use:Pu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};Ko.useEffectEvent=ue;var Rp={readContext:Be,use:Pu,useCallback:function(e,n){return tn().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:up,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,ju(4194308,4,dp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return ju(4194308,4,e,n)},useInsertionEffect:function(e,n){ju(4,2,e,n)},useMemo:function(e,n){var s=tn();n=n===void 0?null:n;var o=e();if(Nr){Tn(!0);try{e()}finally{Tn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=tn();if(s!==void 0){var h=s(n);if(Nr){Tn(!0);try{s(n)}finally{Tn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=m1.bind(null,bt,e),[o.memoizedState,e]},useRef:function(e){var n=tn();return e={current:e},n.memoizedState=e},useState:function(e){e=mf(e);var n=e.queue,s=Sp.bind(null,bt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:yf,useDeferredValue:function(e,n){var s=tn();return _f(s,e,n)},useTransition:function(){var e=mf(!1);return e=_p.bind(null,bt,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=bt,h=tn();if(Vt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Jt===null)throw Error(a(349));(Nt&127)!==0||Yg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,up(Xg.bind(null,o,f,e),[e]),o.flags|=2048,ba(9,{destroy:void 0},Kg.bind(null,o,f,s,n),null),s},useId:function(){var e=tn(),n=Jt.identifierPrefix;if(Vt){var s=yi,o=pi;s=(o&~(1<<32-he(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Uu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=o1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Ef,useFormState:sp,useActionState:sp,useOptimistic:function(e){var n=tn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Tf.bind(null,bt,!0,s),s.dispatch=n,[e,n]},useMemoCache:hf,useCacheRefresh:function(){return tn().memoizedState=d1.bind(null,bt)},useEffectEvent:function(e){var n=tn(),s={impl:e};return n.memoizedState=s,function(){if((Bt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Af={readContext:Be,use:Pu,useCallback:gp,useContext:Be,useEffect:pf,useImperativeHandle:mp,useInsertionEffect:hp,useLayoutEffect:fp,useMemo:pp,useReducer:zu,useRef:lp,useState:function(){return zu(Pi)},useDebugValue:yf,useDeferredValue:function(e,n){var s=me();return yp(s,Xt.memoizedState,e,n)},useTransition:function(){var e=zu(Pi)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Qo(e),n]},useSyncExternalStore:Qg,useId:Tp,useHostTransitionStatus:Ef,useFormState:rp,useActionState:rp,useOptimistic:function(e,n){var s=me();return Jg(s,Xt,e,n)},useMemoCache:hf,useCacheRefresh:Ap};Af.useEffectEvent=cp;var Ip={readContext:Be,use:Pu,useCallback:gp,useContext:Be,useEffect:pf,useImperativeHandle:mp,useInsertionEffect:hp,useLayoutEffect:fp,useMemo:pp,useReducer:df,useRef:lp,useState:function(){return df(Pi)},useDebugValue:yf,useDeferredValue:function(e,n){var s=me();return Xt===null?_f(s,e,n):yp(s,Xt.memoizedState,e,n)},useTransition:function(){var e=df(Pi)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Qo(e),n]},useSyncExternalStore:Qg,useId:Tp,useHostTransitionStatus:Ef,useFormState:op,useActionState:op,useOptimistic:function(e,n){var s=me();return Xt!==null?Jg(s,Xt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:hf,useCacheRefresh:Ap};Ip.useEffectEvent=cp;function Sf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:b({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var bf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=vn(),h=Es(o);h.payload=n,s!=null&&(h.callback=s),n=Ts(e,h,o),n!==null&&(ln(n,e,o),qo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=vn(),h=Es(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Ts(e,h,o),n!==null&&(ln(n,e,o),qo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=vn(),o=Es(s);o.tag=2,n!=null&&(o.callback=n),n=Ts(e,o,s),n!==null&&(ln(n,e,s),qo(n,e,s))}};function Cp(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Vo(s,o)||!Vo(h,f):!0}function Np(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&bf.enqueueReplaceState(n,n.state,null)}function Dr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=b({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Dp(e){Eu(e)}function Op(e){console.error(e)}function xp(e){Eu(e)}function Hu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Mp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function wf(e,n,s){return s=Es(s),s.tag=3,s.payload={element:null},s.callback=function(){Hu(e,n)},s}function Vp(e){return e=Es(e),e.tag=3,e}function kp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Mp(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Mp(n,s,o),typeof h!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function g1(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&pa(n,s,h,!0),s=gn.current,s!==null){switch(s.tag){case 31:case 13:return On===null?ec():s.alternate===null&&ce===0&&(ce=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Du?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Zf(e,o,h)),!1;case 22:return s.flags|=65536,o===Du?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Zf(e,o,h)),!1}throw Error(a(435,s.tag))}return Zf(e,o,h),ec(),!1}if(Vt)return n=gn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Hh&&(e=Error(a(422),{cause:o}),Lo(In(e,s)))):(o!==Hh&&(n=Error(a(423),{cause:o}),Lo(In(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=In(o,s),h=wf(e.stateNode,o,h),tf(e,h),ce!==4&&(ce=2)),!1;var f=Error(a(520),{cause:o});if(f=In(f,s),nl===null?nl=[f]:nl.push(f),ce!==4&&(ce=2),n===null)return!0;o=In(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=wf(s.stateNode,o,e),tf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Is===null||!Is.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Vp(h),kp(h,e,s,o),tf(s,h),!1}s=s.return}while(s!==null);return!1}var Rf=Error(a(461)),Se=!1;function qe(e,n,s,o){n.child=e===null?zg(n,null,s,o):Cr(n,e.child,s,o)}function Up(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return br(n),o=of(e,n,s,g,f,h),E=lf(),e!==null&&!Se?(uf(e,n,h),zi(e,n,h)):(Vt&&E&&Bh(n),n.flags|=1,qe(e,n,o,h),n.child)}function Lp(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Ph(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Pp(e,n,f,o,h)):(e=bu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Vf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Vo,s(g,o)&&e.ref===n.ref)return zi(e,n,h)}return n.flags|=1,e=Mi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Pp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Vo(f,o)&&e.ref===n.ref)if(Se=!1,n.pendingProps=o=f,Vf(e,h))(e.flags&131072)!==0&&(Se=!0);else return n.lanes=e.lanes,zi(e,n,h)}return If(e,n,s,o,h)}function zp(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return jp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Cu(n,f!==null?f.cachePool:null),f!==null?qg(n,f):nf(),Hg(n);else return o=n.lanes=536870912,jp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Cu(n,f.cachePool),qg(n,f),Ss(),n.memoizedState=null):(e!==null&&Cu(n,null),nf(),Ss());return qe(e,n,h,s),n.child}function Xo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function jp(e,n,s,o,h){var f=Zh();return f=f===null?null:{parent:Te._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Cu(n,null),nf(),Hg(n),e!==null&&pa(e,n,o,!0),n.childLanes=h,null}function Fu(e,n){return n=Qu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Bp(e,n,s){return Cr(n,e.child,null,s),e=Fu(n,n.pendingProps),e.flags|=2,pn(n),n.memoizedState=null,e}function p1(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Vt){if(o.mode==="hidden")return e=Fu(n,o),n.lanes=536870912,Xo(null,e);if(rf(n),(e=te)?(e=Wy(e,Dn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:gs!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},s=bg(e),s.return=n,n.child=s,je=n,te=null)):e=null,e===null)throw ys(n);return n.lanes=536870912,null}return Fu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(rf(n),h)if(n.flags&256)n.flags&=-257,n=Bp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Se||pa(e,n,s,!1),h=(s&e.childLanes)!==0,Se||h){if(o=Jt,o!==null&&(g=po(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Er(e,g),ln(o,e,g),Rf;ec(),n=Bp(e,n,s)}else e=f.treeContext,te=xn(g.nextSibling),je=n,Vt=!0,ps=null,Dn=!1,e!==null&&Ig(n,e),n=Fu(n,o),n.flags|=4096;return n}return e=Mi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Gu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function If(e,n,s,o,h){return br(n),s=of(e,n,s,o,void 0,h),o=lf(),e!==null&&!Se?(uf(e,n,h),zi(e,n,h)):(Vt&&o&&Bh(n),n.flags|=1,qe(e,n,s,h),n.child)}function qp(e,n,s,o,h,f){return br(n),n.updateQueue=null,s=Gg(n,o,s,h),Fg(e),o=lf(),e!==null&&!Se?(uf(e,n,f),zi(e,n,f)):(Vt&&o&&Bh(n),n.flags|=1,qe(e,n,s,f),n.child)}function Hp(e,n,s,o,h){if(br(n),n.stateNode===null){var f=fa,g=s.contextType;typeof g=="object"&&g!==null&&(f=Be(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=bf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Jh(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Be(g):fa,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Sf(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&bf.enqueueReplaceState(f,f.state,null),Fo(n,o,f,h),Ho(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,C=Dr(s,E);f.props=C;var P=f.context,H=s.contextType;g=fa,typeof H=="object"&&H!==null&&(g=Be(H));var Y=s.getDerivedStateFromProps;H=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==g)&&Np(n,f,o,g),vs=!1;var z=n.memoizedState;f.state=z,Fo(n,o,f,h),Ho(),P=n.memoizedState,E||z!==P||vs?(typeof Y=="function"&&(Sf(n,s,Y,o),P=n.memoizedState),(C=vs||Cp(n,s,C,o,z,P,g))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=g,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Wh(e,n),g=n.memoizedProps,H=Dr(s,g),f.props=H,Y=n.pendingProps,z=f.context,P=s.contextType,C=fa,typeof P=="object"&&P!==null&&(C=Be(P)),E=s.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||z!==C)&&Np(n,f,o,C),vs=!1,z=n.memoizedState,f.state=z,Fo(n,o,f,h),Ho();var q=n.memoizedState;g!==Y||z!==q||vs||e!==null&&e.dependencies!==null&&Ru(e.dependencies)?(typeof E=="function"&&(Sf(n,s,E,o),q=n.memoizedState),(H=vs||Cp(n,s,H,o,z,q,C)||e!==null&&e.dependencies!==null&&Ru(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=C,o=H):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Gu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Cr(n,e.child,null,h),n.child=Cr(n,null,s,h)):qe(e,n,s,h),n.memoizedState=f.state,e=n.child):e=zi(e,n,h),e}function Fp(e,n,s,o){return Ar(),n.flags|=256,qe(e,n,s,o),n.child}var Cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nf(e){return{baseLanes:e,cachePool:Mg()}}function Df(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=_n),e}function Gp(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(de.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Vt){if(h?As(n):Ss(),(e=te)?(e=Wy(e,Dn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:gs!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},s=bg(e),s.return=n,n.child=s,je=n,te=null)):e=null,e===null)throw ys(n);return fd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ss(),h=n.mode,E=Qu({mode:"hidden",children:E},h),o=Tr(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Nf(s),o.childLanes=Df(e,g,s),n.memoizedState=Cf,Xo(null,o)):(As(n),Of(n,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(As(n),n.flags&=-257,n=xf(e,n,s)):n.memoizedState!==null?(Ss(),n.child=e.child,n.flags|=128,n=null):(Ss(),E=o.fallback,h=n.mode,o=Qu({mode:"visible",children:o.children},h),E=Tr(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Cr(n,e.child,null,s),o=n.child,o.memoizedState=Nf(s),o.childLanes=Df(e,g,s),n.memoizedState=Cf,n=Xo(null,o));else if(As(n),fd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var P=g.dgst;g=P,o=Error(a(419)),o.stack="",o.digest=g,Lo({value:o,source:null,stack:null}),n=xf(e,n,s)}else if(Se||pa(e,n,s,!1),g=(s&e.childLanes)!==0,Se||g){if(g=Jt,g!==null&&(o=po(g,s),o!==0&&o!==C.retryLane))throw C.retryLane=o,Er(e,o),ln(g,e,o),Rf;hd(E)||ec(),n=xf(e,n,s)}else hd(E)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,te=xn(E.nextSibling),je=n,Vt=!0,ps=null,Dn=!1,e!==null&&Ig(n,e),n=Of(n,o.children),n.flags|=4096);return n}return h?(Ss(),E=o.fallback,h=n.mode,C=e.child,P=C.sibling,o=Mi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,P!==null?E=Mi(P,E):(E=Tr(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Xo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Nf(s):(h=E.cachePool,h!==null?(C=Te._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Mg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=Df(e,g,s),n.memoizedState=Cf,Xo(e.child,o)):(As(n),s=e.child,e=s.sibling,s=Mi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Of(e,n){return n=Qu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Qu(e,n){return e=mn(22,e,null,n),e.lanes=0,e}function xf(e,n,s){return Cr(n,e.child,null,s),e=Of(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Qp(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Qh(e.return,n,s)}function Mf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function Yp(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=de.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,nt(de,g),qe(e,n,o,s),o=Vt?Uo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qp(e,s,n);else if(e.tag===19)Qp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Vu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Mf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Vu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Mf(n,!0,s,null,f,o);break;case"together":Mf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function zi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Rs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(pa(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Mi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Mi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Vf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ru(e)))}function y1(e,n,s){switch(n.tag){case 3:De(n,n.stateNode.containerInfo),_s(n,Te,e.memoizedState.cache),Ar();break;case 27:case 5:nr(n);break;case 4:De(n,n.stateNode.containerInfo);break;case 10:_s(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,rf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(As(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Gp(e,n,s):(As(n),e=zi(e,n,s),e!==null?e.sibling:null);As(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(pa(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return Yp(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(de,de.current),o)break;return null;case 22:return n.lanes=0,zp(e,n,s,n.pendingProps);case 24:_s(n,Te,e.memoizedState.cache)}return zi(e,n,s)}function Kp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Se=!0;else{if(!Vf(e,s)&&(n.flags&128)===0)return Se=!1,y1(e,n,s);Se=(e.flags&131072)!==0}else Se=!1,Vt&&(n.flags&1048576)!==0&&Rg(n,Uo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Rr(n.elementType),n.type=e,typeof e=="function")Ph(e)?(o=Dr(e,o),n.tag=1,n=Hp(null,n,e,o,s)):(n.tag=0,n=If(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===qt){n.tag=11,n=Up(null,n,e,o,s);break t}else if(h===w){n.tag=14,n=Lp(null,n,e,o,s);break t}}throw n=ie(e)||e,Error(a(306,n,""))}}return n;case 0:return If(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Dr(o,n.pendingProps),Hp(e,n,o,h,s);case 3:t:{if(De(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Wh(e,n),Fo(n,o,null,s);var g=n.memoizedState;if(o=g.cache,_s(n,Te,o),o!==f.cache&&Yh(n,[Te],s,!0),Ho(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Fp(e,n,o,s);break t}else if(o!==h){h=In(Error(a(424)),n),Lo(h),n=Fp(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,te=xn(e.firstChild),je=n,Vt=!0,ps=null,Dn=!0,s=zg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ar(),o===h){n=zi(e,n,s);break t}qe(e,n,o,s)}n=n.child}return n;case 26:return Gu(e,n),e===null?(s=r_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Vt||(s=n.type,e=n.pendingProps,o=lc(wt.current).createElement(s),o[_e]=n,o[Ve]=e,He(o,s,e),ve(o),n.stateNode=o):n.memoizedState=r_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return nr(n),e===null&&Vt&&(o=n.stateNode=n_(n.type,n.pendingProps,wt.current),je=n,Dn=!0,h=te,Os(n.type)?(dd=h,te=xn(o.firstChild)):te=h),qe(e,n,n.pendingProps.children,s),Gu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Vt&&((h=o=te)&&(o=Y1(o,n.type,n.pendingProps,Dn),o!==null?(n.stateNode=o,je=n,te=xn(o.firstChild),Dn=!1,h=!0):h=!1),h||ys(n)),nr(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,ld(h,f)?o=null:g!==null&&ld(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=of(e,n,l1,null,null,s),cl._currentValue=h),Gu(e,n),qe(e,n,o,s),n.child;case 6:return e===null&&Vt&&((e=s=te)&&(s=K1(s,n.pendingProps,Dn),s!==null?(n.stateNode=s,je=n,te=null,e=!0):e=!1),e||ys(n)),null;case 13:return Gp(e,n,s);case 4:return De(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Cr(n,null,o,s):qe(e,n,o,s),n.child;case 11:return Up(e,n,n.type,n.pendingProps,s);case 7:return qe(e,n,n.pendingProps,s),n.child;case 8:return qe(e,n,n.pendingProps.children,s),n.child;case 12:return qe(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,_s(n,n.type,o.value),qe(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,br(n),h=Be(h),o=o(h),n.flags|=1,qe(e,n,o,s),n.child;case 14:return Lp(e,n,n.type,n.pendingProps,s);case 15:return Pp(e,n,n.type,n.pendingProps,s);case 19:return Yp(e,n,s);case 31:return p1(e,n,s);case 22:return zp(e,n,s,n.pendingProps);case 24:return br(n),o=Be(Te),e===null?(h=Zh(),h===null&&(h=Jt,f=Kh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},Jh(n),_s(n,Te,h)):((e.lanes&s)!==0&&(Wh(e,n),Fo(n,null,null,s),Ho()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),_s(n,Te,o)):(o=f.cache,_s(n,Te,o),o!==h.cache&&Yh(n,[Te],s,!0))),qe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ji(e){e.flags|=4}function kf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ty())e.flags|=8192;else throw Ir=Du,$h}else e.flags&=-16777217}function Xp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!c_(n))if(Ty())e.flags|=8192;else throw Ir=Du,$h}function Yu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Wl():536870912,e.lanes|=n,Ca|=n)}function Zo(e,n){if(!Vt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ee(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function _1(e,n,s){var o=n.pendingProps;switch(qh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ui(Te),se(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ga(n)?ji(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Fh())),ee(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(ji(n),f!==null?(ee(n),Xp(n,f)):(ee(n),kf(n,h,null,o,s))):f?f!==e.memoizedState?(ji(n),ee(n),Xp(n,f)):(ee(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&ji(n),ee(n),kf(n,h,e,o,s)),null;case 27:if(Yr(n),s=wt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ji(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ee(n),null}e=st.current,ga(n)?Cg(n):(e=n_(h,o,s),n.stateNode=e,ji(n))}return ee(n),null;case 5:if(Yr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ji(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ee(n),null}if(f=st.current,ga(n))Cg(n);else{var g=lc(wt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[_e]=n,f[Ve]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(He(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&ji(n)}}return ee(n),kf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&ji(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=wt.current,ga(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=je,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[_e]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Gy(e.nodeValue,s)),e||ys(n,!0)}else e=lc(e).createTextNode(o),e[_e]=n,n.stateNode=e}return ee(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=ga(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[_e]=n}else Ar(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),e=!1}else s=Fh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(pn(n),n):(pn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ee(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ga(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[_e]=n}else Ar(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),h=!1}else h=Fh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(pn(n),n):(pn(n),null)}return pn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Yu(n,n.updateQueue),ee(n),null);case 4:return se(),e===null&&id(n.stateNode.containerInfo),ee(n),null;case 10:return Ui(n.type),ee(n),null;case 19:if(K(de),o=n.memoizedState,o===null)return ee(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Zo(o,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Vu(e),f!==null){for(n.flags|=128,Zo(o,!1),e=f.updateQueue,n.updateQueue=e,Yu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Sg(s,e),s=s.sibling;return nt(de,de.current&1|2),Vt&&Vi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Je()>Ju&&(n.flags|=128,h=!0,Zo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Vu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Yu(n,e),Zo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Vt)return ee(n),null}else 2*Je()-o.renderingStartTime>Ju&&s!==536870912&&(n.flags|=128,h=!0,Zo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Je(),e.sibling=null,s=de.current,nt(de,h?s&1|2:s&1),Vt&&Vi(n,o.treeForkCount),e):(ee(n),null);case 22:case 23:return pn(n),sf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),s=n.updateQueue,s!==null&&Yu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&K(wr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Ui(Te),ee(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function v1(e,n){switch(qh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ui(Te),se(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Yr(n),null;case 31:if(n.memoizedState!==null){if(pn(n),n.alternate===null)throw Error(a(340));Ar()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(pn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ar()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(de),null;case 4:return se(),null;case 10:return Ui(n.type),null;case 22:case 23:return pn(n),sf(),e!==null&&K(wr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ui(Te),null;case 25:return null;default:return null}}function Zp(e,n){switch(qh(n),n.tag){case 3:Ui(Te),se();break;case 26:case 27:case 5:Yr(n);break;case 4:se();break;case 31:n.memoizedState!==null&&pn(n);break;case 13:pn(n);break;case 19:K(de);break;case 10:Ui(n.type);break;case 22:case 23:pn(n),sf(),e!==null&&K(wr);break;case 24:Ui(Te)}}function $o(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){Yt(n,n.return,E)}}function bs(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var C=s,P=E;try{P()}catch(H){Yt(h,C,H)}}}o=o.next}while(o!==f)}}catch(H){Yt(n,n.return,H)}}function $p(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Bg(n,s)}catch(o){Yt(e,e.return,o)}}}function Jp(e,n,s){s.props=Dr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Yt(e,n,o)}}function Jo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Yt(e,n,h)}}function _i(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Yt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Yt(e,n,h)}else s.current=null}function Wp(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Yt(e,e.return,h)}}function Uf(e,n,s){try{var o=e.stateNode;B1(o,e.type,s,n),o[Ve]=n}catch(h){Yt(e,e.return,h)}}function ty(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Os(e.type)||e.tag===4}function Lf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ty(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Os(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=jn));else if(o!==4&&(o===27&&Os(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Pf(e,n,s),e=e.sibling;e!==null;)Pf(e,n,s),e=e.sibling}function Ku(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Os(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Ku(e,n,s),e=e.sibling;e!==null;)Ku(e,n,s),e=e.sibling}function ey(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);He(n,o,s),n[_e]=e,n[Ve]=s}catch(f){Yt(e,e.return,f)}}var Bi=!1,be=!1,zf=!1,ny=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function E1(e,n){if(e=e.containerInfo,ad=gc,e=mg(e),Oh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,C=-1,P=0,H=0,Y=e,z=null;e:for(;;){for(var q;Y!==s||h!==0&&Y.nodeType!==3||(E=g+h),Y!==f||o!==0&&Y.nodeType!==3||(C=g+o),Y.nodeType===3&&(g+=Y.nodeValue.length),(q=Y.firstChild)!==null;)z=Y,Y=q;for(;;){if(Y===e)break e;if(z===s&&++P===h&&(E=g),z===f&&++H===o&&(C=g),(q=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=q}s=E===-1||C===-1?null:{start:E,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(od={focusedElem:e,selectionRange:s},gc=!1,Ue=n;Ue!==null;)if(n=Ue,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ue=e;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var at=Dr(s.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(mt){Yt(s,s.return,mt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)cd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":cd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ue=e;break}Ue=n.return}}function iy(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Hi(e,s),o&4&&$o(5,s);break;case 1:if(Hi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Yt(s,s.return,g)}else{var h=Dr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Yt(s,s.return,g)}}o&64&&$p(s),o&512&&Jo(s,s.return);break;case 3:if(Hi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Bg(e,n)}catch(g){Yt(s,s.return,g)}}break;case 27:n===null&&o&4&&ey(s);case 26:case 5:Hi(e,s),n===null&&o&4&&Wp(s),o&512&&Jo(s,s.return);break;case 12:Hi(e,s);break;case 31:Hi(e,s),o&4&&ay(e,s);break;case 13:Hi(e,s),o&4&&oy(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=N1.bind(null,s),X1(e,s))));break;case 22:if(o=s.memoizedState!==null||Bi,!o){n=n!==null&&n.memoizedState!==null||be,h=Bi;var f=be;Bi=o,(be=n)&&!f?Fi(e,s,(s.subtreeFlags&8772)!==0):Hi(e,s),Bi=h,be=f}break;case 30:break;default:Hi(e,s)}}function sy(e){var n=e.alternate;n!==null&&(e.alternate=null,sy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Jr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,sn=!1;function qi(e,n,s){for(s=s.child;s!==null;)ry(e,n,s),s=s.sibling}function ry(e,n,s){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(Un,s)}catch{}switch(s.tag){case 26:be||_i(s,n),qi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:be||_i(s,n);var o=ae,h=sn;Os(s.type)&&(ae=s.stateNode,sn=!1),qi(e,n,s),ol(s.stateNode),ae=o,sn=h;break;case 5:be||_i(s,n);case 6:if(o=ae,h=sn,ae=null,qi(e,n,s),ae=o,sn=h,ae!==null)if(sn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(s.stateNode)}catch(f){Yt(s,n,f)}else try{ae.removeChild(s.stateNode)}catch(f){Yt(s,n,f)}break;case 18:ae!==null&&(sn?(e=ae,$y(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ua(e)):$y(ae,s.stateNode));break;case 4:o=ae,h=sn,ae=s.stateNode.containerInfo,sn=!0,qi(e,n,s),ae=o,sn=h;break;case 0:case 11:case 14:case 15:bs(2,s,n),be||bs(4,s,n),qi(e,n,s);break;case 1:be||(_i(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Jp(s,n,o)),qi(e,n,s);break;case 21:qi(e,n,s);break;case 22:be=(o=be)||s.memoizedState!==null,qi(e,n,s),be=o;break;default:qi(e,n,s)}}function ay(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ua(e)}catch(s){Yt(n,n.return,s)}}}function oy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ua(e)}catch(s){Yt(n,n.return,s)}}function T1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ny),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ny),n;default:throw Error(a(435,e.tag))}}function Xu(e,n){var s=T1(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=D1.bind(null,e,o);o.then(h,h)}})}function rn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Os(E.type)){ae=E.stateNode,sn=!1;break t}break;case 5:ae=E.stateNode,sn=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,sn=!0;break t}E=E.return}if(ae===null)throw Error(a(160));ry(f,g,h),ae=null,sn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ly(n,e),n=n.sibling}var Qn=null;function ly(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:rn(n,e),an(e),o&4&&(bs(3,e,e.return),$o(3,e),bs(5,e,e.return));break;case 1:rn(n,e),an(e),o&512&&(be||s===null||_i(s,s.return)),o&64&&Bi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Qn;if(rn(n,e),an(e),o&512&&(be||s===null||_i(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[si]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),He(f,o,s),f[_e]=e,ve(f),o=f;break t;case"link":var g=l_("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),He(f,o,s),h.head.appendChild(f);break;case"meta":if(g=l_("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(o),He(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[_e]=e,ve(f),o=f}e.stateNode=o}else u_(h,e.type,e.stateNode);else e.stateNode=o_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?u_(h,e.type,e.stateNode):o_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Uf(e,e.memoizedProps,s.memoizedProps)}break;case 27:rn(n,e),an(e),o&512&&(be||s===null||_i(s,s.return)),s!==null&&o&4&&Uf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(rn(n,e),an(e),o&512&&(be||s===null||_i(s,s.return)),e.flags&32){h=e.stateNode;try{nn(h,"")}catch(at){Yt(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Uf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(zf=!0);break;case 6:if(rn(n,e),an(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(at){Yt(e,e.return,at)}}break;case 3:if(hc=null,h=Qn,Qn=uc(n.containerInfo),rn(n,e),Qn=h,an(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Ua(n.containerInfo)}catch(at){Yt(e,e.return,at)}zf&&(zf=!1,uy(e));break;case 4:o=Qn,Qn=uc(e.stateNode.containerInfo),rn(n,e),an(e),Qn=o;break;case 12:rn(n,e),an(e);break;case 31:rn(n,e),an(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Xu(e,o)));break;case 13:rn(n,e),an(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&($u=Je()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Xu(e,o)));break;case 22:h=e.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,P=Bi,H=be;if(Bi=P||h,be=H||C,rn(n,e),be=H,Bi=P,an(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||Bi||be||Or(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var Y=C.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(at){Yt(C,C.return,at)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(at){Yt(C,C.return,at)}}}else if(n.tag===18){if(s===null){C=n;try{var q=C.stateNode;h?Jy(q,!0):Jy(C.stateNode,!1)}catch(at){Yt(C,C.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Xu(e,s))));break;case 19:rn(n,e),an(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Xu(e,o)));break;case 30:break;case 21:break;default:rn(n,e),an(e)}}function an(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(ty(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Lf(e);Ku(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(nn(g,""),s.flags&=-33);var E=Lf(e);Ku(e,E,g);break;case 3:case 4:var C=s.stateNode.containerInfo,P=Lf(e);Pf(e,P,C);break;default:throw Error(a(161))}}catch(H){Yt(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function uy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;uy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Hi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)iy(e,n.alternate,n),n=n.sibling}function Or(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:bs(4,n,n.return),Or(n);break;case 1:_i(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Jp(n,n.return,s),Or(n);break;case 27:ol(n.stateNode);case 26:case 5:_i(n,n.return),Or(n);break;case 22:n.memoizedState===null&&Or(n);break;case 30:Or(n);break;default:Or(n)}e=e.sibling}}function Fi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Fi(h,f,s),$o(4,f);break;case 1:if(Fi(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Yt(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)jg(C[h],E)}catch(P){Yt(o,o.return,P)}}s&&g&64&&$p(f),Jo(f,f.return);break;case 27:ey(f);case 26:case 5:Fi(h,f,s),s&&o===null&&g&4&&Wp(f),Jo(f,f.return);break;case 12:Fi(h,f,s);break;case 31:Fi(h,f,s),s&&g&4&&ay(h,f);break;case 13:Fi(h,f,s),s&&g&4&&oy(h,f);break;case 22:f.memoizedState===null&&Fi(h,f,s),Jo(f,f.return);break;case 30:break;default:Fi(h,f,s)}n=n.sibling}}function jf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Po(s))}function Bf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Po(e))}function Yn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)cy(e,n,s,o),n=n.sibling}function cy(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Yn(e,n,s,o),h&2048&&$o(9,n);break;case 1:Yn(e,n,s,o);break;case 3:Yn(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Po(e)));break;case 12:if(h&2048){Yn(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Yt(n,n.return,C)}}else Yn(e,n,s,o);break;case 31:Yn(e,n,s,o);break;case 13:Yn(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Yn(e,n,s,o):Wo(e,n):f._visibility&2?Yn(e,n,s,o):(f._visibility|=2,wa(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&jf(g,n);break;case 24:Yn(e,n,s,o),h&2048&&Bf(n.alternate,n);break;default:Yn(e,n,s,o)}}function wa(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,C=o,P=g.flags;switch(g.tag){case 0:case 11:case 15:wa(f,g,E,C,h),$o(8,g);break;case 23:break;case 22:var H=g.stateNode;g.memoizedState!==null?H._visibility&2?wa(f,g,E,C,h):Wo(f,g):(H._visibility|=2,wa(f,g,E,C,h)),h&&P&2048&&jf(g.alternate,g);break;case 24:wa(f,g,E,C,h),h&&P&2048&&Bf(g.alternate,g);break;default:wa(f,g,E,C,h)}n=n.sibling}}function Wo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:Wo(s,o),h&2048&&jf(o.alternate,o);break;case 24:Wo(s,o),h&2048&&Bf(o.alternate,o);break;default:Wo(s,o)}n=n.sibling}}var tl=8192;function Ra(e,n,s){if(e.subtreeFlags&tl)for(e=e.child;e!==null;)hy(e,n,s),e=e.sibling}function hy(e,n,s){switch(e.tag){case 26:Ra(e,n,s),e.flags&tl&&e.memoizedState!==null&&oA(s,Qn,e.memoizedState,e.memoizedProps);break;case 5:Ra(e,n,s);break;case 3:case 4:var o=Qn;Qn=uc(e.stateNode.containerInfo),Ra(e,n,s),Qn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=tl,tl=16777216,Ra(e,n,s),tl=o):Ra(e,n,s));break;default:Ra(e,n,s)}}function fy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function el(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ue=o,my(o,e)}fy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)dy(e),e=e.sibling}function dy(e){switch(e.tag){case 0:case 11:case 15:el(e),e.flags&2048&&bs(9,e,e.return);break;case 3:el(e);break;case 12:el(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Zu(e)):el(e);break;default:el(e)}}function Zu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ue=o,my(o,e)}fy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:bs(8,n,n.return),Zu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Zu(n));break;default:Zu(n)}e=e.sibling}}function my(e,n){for(;Ue!==null;){var s=Ue;switch(s.tag){case 0:case 11:case 15:bs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Po(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Ue=o;else t:for(s=e;Ue!==null;){o=Ue;var h=o.sibling,f=o.return;if(sy(o),o===s){Ue=null;break t}if(h!==null){h.return=f,Ue=h;break t}Ue=f}}}var A1={getCacheForType:function(e){var n=Be(Te),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Be(Te).controller.signal}},S1=typeof WeakMap=="function"?WeakMap:Map,Bt=0,Jt=null,It=null,Nt=0,Qt=0,yn=null,ws=!1,Ia=!1,qf=!1,Gi=0,ce=0,Rs=0,xr=0,Hf=0,_n=0,Ca=0,nl=null,on=null,Ff=!1,$u=0,gy=0,Ju=1/0,Wu=null,Is=null,xe=0,Cs=null,Na=null,Qi=0,Gf=0,Qf=null,py=null,il=0,Yf=null;function vn(){return(Bt&2)!==0&&Nt!==0?Nt&-Nt:F.T!==null?Wf():tu()}function yy(){if(_n===0)if((Nt&536870912)===0||Vt){var e=rr;rr<<=1,(rr&3932160)===0&&(rr=262144),_n=e}else _n=536870912;return e=gn.current,e!==null&&(e.flags|=32),_n}function ln(e,n,s){(e===Jt&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(Da(e,0),Ns(e,Nt,_n,!1)),ar(e,s),((Bt&2)===0||e!==Jt)&&(e===Jt&&((Bt&2)===0&&(xr|=s),ce===4&&Ns(e,Nt,_n,!1)),vi(e))}function _y(e,n,s){if((Bt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Ln(e,n),h=o?R1(e,n):Xf(e,n,!0),f=o;do{if(h===0){Ia&&!o&&Ns(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!b1(s)){h=Xf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=nl;var C=E.current.memoizedState.isDehydrated;if(C&&(Da(E,g).flags|=256),g=Xf(E,g,!1),g!==2){if(qf&&!C){E.errorRecoveryDisabledLanes|=f,xr|=f,h=4;break t}f=on,on=h,f!==null&&(on===null?on=f:on.push.apply(on,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Da(e,0),Ns(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ns(o,n,_n,!ws);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=$u+300-Je(),10<h)){if(Ns(o,n,_n,!ws),ei(o,0,!0)!==0)break t;Qi=n,o.timeoutHandle=Xy(vy.bind(null,o,s,on,Wu,Ff,n,_n,xr,Ca,ws,f,"Throttled",-0,0),h);break t}vy(o,s,on,Wu,Ff,n,_n,xr,Ca,ws,f,null,-0,0)}}break}while(!0);vi(e)}function vy(e,n,s,o,h,f,g,E,C,P,H,Y,z,q){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jn},hy(n,f,Y);var at=(f&62914560)===f?$u-Je():(f&4194048)===f?gy-Je():0;if(at=lA(Y,at),at!==null){Qi=f,e.cancelPendingCommit=at(Iy.bind(null,e,n,f,s,o,h,g,E,C,H,Y,null,z,q)),Ns(e,f,g,!P);return}}Iy(e,n,f,s,o,h,g,E,C)}function b1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!dn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ns(e,n,s,o){n&=~Hf,n&=~xr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-he(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&or(e,s,n)}function tc(){return(Bt&6)===0?(sl(0),!1):!0}function Kf(){if(It!==null){if(Qt===0)var e=It.return;else e=It,ki=Sr=null,cf(e),Ea=null,jo=0,e=It;for(;e!==null;)Zp(e.alternate,e),e=e.return;It=null}}function Da(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,F1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Qi=0,Kf(),Jt=e,It=s=Mi(e.current,null),Nt=n,Qt=0,yn=null,ws=!1,Ia=Ln(e,n),qf=!1,Ca=_n=Hf=xr=Rs=ce=0,on=nl=null,Ff=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-he(o),f=1<<h;n|=e[h],o&=~f}return Gi=n,Tu(),s}function Ey(e,n){bt=null,F.H=Ko,n===va||n===Nu?(n=Ug(),Qt=3):n===$h?(n=Ug(),Qt=4):Qt=n===Rf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,yn=n,It===null&&(ce=1,Hu(e,In(n,e.current)))}function Ty(){var e=gn.current;return e===null?!0:(Nt&4194048)===Nt?On===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?e===On:!1}function Ay(){var e=F.H;return F.H=Ko,e===null?Ko:e}function Sy(){var e=F.A;return F.A=A1,e}function ec(){ce=4,ws||(Nt&4194048)!==Nt&&gn.current!==null||(Ia=!0),(Rs&134217727)===0&&(xr&134217727)===0||Jt===null||Ns(Jt,Nt,_n,!1)}function Xf(e,n,s){var o=Bt;Bt|=2;var h=Ay(),f=Sy();(Jt!==e||Nt!==n)&&(Wu=null,Da(e,n)),n=!1;var g=ce;t:do try{if(Qt!==0&&It!==null){var E=It,C=yn;switch(Qt){case 8:Kf(),g=6;break t;case 3:case 2:case 9:case 6:gn.current===null&&(n=!0);var P=Qt;if(Qt=0,yn=null,Oa(e,E,C,P),s&&Ia){g=0;break t}break;default:P=Qt,Qt=0,yn=null,Oa(e,E,C,P)}}w1(),g=ce;break}catch(H){Ey(e,H)}while(!0);return n&&e.shellSuspendCounter++,ki=Sr=null,Bt=o,F.H=h,F.A=f,It===null&&(Jt=null,Nt=0,Tu()),g}function w1(){for(;It!==null;)by(It)}function R1(e,n){var s=Bt;Bt|=2;var o=Ay(),h=Sy();Jt!==e||Nt!==n?(Wu=null,Ju=Je()+500,Da(e,n)):Ia=Ln(e,n);t:do try{if(Qt!==0&&It!==null){n=It;var f=yn;e:switch(Qt){case 1:Qt=0,yn=null,Oa(e,n,f,1);break;case 2:case 9:if(Vg(f)){Qt=0,yn=null,wy(n);break}n=function(){Qt!==2&&Qt!==9||Jt!==e||(Qt=7),vi(e)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Vg(f)?(Qt=0,yn=null,wy(n)):(Qt=0,yn=null,Oa(e,n,f,7));break;case 5:var g=null;switch(It.tag){case 26:g=It.memoizedState;case 5:case 27:var E=It;if(g?c_(g):E.stateNode.complete){Qt=0,yn=null;var C=E.sibling;if(C!==null)It=C;else{var P=E.return;P!==null?(It=P,nc(P)):It=null}break e}}Qt=0,yn=null,Oa(e,n,f,5);break;case 6:Qt=0,yn=null,Oa(e,n,f,6);break;case 8:Kf(),ce=6;break t;default:throw Error(a(462))}}I1();break}catch(H){Ey(e,H)}while(!0);return ki=Sr=null,F.H=o,F.A=h,Bt=s,It!==null?0:(Jt=null,Nt=0,Tu(),ce)}function I1(){for(;It!==null&&!bh();)by(It)}function by(e){var n=Kp(e.alternate,e,Gi);e.memoizedProps=e.pendingProps,n===null?nc(e):It=n}function wy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=qp(s,n,n.pendingProps,n.type,void 0,Nt);break;case 11:n=qp(s,n,n.pendingProps,n.type.render,n.ref,Nt);break;case 5:cf(n);default:Zp(s,n),n=It=Sg(n,Gi),n=Kp(s,n,Gi)}e.memoizedProps=e.pendingProps,n===null?nc(e):It=n}function Oa(e,n,s,o){ki=Sr=null,cf(n),Ea=null,jo=0;var h=n.return;try{if(g1(e,h,n,s,Nt)){ce=1,Hu(e,In(s,e.current)),It=null;return}}catch(f){if(h!==null)throw It=h,f;ce=1,Hu(e,In(s,e.current)),It=null;return}n.flags&32768?(Vt||o===1?e=!0:Ia||(Nt&536870912)!==0?e=!1:(ws=e=!0,(o===2||o===9||o===3||o===6)&&(o=gn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ry(n,e)):nc(n)}function nc(e){var n=e;do{if((n.flags&32768)!==0){Ry(n,ws);return}e=n.return;var s=_1(n.alternate,n,Gi);if(s!==null){It=s;return}if(n=n.sibling,n!==null){It=n;return}It=n=e}while(n!==null);ce===0&&(ce=5)}function Ry(e,n){do{var s=v1(e.alternate,e);if(s!==null){s.flags&=32767,It=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){It=e;return}It=e=s}while(e!==null);ce=6,It=null}function Iy(e,n,s,o,h,f,g,E,C){e.cancelPendingCommit=null;do ic();while(xe!==0);if((Bt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Uh,Ih(e,s,f,g,E,C),e===Jt&&(It=Jt=null,Nt=0),Na=n,Cs=e,Qi=s,Gf=f,Qf=h,py=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,O1(rs,function(){return xy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=et.p,et.p=2,g=Bt,Bt|=4;try{E1(e,n,s)}finally{Bt=g,et.p=h,F.T=o}}xe=1,Cy(),Ny(),Dy()}}function Cy(){if(xe===1){xe=0;var e=Cs,n=Na,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=F.T,F.T=null;var o=et.p;et.p=2;var h=Bt;Bt|=4;try{ly(n,e);var f=od,g=mg(e.containerInfo),E=f.focusedElem,C=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&dg(E.ownerDocument.documentElement,E)){if(C!==null&&Oh(E)){var P=C.start,H=C.end;if(H===void 0&&(H=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(H,E.value.length);else{var Y=E.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var q=z.getSelection(),at=E.textContent.length,mt=Math.min(C.start,at),$t=C.end===void 0?mt:Math.min(C.end,at);!q.extend&&mt>$t&&(g=$t,$t=mt,mt=g);var M=fg(E,mt),D=fg(E,$t);if(M&&D&&(q.rangeCount!==1||q.anchorNode!==M.node||q.anchorOffset!==M.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var L=Y.createRange();L.setStart(M.node,M.offset),q.removeAllRanges(),mt>$t?(q.addRange(L),q.extend(D.node,D.offset)):(L.setEnd(D.node,D.offset),q.addRange(L))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}gc=!!ad,od=ad=null}finally{Bt=h,et.p=o,F.T=s}}e.current=n,xe=2}}function Ny(){if(xe===2){xe=0;var e=Cs,n=Na,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=F.T,F.T=null;var o=et.p;et.p=2;var h=Bt;Bt|=4;try{iy(e,n.alternate,n)}finally{Bt=h,et.p=o,F.T=s}}xe=3}}function Dy(){if(xe===4||xe===3){xe=0,Yl();var e=Cs,n=Na,s=Qi,o=py;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?xe=5:(xe=0,Na=Cs=null,Oy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Is=null),Ni(s),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(Un,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=et.p,et.p=2,F.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{F.T=n,et.p=h}}(Qi&3)!==0&&ic(),vi(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Yf?il++:(il=0,Yf=e):il=0,sl(0)}}function Oy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Po(n)))}function ic(){return Cy(),Ny(),Dy(),xy()}function xy(){if(xe!==5)return!1;var e=Cs,n=Gf;Gf=0;var s=Ni(Qi),o=F.T,h=et.p;try{et.p=32>s?32:s,F.T=null,s=Qf,Qf=null;var f=Cs,g=Qi;if(xe=0,Na=Cs=null,Qi=0,(Bt&6)!==0)throw Error(a(331));var E=Bt;if(Bt|=4,dy(f.current),cy(f,f.current,g,s),Bt=E,sl(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(Un,f)}catch{}return!0}finally{et.p=h,F.T=o,Oy(e,n)}}function My(e,n,s){n=In(s,n),n=wf(e.stateNode,n,2),e=Ts(e,n,2),e!==null&&(ar(e,2),vi(e))}function Yt(e,n,s){if(e.tag===3)My(e,e,s);else for(;n!==null;){if(n.tag===3){My(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Is===null||!Is.has(o))){e=In(s,e),s=Vp(2),o=Ts(n,s,2),o!==null&&(kp(s,o,n,e),ar(o,2),vi(o));break}}n=n.return}}function Zf(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new S1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(qf=!0,h.add(s),e=C1.bind(null,e,n,s),n.then(e,e))}function C1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Jt===e&&(Nt&s)===s&&(ce===4||ce===3&&(Nt&62914560)===Nt&&300>Je()-$u?(Bt&2)===0&&Da(e,0):Hf|=s,Ca===Nt&&(Ca=0)),vi(e)}function Vy(e,n){n===0&&(n=Wl()),e=Er(e,n),e!==null&&(ar(e,n),vi(e))}function N1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Vy(e,s)}function D1(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Vy(e,s)}function O1(e,n){return Oe(e,n)}var sc=null,xa=null,$f=!1,rc=!1,Jf=!1,Ds=0;function vi(e){e!==xa&&e.next===null&&(xa===null?sc=xa=e:xa=xa.next=e),rc=!0,$f||($f=!0,M1())}function sl(e,n){if(!Jf&&rc){Jf=!0;do for(var s=!1,o=sc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-he(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Py(o,f))}else f=Nt,f=ei(o,o===Jt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Ln(o,f)||(s=!0,Py(o,f));o=o.next}while(s);Jf=!1}}function x1(){ky()}function ky(){rc=$f=!1;var e=0;Ds!==0&&H1()&&(e=Ds);for(var n=Je(),s=null,o=sc;o!==null;){var h=o.next,f=Uy(o,n);f===0?(o.next=null,s===null?sc=h:s.next=h,h===null&&(xa=s)):(s=o,(e!==0||(f&3)!==0)&&(rc=!0)),o=h}xe!==0&&xe!==5||sl(e),Ds!==0&&(Ds=0)}function Uy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-he(f),E=1<<g,C=h[g];C===-1?((E&s)===0||(E&o)!==0)&&(h[g]=Rh(E,n)):C<=n&&(e.expiredLanes|=E),f&=~E}if(n=Jt,s=Nt,s=ei(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ss(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Ln(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&ss(o),Ni(s)){case 2:case 8:s=mo;break;case 32:s=rs;break;case 268435456:s=Kl;break;default:s=rs}return o=Ly.bind(null,e),s=Oe(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&ss(o),e.callbackPriority=2,e.callbackNode=null,2}function Ly(e,n){if(xe!==0&&xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(ic()&&e.callbackNode!==s)return null;var o=Nt;return o=ei(e,e===Jt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(_y(e,o,n),Uy(e,Je()),e.callbackNode!=null&&e.callbackNode===s?Ly.bind(null,e):null)}function Py(e,n){if(ic())return null;_y(e,n,!0)}function M1(){G1(function(){(Bt&6)!==0?Oe(fo,x1):ky()})}function Wf(){if(Ds===0){var e=ya;e===0&&(e=Wn,Wn<<=1,(Wn&261888)===0&&(Wn=256)),Ds=e}return Ds}function zy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:na(""+e)}function jy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function V1(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=zy((h[Ve]||null).action),g=o.submitter;g&&(n=(n=g[Ve]||null)?zy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new fi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ds!==0){var C=g?jy(h,g):new FormData(h);vf(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=g?jy(h,g):new FormData(h),vf(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var td=0;td<kh.length;td++){var ed=kh[td],k1=ed.toLowerCase(),U1=ed[0].toUpperCase()+ed.slice(1);Gn(k1,"on"+U1)}Gn(yg,"onAnimationEnd"),Gn(_g,"onAnimationIteration"),Gn(vg,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(JT,"onTransitionRun"),Gn(WT,"onTransitionStart"),Gn(t1,"onTransitionCancel"),Gn(Eg,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),L1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rl));function By(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],C=E.instance,P=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(H){Eu(H)}h.currentTarget=null,f=C}else for(g=0;g<o.length;g++){if(E=o[g],C=E.instance,P=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(H){Eu(H)}h.currentTarget=null,f=C}}}}function Ct(e,n){var s=n[$r];s===void 0&&(s=n[$r]=new Set);var o=e+"__bubble";s.has(o)||(qy(n,e,2,!1),s.add(o))}function nd(e,n,s){var o=0;n&&(o|=4),qy(s,e,o,n)}var ac="_reactListening"+Math.random().toString(36).slice(2);function id(e){if(!e[ac]){e[ac]=!0,yo.forEach(function(s){s!=="selectionchange"&&(L1.has(s)||nd(s,!1,e),nd(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ac]||(n[ac]=!0,nd("selectionchange",!1,n))}}function qy(e,n,s,o){switch(y_(n)){case 2:var h=hA;break;case 8:h=fA;break;default:h=_d}s=h.bind(null,n,s,e),h=void 0,!fr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function sd(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=ri(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=f=g;continue t}E=E.parentNode}}o=o.return}hs(function(){var P=f,H=Sn(s),Y=[];t:{var z=Tg.get(e);if(z!==void 0){var q=fi,at=e;switch(e){case"keypress":if(mr(s)===0)break t;case"keydown":case"keyup":q=yu;break;case"focusin":at="focus",q=pr;break;case"focusout":at="blur",q=pr;break;case"beforeblur":case"afterblur":q=pr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Do;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=lu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case yg:case _g:case vg:q=cu;break;case Eg:q=T;break;case"scroll":case"scrollend":q=No;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=hu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=xi;break;case"toggle":case"beforetoggle":q=St}var mt=(n&4)!==0,$t=!mt&&(e==="scroll"||e==="scrollend"),M=mt?z!==null?z+"Capture":null:z;mt=[];for(var D=P,L;D!==null;){var Q=D;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||M===null||(Q=Bn(D,M),Q!=null&&mt.push(al(D,Q,L))),$t)break;D=D.return}0<mt.length&&(z=new q(z,at,null,s,H),Y.push({event:z,listeners:mt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&s!==Ro&&(at=s.relatedTarget||s.fromElement)&&(ri(at)||at[ii]))break t;if((q||z)&&(z=H.window===H?H:(z=H.ownerDocument)?z.defaultView||z.parentWindow:window,q?(at=s.relatedTarget||s.toElement,q=P,at=at?ri(at):null,at!==null&&($t=c(at),mt=at.tag,at!==$t||mt!==5&&mt!==27&&mt!==6)&&(at=null)):(q=null,at=P),q!==at)){if(mt=Do,Q="onMouseLeave",M="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(mt=xi,Q="onPointerLeave",M="onPointerEnter",D="pointer"),$t=q==null?z:hn(q),L=at==null?z:hn(at),z=new mt(Q,D+"leave",q,s,H),z.target=$t,z.relatedTarget=L,Q=null,ri(H)===P&&(mt=new mt(M,D+"enter",at,s,H),mt.target=L,mt.relatedTarget=$t,Q=mt),$t=Q,q&&at)e:{for(mt=P1,M=q,D=at,L=0,Q=M;Q;Q=mt(Q))L++;Q=0;for(var ct=D;ct;ct=mt(ct))Q++;for(;0<L-Q;)M=mt(M),L--;for(;0<Q-L;)D=mt(D),Q--;for(;L--;){if(M===D||D!==null&&M===D.alternate){mt=M;break e}M=mt(M),D=mt(D)}mt=null}else mt=null;q!==null&&Hy(Y,z,q,mt,!1),at!==null&&$t!==null&&Hy(Y,$t,at,mt,!0)}}t:{if(z=P?hn(P):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var Pt=ag;else if(sg(z))if(og)Pt=XT;else{Pt=YT;var lt=QT}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&ea(P.elementType)&&(Pt=ag):Pt=KT;if(Pt&&(Pt=Pt(e,P))){rg(Y,Pt,s,H);break t}lt&&lt(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&So(z,"number",z.value)}switch(lt=P?hn(P):window,e){case"focusin":(sg(lt)||lt.contentEditable==="true")&&(ua=lt,xh=P,ko=null);break;case"focusout":ko=xh=ua=null;break;case"mousedown":Mh=!0;break;case"contextmenu":case"mouseup":case"dragend":Mh=!1,gg(Y,s,H);break;case"selectionchange":if($T)break;case"keydown":case"keyup":gg(Y,s,H)}var Rt;if(jt)t:{switch(e){case"compositionstart":var Dt="onCompositionStart";break t;case"compositionend":Dt="onCompositionEnd";break t;case"compositionupdate":Dt="onCompositionUpdate";break t}Dt=void 0}else la?yr(e,s)&&(Dt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Dt="onCompositionStart");Dt&&(gi&&s.locale!=="ko"&&(la||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&la&&(Rt=Co()):(hi=H,Io="value"in hi?hi.value:hi.textContent,la=!0)),lt=oc(P,Dt),0<lt.length&&(Dt=new mi(Dt,e,null,s,H),Y.push({event:Dt,listeners:lt}),Rt?Dt.data=Rt:(Rt=oa(s),Rt!==null&&(Dt.data=Rt)))),(Rt=wn?qT(e,s):HT(e,s))&&(Dt=oc(P,"onBeforeInput"),0<Dt.length&&(lt=new mi("onBeforeInput","beforeinput",null,s,H),Y.push({event:lt,listeners:Dt}),lt.data=Rt)),V1(Y,e,P,s,H)}By(Y,n)})}function al(e,n,s){return{instance:e,listener:n,currentTarget:s}}function oc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Bn(e,s),h!=null&&o.unshift(al(e,h,f)),h=Bn(e,n),h!=null&&o.push(al(e,h,f))),e.tag===3)return o;e=e.return}return[]}function P1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Hy(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,C=E.alternate,P=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||P===null||(C=P,h?(P=Bn(s,f),P!=null&&g.unshift(al(s,P,C))):h||(P=Bn(s,f),P!=null&&g.push(al(s,P,C)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var z1=/\r\n?/g,j1=/\u0000|\uFFFD/g;function Fy(e){return(typeof e=="string"?e:""+e).replace(z1,`
`).replace(j1,"")}function Gy(e,n){return n=Fy(n),Fy(e)===n}function Zt(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||nn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&nn(e,""+o);break;case"className":fn(e,"class",o);break;case"tabIndex":fn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":fn(e,s,o);break;case"style":wo(e,o,f);break;case"data":if(n!=="object"){fn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=na(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Zt(e,n,"name",h.name,h,null),Zt(e,n,"formEncType",h.formEncType,h,null),Zt(e,n,"formMethod",h.formMethod,h,null),Zt(e,n,"formTarget",h.formTarget,h,null)):(Zt(e,n,"encType",h.encType,h,null),Zt(e,n,"method",h.method,h,null),Zt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=na(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=jn);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=na(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),Wr(e,"popover",o);break;case"xlinkActuate":Ee(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ee(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ee(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ee(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ee(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ee(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Wr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=ou.get(s)||s,Wr(e,s,o))}}function rd(e,n,s,o,h,f){switch(s){case"style":wo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?nn(e,o):(typeof o=="number"||typeof o=="bigint")&&nn(e,""+o);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"onClick":o!=null&&(e.onclick=jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_o.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Ve]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):Wr(e,s,o)}}}function He(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Zt(e,n,f,g,s,null)}}h&&Zt(e,n,"srcSet",s.srcSet,s,null),o&&Zt(e,n,"src",s.src,s,null);return;case"input":Ct("invalid",e);var E=f=g=h=null,C=null,P=null;for(o in s)if(s.hasOwnProperty(o)){var H=s[o];if(H!=null)switch(o){case"name":h=H;break;case"type":g=H;break;case"checked":C=H;break;case"defaultChecked":P=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:Zt(e,n,o,H,s,null)}}su(e,f,E,C,P,g,h,!1);return;case"select":Ct("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Zt(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!o,n!=null?os(e,!!o,n,!1):s!=null&&os(e,!!o,s,!0);return;case"textarea":Ct("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Zt(e,n,g,E,s,null)}ls(e,o,h,f);return;case"option":for(C in s)s.hasOwnProperty(C)&&(o=s[C],o!=null)&&(C==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Zt(e,n,C,o,s,null));return;case"dialog":Ct("beforetoggle",e),Ct("toggle",e),Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(o=0;o<rl.length;o++)Ct(rl[o],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(o=s[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Zt(e,n,P,o,s,null)}return;default:if(ea(n)){for(H in s)s.hasOwnProperty(H)&&(o=s[H],o!==void 0&&rd(e,n,H,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&Zt(e,n,E,o,s,null))}function B1(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,C=null,P=null,H=null;for(q in s){var Y=s[q];if(s.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=Y;default:o.hasOwnProperty(q)||Zt(e,n,q,null,o,Y)}}for(var z in o){var q=o[z];if(Y=s[z],o.hasOwnProperty(z)&&(q!=null||Y!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":P=q;break;case"defaultChecked":H=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Y&&Zt(e,n,z,q,o,Y)}}ta(e,g,E,C,P,H,f,h);return;case"select":q=g=E=z=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":q=C;default:o.hasOwnProperty(f)||Zt(e,n,f,null,o,C)}for(h in o)if(f=o[h],C=s[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==C&&Zt(e,n,h,f,o,C)}n=E,s=g,o=q,z!=null?os(e,!!s,z,!1):!!o!=!!s&&(n!=null?os(e,!!s,n,!0):os(e,!!s,s?[]:"",!1));return;case"textarea":q=z=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Zt(e,n,g,h,o,f)}ru(e,z,q);return;case"option":for(var at in s)z=s[at],s.hasOwnProperty(at)&&z!=null&&!o.hasOwnProperty(at)&&(at==="selected"?e.selected=!1:Zt(e,n,at,null,o,z));for(C in o)z=o[C],q=s[C],o.hasOwnProperty(C)&&z!==q&&(z!=null||q!=null)&&(C==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":Zt(e,n,C,z,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in s)z=s[mt],s.hasOwnProperty(mt)&&z!=null&&!o.hasOwnProperty(mt)&&Zt(e,n,mt,null,o,z);for(P in o)if(z=o[P],q=s[P],o.hasOwnProperty(P)&&z!==q&&(z!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:Zt(e,n,P,z,o,q)}return;default:if(ea(n)){for(var $t in s)z=s[$t],s.hasOwnProperty($t)&&z!==void 0&&!o.hasOwnProperty($t)&&rd(e,n,$t,void 0,o,z);for(H in o)z=o[H],q=s[H],!o.hasOwnProperty(H)||z===q||z===void 0&&q===void 0||rd(e,n,H,z,o,q);return}}for(var M in s)z=s[M],s.hasOwnProperty(M)&&z!=null&&!o.hasOwnProperty(M)&&Zt(e,n,M,null,o,z);for(Y in o)z=o[Y],q=s[Y],!o.hasOwnProperty(Y)||z===q||z==null&&q==null||Zt(e,n,Y,z,o,q)}function Qy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function q1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&Qy(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var C=s[o],P=C.startTime;if(P>E)break;var H=C.transferSize,Y=C.initiatorType;H&&Qy(Y)&&(C=C.responseEnd,g+=H*(C<E?1:(E-P)/(C-P)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ad=null,od=null;function lc(e){return e.nodeType===9?e:e.ownerDocument}function Yy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ky(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function ld(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ud=null;function H1(){var e=window.event;return e&&e.type==="popstate"?e===ud?!1:(ud=e,!0):(ud=null,!1)}var Xy=typeof setTimeout=="function"?setTimeout:void 0,F1=typeof clearTimeout=="function"?clearTimeout:void 0,Zy=typeof Promise=="function"?Promise:void 0,G1=typeof queueMicrotask=="function"?queueMicrotask:typeof Zy<"u"?function(e){return Zy.resolve(null).then(e).catch(Q1)}:Xy;function Q1(e){setTimeout(function(){throw e})}function Os(e){return e==="head"}function $y(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),Ua(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")ol(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,ol(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[si]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&ol(e.ownerDocument.body);s=h}while(s);Ua(n)}function Jy(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function cd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":cd(s),Jr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function Y1(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[si])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=xn(e.nextSibling),e===null)break}return null}function K1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=xn(e.nextSibling),e===null))return null;return e}function Wy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=xn(e.nextSibling),e===null))return null;return e}function hd(e){return e.data==="$?"||e.data==="$~"}function fd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function X1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function xn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var dd=null;function t_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return xn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function e_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function n_(e,n,s){switch(n=lc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ol(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Jr(e)}var Mn=new Map,i_=new Set;function uc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Yi=et.d;et.d={f:Z1,r:$1,D:J1,C:W1,L:tA,m:eA,X:iA,S:nA,M:sA};function Z1(){var e=Yi.f(),n=tc();return e||n}function $1(e){var n=An(e);n!==null&&n.tag===5&&n.type==="form"?Ep(n):Yi.r(e)}var Ma=typeof document>"u"?null:document;function s_(e,n,s){var o=Ma;if(o&&typeof n=="string"&&n){var h=en(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),i_.has(h)||(i_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),He(n,"link",e),ve(n),o.head.appendChild(n)))}}function J1(e){Yi.D(e),s_("dns-prefetch",e,null)}function W1(e,n){Yi.C(e,n),s_("preconnect",e,n)}function tA(e,n,s){Yi.L(e,n,s);var o=Ma;if(o&&e&&n){var h='link[rel="preload"][as="'+en(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+en(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+en(s.imageSizes)+'"]')):h+='[href="'+en(e)+'"]';var f=h;switch(n){case"style":f=Va(e);break;case"script":f=ka(e)}Mn.has(f)||(e=b({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Mn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(ll(f))||n==="script"&&o.querySelector(ul(f))||(n=o.createElement("link"),He(n,"link",e),ve(n),o.head.appendChild(n)))}}function eA(e,n){Yi.m(e,n);var s=Ma;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+en(o)+'"][href="'+en(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ka(e)}if(!Mn.has(f)&&(e=b({rel:"modulepreload",href:e},n),Mn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ul(f)))return}o=s.createElement("link"),He(o,"link",e),ve(o),s.head.appendChild(o)}}}function nA(e,n,s){Yi.S(e,n,s);var o=Ma;if(o&&e){var h=ai(o).hoistableStyles,f=Va(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(ll(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Mn.get(f))&&md(e,s);var C=g=o.createElement("link");ve(C),He(C,"link",e),C._p=new Promise(function(P,H){C.onload=P,C.onerror=H}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,cc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function iA(e,n){Yi.X(e,n);var s=Ma;if(s&&e){var o=ai(s).hoistableScripts,h=ka(e),f=o.get(h);f||(f=s.querySelector(ul(h)),f||(e=b({src:e,async:!0},n),(n=Mn.get(h))&&gd(e,n),f=s.createElement("script"),ve(f),He(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function sA(e,n){Yi.M(e,n);var s=Ma;if(s&&e){var o=ai(s).hoistableScripts,h=ka(e),f=o.get(h);f||(f=s.querySelector(ul(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=Mn.get(h))&&gd(e,n),f=s.createElement("script"),ve(f),He(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function r_(e,n,s,o){var h=(h=wt.current)?uc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Va(s.href),s=ai(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Va(s.href);var f=ai(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(ll(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Mn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Mn.set(e,s),f||rA(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ka(s),s=ai(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Va(e){return'href="'+en(e)+'"'}function ll(e){return'link[rel="stylesheet"]['+e+"]"}function a_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function rA(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),He(n,"link",s),ve(n),e.head.appendChild(n))}function ka(e){return'[src="'+en(e)+'"]'}function ul(e){return"script[async]"+e}function o_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+en(s.href)+'"]');if(o)return n.instance=o,ve(o),o;var h=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ve(o),He(o,"style",h),cc(o,s.precedence,e),n.instance=o;case"stylesheet":h=Va(s.href);var f=e.querySelector(ll(h));if(f)return n.state.loading|=4,n.instance=f,ve(f),f;o=a_(s),(h=Mn.get(h))&&md(o,h),f=(e.ownerDocument||e).createElement("link"),ve(f);var g=f;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),He(f,"link",o),n.state.loading|=4,cc(f,s.precedence,e),n.instance=f;case"script":return f=ka(s.src),(h=e.querySelector(ul(f)))?(n.instance=h,ve(h),h):(o=s,(h=Mn.get(f))&&(o=b({},s),gd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ve(h),He(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,cc(o,s.precedence,e));return n.instance}function cc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function md(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function gd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var hc=null;function l_(e,n,s){if(hc===null){var o=new Map,h=hc=new Map;h.set(s,o)}else h=hc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[si]||f[_e]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function u_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function aA(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function c_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function oA(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Va(o.href),f=n.querySelector(ll(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=fc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,ve(f);return}f=n.ownerDocument||n,o=a_(o),(h=Mn.get(h))&&md(o,h),f=f.createElement("link"),ve(f);var g=f;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),He(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=fc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var pd=0;function lA(e,n){return e.stylesheets&&e.count===0&&mc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&mc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&pd===0&&(pd=62500*q1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&mc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>pd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function fc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)mc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var dc=null;function mc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,dc=new Map,n.forEach(uA,e),dc=null,fc.call(e))}function uA(e,n){if(!(n.state.loading&4)){var s=dc.get(e);if(s)var o=s.get(null);else{s=new Map,dc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=fc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var cl={$$typeof:gt,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function cA(e,n,s,o,h,f,g,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function h_(e,n,s,o,h,f,g,E,C,P,H,Y){return e=new cA(e,n,s,g,C,P,H,Y,E),n=1,f===!0&&(n|=24),f=mn(3,null,null,n),e.current=f,f.stateNode=e,n=Kh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},Jh(f),e}function f_(e){return e?(e=fa,e):fa}function d_(e,n,s,o,h,f){h=f_(h),o.context===null?o.context=h:o.pendingContext=h,o=Es(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Ts(e,o,n),s!==null&&(ln(s,e,n),qo(s,e,n))}function m_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function yd(e,n){m_(e,n),(e=e.alternate)&&m_(e,n)}function g_(e){if(e.tag===13||e.tag===31){var n=Er(e,67108864);n!==null&&ln(n,e,67108864),yd(e,67108864)}}function p_(e){if(e.tag===13||e.tag===31){var n=vn();n=lr(n);var s=Er(e,n);s!==null&&ln(s,e,n),yd(e,n)}}var gc=!0;function hA(e,n,s,o){var h=F.T;F.T=null;var f=et.p;try{et.p=2,_d(e,n,s,o)}finally{et.p=f,F.T=h}}function fA(e,n,s,o){var h=F.T;F.T=null;var f=et.p;try{et.p=8,_d(e,n,s,o)}finally{et.p=f,F.T=h}}function _d(e,n,s,o){if(gc){var h=vd(o);if(h===null)sd(e,n,o,pc,s),__(e,o);else if(mA(h,e,n,s,o))o.stopPropagation();else if(__(e,o),n&4&&-1<dA.indexOf(e)){for(;h!==null;){var f=An(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ti(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-he(g);E.entanglements[1]|=C,g&=~C}vi(f),(Bt&6)===0&&(Ju=Je()+500,sl(0))}}break;case 31:case 13:E=Er(f,2),E!==null&&ln(E,f,2),tc(),yd(f,2)}if(f=vd(o),f===null&&sd(e,n,o,pc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else sd(e,n,o,null,s)}}function vd(e){return e=Sn(e),Ed(e)}var pc=null;function Ed(e){if(pc=null,e=ri(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return pc=e,null}function y_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sr()){case fo:return 2;case mo:return 8;case rs:case wh:return 32;case Kl:return 268435456;default:return 32}default:return 32}}var Td=!1,xs=null,Ms=null,Vs=null,hl=new Map,fl=new Map,ks=[],dA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function __(e,n){switch(e){case"focusin":case"focusout":xs=null;break;case"dragenter":case"dragleave":Ms=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":hl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(n.pointerId)}}function dl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=An(n),n!==null&&g_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function mA(e,n,s,o,h){switch(n){case"focusin":return xs=dl(xs,e,n,s,o,h),!0;case"dragenter":return Ms=dl(Ms,e,n,s,o,h),!0;case"mouseover":return Vs=dl(Vs,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return hl.set(f,dl(hl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,fl.set(f,dl(fl.get(f)||null,e,n,s,o,h)),!0}return!1}function v_(e){var n=ri(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Pn(e.priority,function(){p_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Pn(e.priority,function(){p_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=vd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Ro=o,s.target.dispatchEvent(o),Ro=null}else return n=An(s),n!==null&&g_(n),e.blockedOn=s,!1;n.shift()}return!0}function E_(e,n,s){yc(e)&&s.delete(n)}function gA(){Td=!1,xs!==null&&yc(xs)&&(xs=null),Ms!==null&&yc(Ms)&&(Ms=null),Vs!==null&&yc(Vs)&&(Vs=null),hl.forEach(E_),fl.forEach(E_)}function _c(e,n){e.blockedOn===n&&(e.blockedOn=null,Td||(Td=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,gA)))}var vc=null;function T_(e){vc!==e&&(vc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){vc===e&&(vc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Ed(o||s)===null)continue;break}var f=An(s);f!==null&&(e.splice(n,3),n-=3,vf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Ua(e){function n(C){return _c(C,e)}xs!==null&&_c(xs,e),Ms!==null&&_c(Ms,e),Vs!==null&&_c(Vs,e),hl.forEach(n),fl.forEach(n);for(var s=0;s<ks.length;s++){var o=ks[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<ks.length&&(s=ks[0],s.blockedOn===null);)v_(s),s.blockedOn===null&&ks.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[Ve]||null;if(typeof f=="function")g||T_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Ve]||null)E=g.formAction;else if(Ed(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),T_(s)}}}function A_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ad(e){this._internalRoot=e}Ec.prototype.render=Ad.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=vn();d_(s,o,e,n,null,null)},Ec.prototype.unmount=Ad.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;d_(e.current,2,null,e,null,null),tc(),n[ii]=null}};function Ec(e){this._internalRoot=e}Ec.prototype.unstable_scheduleHydration=function(e){if(e){var n=tu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<ks.length&&n!==0&&n<ks[s].priority;s++);ks.splice(s,0,e),s===0&&v_(e)}};var S_=t.version;if(S_!=="19.2.3")throw Error(a(527,S_,"19.2.3"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=v(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var pA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tc.isDisabled&&Tc.supportsFiber)try{Un=Tc.inject(pA),Pe=Tc}catch{}}return gl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=Dp,f=Op,g=xp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=h_(e,1,!1,null,null,s,o,null,h,f,g,A_),e[ii]=n.current,id(e),new Ad(n)},gl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=Dp,g=Op,E=xp,C=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=h_(e,1,!0,n,s??null,o,h,C,f,g,E,A_),n.context=f_(null),s=n.current,o=vn(),o=lr(o),h=Es(o),h.callback=null,Ts(s,h,o),s=o,n.current.lanes=s,ar(n,s),vi(n),e[ii]=n.current,id(e),new Ec(n)},gl.version="19.2.3",gl}var M_;function RA(){if(M_)return wd.exports;M_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),wd.exports=wA(),wd.exports}var IA=RA();const CA=()=>{};var V_={};const g0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},NA=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},p0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,y=l+2<r.length,v=y?r[l+2]:0,A=c>>2,b=(c&3)<<4|p>>4;let V=(p&15)<<2|v>>6,G=v&63;y||(G=64,d||(V=64)),a.push(i[A],i[b],i[V],i[G])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(g0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):NA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const v=l<r.length?i[r.charAt(l)]:64;++l;const b=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||v==null||b==null)throw new DA;const V=c<<2|p>>4;if(a.push(V),v!==64){const G=p<<4&240|v>>2;if(a.push(G),b!==64){const $=v<<6&192|b;a.push($)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class DA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OA=function(r){const t=g0(r);return p0.encodeByteArray(t,!0)},Bc=function(r){return OA(r).replace(/\./g,"")},y0=function(r){try{return p0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function xA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const MA=()=>xA().__FIREBASE_DEFAULTS__,VA=()=>{if(typeof process>"u"||typeof V_>"u")return;const r=V_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},kA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&y0(r[1]);return t&&JSON.parse(t)},ah=()=>{try{return CA()||MA()||VA()||kA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},_0=r=>ah()?.emulatorHosts?.[r],UA=r=>{const t=_0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},v0=()=>ah()?.config,E0=r=>ah()?.[`_${r}`];class LA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function eo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function T0(r){return(await fetch(r,{credentials:"include"})).ok}function PA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Bc(JSON.stringify(i)),Bc(JSON.stringify(d)),""].join(".")}const El={};function zA(){const r={prod:[],emulator:[]};for(const t of Object.keys(El))El[t]?r.emulator.push(t):r.prod.push(t);return r}function jA(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let k_=!1;function A0(r,t){if(typeof window>"u"||typeof document>"u"||!eo(window.location.host)||El[r]===t||El[r]||k_)return;El[r]=t;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",c=zA().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function p(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function y(V,G){V.setAttribute("width","24"),V.setAttribute("id",G),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function v(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{k_=!0,d()},V}function A(V,G){V.setAttribute("id",G),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function b(){const V=jA(a),G=i("text"),$=document.getElementById(G)||document.createElement("span"),W=i("learnmore"),J=document.getElementById(W)||document.createElement("a"),dt=i("preprendIcon"),Et=document.getElementById(dt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const gt=V.element;p(gt),A(J,W);const qt=v();y(Et,dt),gt.append(Et,$,J,qt),document.body.appendChild(gt)}c?($.innerText="Preview backend disconnected.",Et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function $e(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function qA(){const r=ah()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function GA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QA(){const r=$e();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function YA(){return!qA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function KA(){try{return typeof indexedDB=="object"}catch{return!1}}function XA(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const ZA="FirebaseError";class is extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=ZA,Object.setPrototypeOf(this,is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ul.prototype.create)}}class Ul{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?$A(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new is(l,p,a)}}function $A(r,t){return r.replace(JA,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const JA=/\{\$([^}]+)}/g;function WA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Pr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(U_(c)&&U_(d)){if(!Pr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function U_(r){return r!==null&&typeof r=="object"}function Ll(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function tS(r,t){const i=new eS(r,t);return i.subscribe.bind(i)}class eS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");nS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Nd),l.error===void 0&&(l.error=Nd),l.complete===void 0&&(l.complete=Nd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nS(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Nd(){}function cn(r){return r&&r._delegate?r._delegate:r}class zr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Mr="[DEFAULT]";class iS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new LA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(rS(t))try{this.getOrInitializeService({instanceIdentifier:Mr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Mr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Mr){return this.instances.has(t)}getOptions(t=Mr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:sS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Mr){return this.component?this.component.multipleInstances?t:Mr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sS(r){return r===Mr?void 0:r}function rS(r){return r.instantiationMode==="EAGER"}class aS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new iS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ot;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ot||(Ot={}));const oS={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},lS=Ot.INFO,uS={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},cS=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=uS[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class mm{constructor(t){this.name=t,this._logLevel=lS,this._logHandler=cS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?oS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const hS=(r,t)=>t.some(i=>r instanceof i);let L_,P_;function fS(){return L_||(L_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dS(){return P_||(P_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const S0=new WeakMap,qd=new WeakMap,b0=new WeakMap,Dd=new WeakMap,gm=new WeakMap;function mS(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Hs(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&S0.set(i,r)}).catch(()=>{}),gm.set(t,r),t}function gS(r){if(qd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});qd.set(r,t)}let Hd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return qd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||b0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Hs(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function pS(r){Hd=r(Hd)}function yS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Od(this),t,...i);return b0.set(a,t.sort?t.sort():[t]),Hs(a)}:dS().includes(r)?function(...t){return r.apply(Od(this),t),Hs(S0.get(this))}:function(...t){return Hs(r.apply(Od(this),t))}}function _S(r){return typeof r=="function"?yS(r):(r instanceof IDBTransaction&&gS(r),hS(r,fS())?new Proxy(r,Hd):r)}function Hs(r){if(r instanceof IDBRequest)return mS(r);if(Dd.has(r))return Dd.get(r);const t=_S(r);return t!==r&&(Dd.set(r,t),gm.set(t,r)),t}const Od=r=>gm.get(r);function vS(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=Hs(d);return a&&d.addEventListener("upgradeneeded",y=>{a(Hs(d.result),y.oldVersion,y.newVersion,Hs(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const ES=["get","getKey","getAll","getAllKeys","count"],TS=["put","add","delete","clear"],xd=new Map;function z_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(xd.get(t))return xd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=TS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||ES.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let v=y.store;return a&&(v=v.index(p.shift())),(await Promise.all([v[i](...p),l&&y.done]))[0]};return xd.set(t,c),c}pS(r=>({...r,get:(t,i,a)=>z_(t,i)||r.get(t,i,a),has:(t,i)=>!!z_(t,i)||r.has(t,i)}));class AS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(SS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function SS(r){return r.getComponent()?.type==="VERSION"}const Fd="@firebase/app",j_="0.14.6";const Ji=new mm("@firebase/app"),bS="@firebase/app-compat",wS="@firebase/analytics-compat",RS="@firebase/analytics",IS="@firebase/app-check-compat",CS="@firebase/app-check",NS="@firebase/auth",DS="@firebase/auth-compat",OS="@firebase/database",xS="@firebase/data-connect",MS="@firebase/database-compat",VS="@firebase/functions",kS="@firebase/functions-compat",US="@firebase/installations",LS="@firebase/installations-compat",PS="@firebase/messaging",zS="@firebase/messaging-compat",jS="@firebase/performance",BS="@firebase/performance-compat",qS="@firebase/remote-config",HS="@firebase/remote-config-compat",FS="@firebase/storage",GS="@firebase/storage-compat",QS="@firebase/firestore",YS="@firebase/ai",KS="@firebase/firestore-compat",XS="firebase",ZS="12.6.0";const Gd="[DEFAULT]",$S={[Fd]:"fire-core",[bS]:"fire-core-compat",[RS]:"fire-analytics",[wS]:"fire-analytics-compat",[CS]:"fire-app-check",[IS]:"fire-app-check-compat",[NS]:"fire-auth",[DS]:"fire-auth-compat",[OS]:"fire-rtdb",[xS]:"fire-data-connect",[MS]:"fire-rtdb-compat",[VS]:"fire-fn",[kS]:"fire-fn-compat",[US]:"fire-iid",[LS]:"fire-iid-compat",[PS]:"fire-fcm",[zS]:"fire-fcm-compat",[jS]:"fire-perf",[BS]:"fire-perf-compat",[qS]:"fire-rc",[HS]:"fire-rc-compat",[FS]:"fire-gcs",[GS]:"fire-gcs-compat",[QS]:"fire-fst",[KS]:"fire-fst-compat",[YS]:"fire-vertex","fire-js":"fire-js",[XS]:"fire-js-all"};const qc=new Map,JS=new Map,Qd=new Map;function B_(r,t){try{r.container.addComponent(t)}catch(i){Ji.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Ka(r){const t=r.name;if(Qd.has(t))return Ji.debug(`There were multiple attempts to register component ${t}.`),!1;Qd.set(t,r);for(const i of qc.values())B_(i,r);for(const i of JS.values())B_(i,r);return!0}function pm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Kn(r){return r==null?!1:r.settings!==void 0}const WS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fs=new Ul("app","Firebase",WS);class tb{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new zr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Fs.create("app-deleted",{appName:this._name})}}const no=ZS;function w0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Gd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Fs.create("bad-app-name",{appName:String(l)});if(i||(i=v0()),!i)throw Fs.create("no-options");const c=qc.get(l);if(c){if(Pr(i,c.options)&&Pr(a,c.config))return c;throw Fs.create("duplicate-app",{appName:l})}const d=new aS(l);for(const y of Qd.values())d.addComponent(y);const p=new tb(i,a,d);return qc.set(l,p),p}function R0(r=Gd){const t=qc.get(r);if(!t&&r===Gd&&v0())return w0();if(!t)throw Fs.create("no-app",{appName:r});return t}function Gs(r,t,i){let a=$S[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ji.warn(d.join(" "));return}Ka(new zr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const eb="firebase-heartbeat-database",nb=1,Rl="firebase-heartbeat-store";let Md=null;function I0(){return Md||(Md=vS(eb,nb,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Rl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Fs.create("idb-open",{originalErrorMessage:r.message})})),Md}async function ib(r){try{const i=(await I0()).transaction(Rl),a=await i.objectStore(Rl).get(C0(r));return await i.done,a}catch(t){if(t instanceof is)Ji.warn(t.message);else{const i=Fs.create("idb-get",{originalErrorMessage:t?.message});Ji.warn(i.message)}}}async function q_(r,t){try{const a=(await I0()).transaction(Rl,"readwrite");await a.objectStore(Rl).put(t,C0(r)),await a.done}catch(i){if(i instanceof is)Ji.warn(i.message);else{const a=Fs.create("idb-set",{originalErrorMessage:i?.message});Ji.warn(a.message)}}}function C0(r){return`${r.name}!${r.options.appId}`}const sb=1024,rb=30;class ab{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new lb(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=H_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>rb){const l=ub(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ji.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=H_(),{heartbeatsToSend:i,unsentEntries:a}=ob(this._heartbeatsCache.heartbeats),l=Bc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ji.warn(t),""}}}function H_(){return new Date().toISOString().substring(0,10)}function ob(r,t=sb){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),F_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),F_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class lb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KA()?XA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await ib(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return q_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return q_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function F_(r){return Bc(JSON.stringify({version:2,heartbeats:r})).length}function ub(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function cb(r){Ka(new zr("platform-logger",t=>new AS(t),"PRIVATE")),Ka(new zr("heartbeat",t=>new ab(t),"PRIVATE")),Gs(Fd,j_,r),Gs(Fd,j_,"esm2020"),Gs("fire-js","")}cb("");var hb="firebase",fb="12.7.0";Gs(hb,fb,"app");var G_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Qs,N0;(function(){var r;function t(w,S){function R(){}R.prototype=S.prototype,w.F=S.prototype,w.prototype=new R,w.prototype.constructor=w,w.D=function(x,N,k){for(var I=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)I[ie-2]=arguments[ie];return S.prototype[N].apply(x,I)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(w,S,R){R||(R=0);const x=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)x[N]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(N=0;N<16;++N)x[N]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=w.g[0],R=w.g[1],N=w.g[2];let k=w.g[3],I;I=S+(k^R&(N^k))+x[0]+3614090360&4294967295,S=R+(I<<7&4294967295|I>>>25),I=k+(N^S&(R^N))+x[1]+3905402710&4294967295,k=S+(I<<12&4294967295|I>>>20),I=N+(R^k&(S^R))+x[2]+606105819&4294967295,N=k+(I<<17&4294967295|I>>>15),I=R+(S^N&(k^S))+x[3]+3250441966&4294967295,R=N+(I<<22&4294967295|I>>>10),I=S+(k^R&(N^k))+x[4]+4118548399&4294967295,S=R+(I<<7&4294967295|I>>>25),I=k+(N^S&(R^N))+x[5]+1200080426&4294967295,k=S+(I<<12&4294967295|I>>>20),I=N+(R^k&(S^R))+x[6]+2821735955&4294967295,N=k+(I<<17&4294967295|I>>>15),I=R+(S^N&(k^S))+x[7]+4249261313&4294967295,R=N+(I<<22&4294967295|I>>>10),I=S+(k^R&(N^k))+x[8]+1770035416&4294967295,S=R+(I<<7&4294967295|I>>>25),I=k+(N^S&(R^N))+x[9]+2336552879&4294967295,k=S+(I<<12&4294967295|I>>>20),I=N+(R^k&(S^R))+x[10]+4294925233&4294967295,N=k+(I<<17&4294967295|I>>>15),I=R+(S^N&(k^S))+x[11]+2304563134&4294967295,R=N+(I<<22&4294967295|I>>>10),I=S+(k^R&(N^k))+x[12]+1804603682&4294967295,S=R+(I<<7&4294967295|I>>>25),I=k+(N^S&(R^N))+x[13]+4254626195&4294967295,k=S+(I<<12&4294967295|I>>>20),I=N+(R^k&(S^R))+x[14]+2792965006&4294967295,N=k+(I<<17&4294967295|I>>>15),I=R+(S^N&(k^S))+x[15]+1236535329&4294967295,R=N+(I<<22&4294967295|I>>>10),I=S+(N^k&(R^N))+x[1]+4129170786&4294967295,S=R+(I<<5&4294967295|I>>>27),I=k+(R^N&(S^R))+x[6]+3225465664&4294967295,k=S+(I<<9&4294967295|I>>>23),I=N+(S^R&(k^S))+x[11]+643717713&4294967295,N=k+(I<<14&4294967295|I>>>18),I=R+(k^S&(N^k))+x[0]+3921069994&4294967295,R=N+(I<<20&4294967295|I>>>12),I=S+(N^k&(R^N))+x[5]+3593408605&4294967295,S=R+(I<<5&4294967295|I>>>27),I=k+(R^N&(S^R))+x[10]+38016083&4294967295,k=S+(I<<9&4294967295|I>>>23),I=N+(S^R&(k^S))+x[15]+3634488961&4294967295,N=k+(I<<14&4294967295|I>>>18),I=R+(k^S&(N^k))+x[4]+3889429448&4294967295,R=N+(I<<20&4294967295|I>>>12),I=S+(N^k&(R^N))+x[9]+568446438&4294967295,S=R+(I<<5&4294967295|I>>>27),I=k+(R^N&(S^R))+x[14]+3275163606&4294967295,k=S+(I<<9&4294967295|I>>>23),I=N+(S^R&(k^S))+x[3]+4107603335&4294967295,N=k+(I<<14&4294967295|I>>>18),I=R+(k^S&(N^k))+x[8]+1163531501&4294967295,R=N+(I<<20&4294967295|I>>>12),I=S+(N^k&(R^N))+x[13]+2850285829&4294967295,S=R+(I<<5&4294967295|I>>>27),I=k+(R^N&(S^R))+x[2]+4243563512&4294967295,k=S+(I<<9&4294967295|I>>>23),I=N+(S^R&(k^S))+x[7]+1735328473&4294967295,N=k+(I<<14&4294967295|I>>>18),I=R+(k^S&(N^k))+x[12]+2368359562&4294967295,R=N+(I<<20&4294967295|I>>>12),I=S+(R^N^k)+x[5]+4294588738&4294967295,S=R+(I<<4&4294967295|I>>>28),I=k+(S^R^N)+x[8]+2272392833&4294967295,k=S+(I<<11&4294967295|I>>>21),I=N+(k^S^R)+x[11]+1839030562&4294967295,N=k+(I<<16&4294967295|I>>>16),I=R+(N^k^S)+x[14]+4259657740&4294967295,R=N+(I<<23&4294967295|I>>>9),I=S+(R^N^k)+x[1]+2763975236&4294967295,S=R+(I<<4&4294967295|I>>>28),I=k+(S^R^N)+x[4]+1272893353&4294967295,k=S+(I<<11&4294967295|I>>>21),I=N+(k^S^R)+x[7]+4139469664&4294967295,N=k+(I<<16&4294967295|I>>>16),I=R+(N^k^S)+x[10]+3200236656&4294967295,R=N+(I<<23&4294967295|I>>>9),I=S+(R^N^k)+x[13]+681279174&4294967295,S=R+(I<<4&4294967295|I>>>28),I=k+(S^R^N)+x[0]+3936430074&4294967295,k=S+(I<<11&4294967295|I>>>21),I=N+(k^S^R)+x[3]+3572445317&4294967295,N=k+(I<<16&4294967295|I>>>16),I=R+(N^k^S)+x[6]+76029189&4294967295,R=N+(I<<23&4294967295|I>>>9),I=S+(R^N^k)+x[9]+3654602809&4294967295,S=R+(I<<4&4294967295|I>>>28),I=k+(S^R^N)+x[12]+3873151461&4294967295,k=S+(I<<11&4294967295|I>>>21),I=N+(k^S^R)+x[15]+530742520&4294967295,N=k+(I<<16&4294967295|I>>>16),I=R+(N^k^S)+x[2]+3299628645&4294967295,R=N+(I<<23&4294967295|I>>>9),I=S+(N^(R|~k))+x[0]+4096336452&4294967295,S=R+(I<<6&4294967295|I>>>26),I=k+(R^(S|~N))+x[7]+1126891415&4294967295,k=S+(I<<10&4294967295|I>>>22),I=N+(S^(k|~R))+x[14]+2878612391&4294967295,N=k+(I<<15&4294967295|I>>>17),I=R+(k^(N|~S))+x[5]+4237533241&4294967295,R=N+(I<<21&4294967295|I>>>11),I=S+(N^(R|~k))+x[12]+1700485571&4294967295,S=R+(I<<6&4294967295|I>>>26),I=k+(R^(S|~N))+x[3]+2399980690&4294967295,k=S+(I<<10&4294967295|I>>>22),I=N+(S^(k|~R))+x[10]+4293915773&4294967295,N=k+(I<<15&4294967295|I>>>17),I=R+(k^(N|~S))+x[1]+2240044497&4294967295,R=N+(I<<21&4294967295|I>>>11),I=S+(N^(R|~k))+x[8]+1873313359&4294967295,S=R+(I<<6&4294967295|I>>>26),I=k+(R^(S|~N))+x[15]+4264355552&4294967295,k=S+(I<<10&4294967295|I>>>22),I=N+(S^(k|~R))+x[6]+2734768916&4294967295,N=k+(I<<15&4294967295|I>>>17),I=R+(k^(N|~S))+x[13]+1309151649&4294967295,R=N+(I<<21&4294967295|I>>>11),I=S+(N^(R|~k))+x[4]+4149444226&4294967295,S=R+(I<<6&4294967295|I>>>26),I=k+(R^(S|~N))+x[11]+3174756917&4294967295,k=S+(I<<10&4294967295|I>>>22),I=N+(S^(k|~R))+x[2]+718787259&4294967295,N=k+(I<<15&4294967295|I>>>17),I=R+(k^(N|~S))+x[9]+3951481745&4294967295,w.g[0]=w.g[0]+S&4294967295,w.g[1]=w.g[1]+(N+(I<<21&4294967295|I>>>11))&4294967295,w.g[2]=w.g[2]+N&4294967295,w.g[3]=w.g[3]+k&4294967295}a.prototype.v=function(w,S){S===void 0&&(S=w.length);const R=S-this.blockSize,x=this.C;let N=this.h,k=0;for(;k<S;){if(N==0)for(;k<=R;)l(this,w,k),k+=this.blockSize;if(typeof w=="string"){for(;k<S;)if(x[N++]=w.charCodeAt(k++),N==this.blockSize){l(this,x),N=0;break}}else for(;k<S;)if(x[N++]=w[k++],N==this.blockSize){l(this,x),N=0;break}}this.h=N,this.o+=S},a.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var S=1;S<w.length-8;++S)w[S]=0;S=this.o*8;for(var R=w.length-8;R<w.length;++R)w[R]=S&255,S/=256;for(this.v(w),w=Array(16),S=0,R=0;R<4;++R)for(let x=0;x<32;x+=8)w[S++]=this.g[R]>>>x&255;return w};function c(w,S){var R=p;return Object.prototype.hasOwnProperty.call(R,w)?R[w]:R[w]=S(w)}function d(w,S){this.h=S;const R=[];let x=!0;for(let N=w.length-1;N>=0;N--){const k=w[N]|0;x&&k==S||(R[N]=k,x=!1)}this.g=R}var p={};function y(w){return-128<=w&&w<128?c(w,function(S){return new d([S|0],S<0?-1:0)}):new d([w|0],w<0?-1:0)}function v(w){if(isNaN(w)||!isFinite(w))return b;if(w<0)return J(v(-w));const S=[];let R=1;for(let x=0;w>=R;x++)S[x]=w/R|0,R*=4294967296;return new d(S,0)}function A(w,S){if(w.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(w.charAt(0)=="-")return J(A(w.substring(1),S));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=v(Math.pow(S,8));let x=b;for(let k=0;k<w.length;k+=8){var N=Math.min(8,w.length-k);const I=parseInt(w.substring(k,k+N),S);N<8?(N=v(Math.pow(S,N)),x=x.j(N).add(v(I))):(x=x.j(R),x=x.add(v(I)))}return x}var b=y(0),V=y(1),G=y(16777216);r=d.prototype,r.m=function(){if(W(this))return-J(this).m();let w=0,S=1;for(let R=0;R<this.g.length;R++){const x=this.i(R);w+=(x>=0?x:4294967296+x)*S,S*=4294967296}return w},r.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if($(this))return"0";if(W(this))return"-"+J(this).toString(w);const S=v(Math.pow(w,6));var R=this;let x="";for(;;){const N=qt(R,S).g;R=dt(R,N.j(S));let k=((R.g.length>0?R.g[0]:R.h)>>>0).toString(w);if(R=N,$(R))return k+x;for(;k.length<6;)k="0"+k;x=k+x}},r.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function $(w){if(w.h!=0)return!1;for(let S=0;S<w.g.length;S++)if(w.g[S]!=0)return!1;return!0}function W(w){return w.h==-1}r.l=function(w){return w=dt(this,w),W(w)?-1:$(w)?0:1};function J(w){const S=w.g.length,R=[];for(let x=0;x<S;x++)R[x]=~w.g[x];return new d(R,~w.h).add(V)}r.abs=function(){return W(this)?J(this):this},r.add=function(w){const S=Math.max(this.g.length,w.g.length),R=[];let x=0;for(let N=0;N<=S;N++){let k=x+(this.i(N)&65535)+(w.i(N)&65535),I=(k>>>16)+(this.i(N)>>>16)+(w.i(N)>>>16);x=I>>>16,k&=65535,I&=65535,R[N]=I<<16|k}return new d(R,R[R.length-1]&-2147483648?-1:0)};function dt(w,S){return w.add(J(S))}r.j=function(w){if($(this)||$(w))return b;if(W(this))return W(w)?J(this).j(J(w)):J(J(this).j(w));if(W(w))return J(this.j(J(w)));if(this.l(G)<0&&w.l(G)<0)return v(this.m()*w.m());const S=this.g.length+w.g.length,R=[];for(var x=0;x<2*S;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(let N=0;N<w.g.length;N++){const k=this.i(x)>>>16,I=this.i(x)&65535,ie=w.i(N)>>>16,Ne=w.i(N)&65535;R[2*x+2*N]+=I*Ne,Et(R,2*x+2*N),R[2*x+2*N+1]+=k*Ne,Et(R,2*x+2*N+1),R[2*x+2*N+1]+=I*ie,Et(R,2*x+2*N+1),R[2*x+2*N+2]+=k*ie,Et(R,2*x+2*N+2)}for(w=0;w<S;w++)R[w]=R[2*w+1]<<16|R[2*w];for(w=S;w<2*S;w++)R[w]=0;return new d(R,0)};function Et(w,S){for(;(w[S]&65535)!=w[S];)w[S+1]+=w[S]>>>16,w[S]&=65535,S++}function gt(w,S){this.g=w,this.h=S}function qt(w,S){if($(S))throw Error("division by zero");if($(w))return new gt(b,b);if(W(w))return S=qt(J(w),S),new gt(J(S.g),J(S.h));if(W(S))return S=qt(w,J(S)),new gt(J(S.g),S.h);if(w.g.length>30){if(W(w)||W(S))throw Error("slowDivide_ only works with positive integers.");for(var R=V,x=S;x.l(w)<=0;)R=ot(R),x=ot(x);var N=ut(R,1),k=ut(x,1);for(x=ut(x,2),R=ut(R,2);!$(x);){var I=k.add(x);I.l(w)<=0&&(N=N.add(R),k=I),x=ut(x,1),R=ut(R,1)}return S=dt(w,N.j(S)),new gt(N,S)}for(N=b;w.l(S)>=0;){for(R=Math.max(1,Math.floor(w.m()/S.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),k=v(R),I=k.j(S);W(I)||I.l(w)>0;)R-=x,k=v(R),I=k.j(S);$(k)&&(k=V),N=N.add(k),w=dt(w,I)}return new gt(N,w)}r.B=function(w){return qt(this,w).h},r.and=function(w){const S=Math.max(this.g.length,w.g.length),R=[];for(let x=0;x<S;x++)R[x]=this.i(x)&w.i(x);return new d(R,this.h&w.h)},r.or=function(w){const S=Math.max(this.g.length,w.g.length),R=[];for(let x=0;x<S;x++)R[x]=this.i(x)|w.i(x);return new d(R,this.h|w.h)},r.xor=function(w){const S=Math.max(this.g.length,w.g.length),R=[];for(let x=0;x<S;x++)R[x]=this.i(x)^w.i(x);return new d(R,this.h^w.h)};function ot(w){const S=w.g.length+1,R=[];for(let x=0;x<S;x++)R[x]=w.i(x)<<1|w.i(x-1)>>>31;return new d(R,w.h)}function ut(w,S){const R=S>>5;S%=32;const x=w.g.length-R,N=[];for(let k=0;k<x;k++)N[k]=S>0?w.i(k+R)>>>S|w.i(k+R+1)<<32-S:w.i(k+R);return new d(N,w.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,N0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,Qs=d}).apply(typeof G_<"u"?G_:typeof self<"u"?self:typeof window<"u"?window:{});var Ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var D0,pl,O0,Oc,Yd,x0,M0,V0;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ac=="object"&&Ac];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var _=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in _))break t;_=_[U]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var _=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&_.push([T,m[T]]);return _}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,_){return u.call.apply(u.bind,arguments)}function v(u,m,_){return v=y,v.apply(null,arguments)}function A(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,U,B){for(var tt=Array(arguments.length-2),St=2;St<arguments.length;St++)tt[St-2]=arguments[St];return m.prototype[U].apply(T,tt)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function $(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var _=typeof U;if(_=_!="object"?_:U?Array.isArray(U)?"array":_:"null",_=="array"||_=="object"&&typeof U.length=="number"){_=u.length||0;const B=U.length||0;u.length=_+B;for(let tt=0;tt<B;tt++)u[_+tt]=U[tt]}else u.push(U)}}class W{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function dt(){var u=w;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Et{constructor(){this.h=this.g=null}add(m,_){const T=gt.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var gt=new W(()=>new qt,u=>u.reset());class qt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ot,ut=!1,w=new Et,S=()=>{const u=Promise.resolve(void 0);ot=()=>{u.then(R)}};function R(){for(var u;u=dt();){try{u.h.call(u.g)}catch(_){J(_)}var m=gt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}ut=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function I(u){return/^[\s\xa0]*$/.test(u)}function ie(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(ie,N),ie.prototype.init=function(u,m){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ne="closure_listenable_"+(Math.random()*1e6|0),F=0;function et(u,m,_,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=U,this.key=++F,this.da=this.fa=!1}function ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Lt(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function Ft(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function O(u){const m={};for(const _ in u)m[_]=u[_];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let _,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(_ in T)u[_]=T[_];for(let B=0;B<K.length;B++)_=K[B],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,_,T,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const tt=wt(u,m,T,U);return tt>-1?(m=u[tt],_||(m.fa=!1)):(m=new et(m,this.src,B,!!T,U),m.fa=_,u.push(m)),m};function _t(u,m){const _=m.type;if(_ in u.g){var T=u.g[_],U=Array.prototype.indexOf.call(T,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(T,U,1),B&&(ft(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function wt(u,m,_,T){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!_&&B.ha==T)return U}return-1}var kt="closure_lm_"+(Math.random()*1e6|0),De={};function se(u,m,_,T,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)se(u,m[B],_,T,U);return null}return _=ho(_),u&&u[Ne]?u.J(m,_,p(T)?!!T.capture:!1,U):nr(u,m,_,!1,T,U)}function nr(u,m,_,T,U,B){if(!m)throw Error("Invalid event type");const tt=p(U)?!!U.capture:!!U;let St=ir(u);if(St||(u[kt]=St=new st(u)),_=St.add(m,_,T,tt,B),_.proxy)return _;if(T=Yr(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)k||(U=tt),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(Jn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Yr(){function u(_){return m.call(u.src,u.listener,_)}const m=uo;return u}function Kr(u,m,_,T,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)Kr(u,m[B],_,T,U);else T=p(T)?!!T.capture:!!T,_=ho(_),u&&u[Ne]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],_=wt(m,_,T,U),_>-1&&(ft(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=ir(u))&&(m=u.g[m.toString()],u=-1,m&&(u=wt(m,_,T,U)),(_=u>-1?m[u]:null)&&Xr(_))}function Xr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ne])_t(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(Jn(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=ir(m))?(_t(_,u),_.h==0&&(_.src=null,m[kt]=null)):ft(u)}}}function Jn(u){return u in De?De[u]:De[u]="on"+u}function uo(u,m){if(u.da)u=!0;else{m=new ie(m,this);const _=u.listener,T=u.ha||u.src;u.fa&&Xr(u),u=_.call(T,m)}return u}function ir(u){return u=u[kt],u instanceof st?u:null}var co="__closure_events_fn_"+(Math.random()*1e9>>>0);function ho(u){return typeof u=="function"?u:(u[co]||(u[co]=function(m){return u.handleEvent(m)}),u[co])}function pe(){x.call(this),this.i=new st(this),this.M=this,this.G=null}b(pe,x),pe.prototype[Ne]=!0,pe.prototype.removeEventListener=function(u,m,_,T){Kr(this,u,m,_,T)};function Oe(u,m){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var U=m;m=new N(T,u),nt(m,U)}U=!0;let B,tt;if(_)for(tt=_.length-1;tt>=0;tt--)B=m.g=_[tt],U=ss(B,T,!0,m)&&U;if(B=m.g=u,U=ss(B,T,!0,m)&&U,U=ss(B,T,!1,m)&&U,_)for(tt=0;tt<_.length;tt++)B=m.g=_[tt],U=ss(B,T,!1,m)&&U}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let T=0;T<_.length;T++)ft(_[T]);delete u.g[m],u.h--}}this.G=null},pe.prototype.J=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},pe.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function ss(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==_){const St=tt.listener,fe=tt.ha||tt.src;tt.fa&&_t(u.i,tt),U=St.call(fe,T)!==!1&&U}}return U&&!T.defaultPrevented}function bh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Yl(u){u.g=bh(()=>{u.g=null,u.i&&(u.i=!1,Yl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Je extends x{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Yl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sr(u){x.call(this),this.h=u,this.g={}}b(sr,x);var fo=[];function mo(u){Lt(u.g,function(m,_){this.g.hasOwnProperty(_)&&Xr(m)},u),u.g={}}sr.prototype.N=function(){sr.Z.N.call(this),mo(this)},sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rs=d.JSON.stringify,wh=d.JSON.parse,Kl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Xl(){}function Zl(){}var Un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){N.call(this,"d")}b(Pe,N);function Tn(){N.call(this,"c")}b(Tn,N);var he={},$l=null;function Zr(){return $l=$l||new pe}he.Ia="serverreachability";function Jl(u){N.call(this,he.Ia,u)}b(Jl,N);function Wn(u){const m=Zr();Oe(m,new Jl(m))}he.STAT_EVENT="statevent";function rr(u,m){N.call(this,he.STAT_EVENT,u),this.stat=m}b(rr,N);function ye(u){const m=Zr();Oe(m,new rr(m,u))}he.Ja="timingevent";function ti(u,m){N.call(this,he.Ja,u),this.size=m}b(ti,N);function ei(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Ln(){this.g=!0}Ln.prototype.ua=function(){this.g=!1};function Rh(u,m,_,T,U,B){u.info(function(){if(u.g)if(B){var tt="",St=B.split("&");for(let jt=0;jt<St.length;jt++){var fe=St[jt].split("=");if(fe.length>1){const re=fe[0];fe=fe[1];const wn=re.split("_");tt=wn.length>=2&&wn[1]=="type"?tt+(re+"="+fe+"&"):tt+(re+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+_+`
`+tt})}function Wl(u,m,_,T,U,B,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+_+`
`+B+" "+tt})}function ni(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ih(u,_)+(T?" "+T:"")})}function ar(u,m){u.info(function(){return"TIMEOUT: "+m})}Ln.prototype.info=function(){};function Ih(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var _=B[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return rs(B)}catch{return m}}var or={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},go={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},po;function lr(){}b(lr,Xl),lr.prototype.g=function(){return new XMLHttpRequest},po=new lr;function Ni(u){return encodeURIComponent(String(u))}function tu(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function Pn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.S=T||1,this.V=new sr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zn}function zn(){this.i=null,this.g="",this.h=!1}var _e={},Ve={};function ii(u,m,_){u.M=1,u.A=ur(Ee(m)),u.u=_,u.R=!0,$r(u,null)}function $r(u,m){u.F=Date.now(),si(u),u.B=Ee(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ea(_.i,"t",T),u.C=0,_=u.j.L,u.h=new zn,u.g=gu(u.j,_?m:null,!u.u),u.P>0&&(u.O=new Je(v(u.Y,u,u.g),u.P)),m=u.V,_=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(fo[0]=U.toString()),U=fo);for(let B=0;B<U.length;B++){const tt=se(_,U[B],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Wn(),Rh(u.i,u.v,u.B,u.l,u.S,u.u)}Pn.prototype.ba=function(u){u=u.target;const m=this.O;m&&qn(u)==3?m.j():this.Y(u)},Pn.prototype.Y=function(u){try{if(u==this.g)t:{const St=qn(this.g),fe=this.g.ya(),jt=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||St!=4||fe==7||(fe==8||jt<=0?Wn(3):Wn(2)),ri(this);var m=this.g.ca();this.X=m;var _=Ch(this);if(this.o=m==200,Wl(this.i,this.v,this.B,this.l,this.S,St,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(T)){var B=T;break e}}B=null}if(u=B)ni(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ai(this,u);else{this.o=!1,this.m=3,ye(12),hn(this),An(this);break t}}if(this.R){u=!0;let re;for(;!this.K&&this.C<_.length;)if(re=nu(this,_),re==Ve){St==4&&(this.m=4,ye(14),u=!1),ni(this.i,this.l,null,"[Incomplete Response]");break}else if(re==_e){this.m=4,ye(15),ni(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else ni(this.i,this.l,re,null),ai(this,re);if(eu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||_.length!=0||this.h.h||(this.m=1,ye(16),u=!1),this.o=this.o&&u,!u)ni(this.i,this.l,_,"[Invalid Chunked Response]"),hn(this),An(this);else if(_.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Oo(tt),tt.P=!0,ye(11))}}else ni(this.i,this.l,_,null),ai(this,_);St==4&&hn(this),this.o&&!this.K&&(St==4?hu(this.j,this):(this.o=!1,si(this)))}else Oi(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),hn(this),An(this)}}}catch{}};function Ch(u){if(!eu(u))return u.g.la();const m=ze(u.g);if(m==="")return"";let _="";const T=m.length,U=qn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return hn(u),An(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,_+=u.h.i.decode(m[B],{stream:!(U&&B==T-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function eu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function nu(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?Ve:(_=Number(m.substring(_,T)),isNaN(_)?_e:(T+=1,T+_>m.length?Ve:(m=m.slice(T,T+_),u.C=T+_,m)))}Pn.prototype.cancel=function(){this.K=!0,hn(this)};function si(u){u.T=Date.now()+u.H,Jr(u,u.H)}function Jr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ei(v(u.aa,u),m)}function ri(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Pn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ar(this.i,this.B),this.M!=2&&(Wn(),ye(17)),hn(this),this.m=2,An(this)):Jr(this,this.T-u)};function An(u){u.j.I==0||u.K||hu(u.j,u)}function hn(u){ri(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,mo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ai(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||li(_.h,u))){if(!u.L&&li(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)aa(_),ds(_);else break t;pr(_),ye(18)}}else _.xa=U[1],0<_.xa-_.K&&U[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ei(v(_.Va,_),6e3));oi(_.h)<=1&&_.ta&&(_.ta=void 0)}else mi(_,11)}else if((u.L||_.g==u)&&aa(_),!I(m))for(U=_.Ba.g.parse(m),m=0;m<U.length;m++){let jt=U[m];const re=jt[0];if(!(re<=_.K))if(_.K=re,jt=jt[1],_.I==2)if(jt[0]=="c"){_.M=jt[1],_.ba=jt[2];const wn=jt[3];wn!=null&&(_.ka=wn,_.j.info("VER="+_.ka));const gi=jt[4];gi!=null&&(_.za=gi,_.j.info("SVER="+_.za));const Hn=jt[5];Hn!=null&&typeof Hn=="number"&&Hn>0&&(T=1.5*Hn,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Fn=u.g;if(Fn){const yr=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yr){var B=T.h;B.g||yr.indexOf("spdy")==-1&&yr.indexOf("quic")==-1&&yr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(vo(B,B.h),B.h=null))}if(T.G){const oa=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;oa&&(T.wa=oa,Gt(T.J,T.G,oa))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var tt=u;if(T.na=mu(T,T.L?T.ba:null,T.W),tt.L){Eo(T.h,tt);var St=tt,fe=T.O;fe&&(St.H=fe),St.D&&(ri(St),si(St)),T.g=tt}else uu(T);_.i.length>0&&di(_)}else jt[0]!="stop"&&jt[0]!="close"||mi(_,7);else _.I==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?mi(_,7):No(_):jt[0]!="noop"&&_.l&&_.l.qa(jt),_.A=0)}}Wn(4)}catch{}}var ve=class{constructor(u,m){this.g=u,this.map=m}};function yo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _o(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function oi(u){return u.h?1:u.g?u.g.size:0}function li(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function vo(u,m){u.g?u.g.add(m):u.h=m}function Eo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}yo.prototype.cancel=function(){if(this.i=To(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function To(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return G(u.i)}var iu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wr(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let U,B=null;T>=0?(U=u[_].substring(0,T),B=u[_].substring(T+1)):U=u[_],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function fn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof fn?(this.l=u.l,ke(this,u.j),this.o=u.o,this.g=u.g,as(this,u.u),this.h=u.h,Ao(this,ou(u.i)),this.m=u.m):u&&(m=String(u).match(iu))?(this.l=!1,ke(this,m[1]||"",!0),this.o=ui(m[2]||""),this.g=ui(m[3]||"",!0),as(this,m[4]),this.h=ui(m[5]||"",!0),Ao(this,m[6]||"",!0),this.m=ui(m[7]||"")):(this.l=!1,this.i=new ls(null,this.l))}fn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(cr(m,ta,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(cr(m,ta,!0),"@"),u.push(Ni(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(cr(_,_.charAt(0)=="/"?So:su,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",cr(_,ru)),u.join("")},fn.prototype.resolve=function(u){const m=Ee(this);let _=!!u.j;_?ke(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var T=u.h;if(_)as(m,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let tt=0;tt<U.length;){const St=U[tt++];St=="."?T&&tt==U.length&&B.push(""):St==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&tt==U.length&&B.push("")):(B.push(St),T=!0)}T=B.join("/")}else T=U}return _?m.h=T:_=u.i.toString()!=="",_?Ao(m,ou(u.i)):_=!!u.m,_&&(m.m=u.m),m};function Ee(u){return new fn(u)}function ke(u,m,_){u.j=_?ui(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function as(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ao(u,m,_){m instanceof ls?(u.i=m,na(u.i,u.l)):(_||(m=cr(m,os)),u.i=new ls(m,u.l))}function Gt(u,m,_){u.i.set(m,_)}function ur(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ui(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function cr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,en),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function en(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ta=/[#\/\?@]/g,su=/[#\?:]/g,So=/[#\?]/g,os=/[#\?@]/g,ru=/#/g;function ls(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function nn(u){u.g||(u.g=new Map,u.h=0,u.i&&Wr(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=ls.prototype,r.add=function(u,m){nn(this),this.i=null,u=us(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function au(u,m){nn(u),m=us(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function bo(u,m){return nn(u),m=us(u,m),u.g.has(m)}r.forEach=function(u,m){nn(this),this.g.forEach(function(_,T){_.forEach(function(U){u.call(m,U,T,this)},this)},this)};function wo(u,m){nn(u);let _=[];if(typeof m=="string")bo(u,m)&&(_=_.concat(u.g.get(us(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}r.set=function(u,m){return nn(this),this.i=null,u=us(this,u),bo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=wo(this,u),u.length>0?String(u[0]):m):m};function ea(u,m,_){au(u,m),_.length>0&&(u.i=null,u.g.set(us(u,m),G(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var _=m[T];const U=Ni(_);_=wo(this,_);for(let B=0;B<_.length;B++){let tt=U;_[B]!==""&&(tt+="="+Ni(_[B])),u.push(tt)}}return this.i=u.join("&")};function ou(u){const m=new ls;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function us(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function na(u,m){m&&!u.j&&(nn(u),u.i=null,u.g.forEach(function(_,T){const U=T.toLowerCase();T!=U&&(au(this,T),ea(this,U,_))},u)),u.j=m}function jn(u,m){const _=new Ln;if(d.Image){const T=new Image;T.onload=A(Sn,_,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Sn,_,"TestLoadImage: error",!1,m,T),T.onabort=A(Sn,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Sn,_,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Ro(u,m){const _=new Ln,T=new AbortController,U=setTimeout(()=>{T.abort(),Sn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(U),B.ok?Sn(_,"TestPingServer: ok",!0,m):Sn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Sn(_,"TestPingServer: error",!1,m)})}function Sn(u,m,_,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(_)}catch{}}function cs(){this.g=new Kl}function ci(u){this.i=u.Sb||null,this.h=u.ab||!1}b(ci,Xl),ci.prototype.g=function(){return new hr(this.i,this.h)};function hr(u,m){pe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(hr,pe),r=hr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Bn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ia(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ia(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?hs(this):Bn(this),this.readyState==3&&ia(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,hs(this))},r.Na=function(u){this.g&&(this.response=u,hs(this))},r.ga=function(){this.g&&hs(this)};function hs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Bn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Bn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(hr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function bn(u){let m="";return Lt(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function fr(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=bn(_),typeof u=="string"?_!=null&&Ni(_):Gt(u,m,_))}function Kt(u){pe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Kt,pe);var hi=/^https?$/i,Io=["POST","PUT"];r=Kt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():po.g(),this.g.onreadystatechange=V(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){dr(this,B);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)_.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())_.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Io,m,void 0)>=0)||T||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of _)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){dr(this,B)}};function dr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Co(u),Di(u)}function Co(u){u.A||(u.A=!0,Oe(u,"complete"),Oe(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Oe(this,"complete"),Oe(this,"abort"),Di(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Di(this,!0)),Kt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?mr(this):this.Xa())},r.Xa=function(){mr(this)};function mr(u){if(u.h&&typeof c<"u"){if(u.v&&qn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Oe(u,"readystatechange"),qn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=B===0){let tt=String(u.D).match(iu)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),T=!hi.test(tt?tt.toLowerCase():"")}_=T}if(_)Oe(u,"complete"),Oe(u,"success");else{u.o=6;try{var U=qn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Co(u)}}finally{Di(u)}}}}function Di(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||Oe(u,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function qn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return qn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),wh(m)}};function ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Oi(u){const m={};u=(u.g&&qn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(I(u[T]))continue;var _=tu(u[T]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const B=m[U]||[];m[U]=B,B.push(_)}Ft(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function fi(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function fs(u){this.za=0,this.i=[],this.j=new Ln,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=fi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=fi("baseRetryDelayMs",5e3,u),this.Za=fi("retryDelaySeedMs",1e4,u),this.Ta=fi("forwardChannelMaxRetries",2,u),this.va=fi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new yo(u&&u.concurrentRequestLimit),this.Ba=new cs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=fs.prototype,r.ka=8,r.I=1,r.connect=function(u,m,_,T){ye(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=mu(this,null,this.W),di(this)};function No(u){if(sa(u),u.I==3){var m=u.V++,_=Ee(u.J);if(Gt(_,"SID",u.M),Gt(_,"RID",m),Gt(_,"TYPE","terminate"),gr(u,_),m=new Pn(u,u.j,m),m.M=2,m.A=ur(Ee(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=gu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),si(m)}du(u)}function ds(u){u.g&&(Oo(u),u.g.cancel(),u.g=null)}function sa(u){ds(u),u.v&&(d.clearTimeout(u.v),u.v=null),aa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function di(u){if(!_o(u.h)&&!u.m){u.m=!0;var m=u.Ea;ot||S(),ut||(ot(),ut=!0),w.add(m,u),u.D=0}}function ra(u,m){return oi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ei(v(u.Ea,u,m),fu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Pn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),nt(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=lu(this,U,m),_=Ee(this.J),Gt(_,"RID",u),Gt(_,"CVER",22),this.G&&Gt(_,"X-HTTP-Session-Id",this.G),gr(this,_),B&&(this.R?m="headers="+Ni(bn(B))+"&"+m:this.u&&fr(_,this.u,B)),vo(this.h,U),this.Ra&&Gt(_,"TYPE","init"),this.S?(Gt(_,"$req",m),Gt(_,"SID","null"),U.U=!0,ii(U,_,null)):ii(U,_,m),this.I=2}}else this.I==3&&(u?Do(this,u):this.i.length==0||_o(this.h)||Do(this))};function Do(u,m){var _;m?_=m.l:_=u.V++;const T=Ee(u.J);Gt(T,"SID",u.M),Gt(T,"RID",_),Gt(T,"AID",u.K),gr(u,T),u.u&&u.o&&fr(T,u.u,u.o),_=new Pn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=lu(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),vo(u.h,_),ii(_,T,m)}function gr(u,m){u.H&&Lt(u.H,function(_,T){Gt(m,T,_)}),u.l&&Lt({},function(_,T){Gt(m,T,_)})}function lu(u,m,_){_=Math.min(u.i.length,_);const T=u.l?v(u.l.Ka,u.l,u):null;t:{var U=u.i;let St=-1;for(;;){const fe=["count="+_];St==-1?_>0?(St=U[0].g,fe.push("ofs="+St)):St=0:fe.push("ofs="+St);let jt=!0;for(let re=0;re<_;re++){var B=U[re].g;const wn=U[re].map;if(B-=St,B<0)St=Math.max(0,U[re].g-100),jt=!1;else try{B="req"+B+"_"||"";try{var tt=wn instanceof Map?wn:Object.entries(wn);for(const[gi,Hn]of tt){let Fn=Hn;p(Hn)&&(Fn=rs(Hn)),fe.push(B+gi+"="+encodeURIComponent(Fn))}}catch(gi){throw fe.push(B+"type="+encodeURIComponent("_badmap")),gi}}catch{T&&T(wn)}}if(jt){tt=fe.join("&");break t}}tt=void 0}return u=u.i.splice(0,_),m.G=u,tt}function uu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ot||S(),ut||(ot(),ut=!0),w.add(m,u),u.A=0}}function pr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ei(v(u.Da,u),fu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,cu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ei(v(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),ds(this),cu(this))};function Oo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function cu(u){u.g=new Pn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ee(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),gr(u,m),u.u&&u.o&&fr(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=ur(Ee(m)),_.u=null,_.R=!0,$r(_,u)}r.Va=function(){this.C!=null&&(this.C=null,ds(this),pr(this),ye(19))};function aa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function hu(u,m){var _=null;if(u.g==m){aa(u),Oo(u),u.g=null;var T=2}else if(li(u.h,m))_=m.G,Eo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=Zr(),Oe(T,new ti(T,_)),di(u)}else uu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&ra(u,m)||T==2&&pr(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),U){case 1:mi(u,5);break;case 4:mi(u,10);break;case 3:mi(u,6);break;default:mi(u,2)}}}function fu(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function mi(u,m){if(u.j.info("Error code "+m),m==2){var _=v(u.bb,u),T=u.Ua;const U=!T;T=new fn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ke(T,"https"),ur(T),U?jn(T.toString(),_):Ro(T.toString(),_)}else ye(2);u.I=0,u.l&&u.l.pa(m),du(u),sa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function du(u){if(u.I=0,u.ja=[],u.l){const m=To(u.h);(m.length!=0||u.i.length!=0)&&($(u.ja,m),$(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function mu(u,m,_){var T=_ instanceof fn?Ee(_):new fn(_);if(T.g!="")m&&(T.g=m+"."+T.g),as(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new fn(null);T&&ke(B,T),m&&(B.g=m),U&&as(B,U),_&&(B.h=_),T=B}return _=u.G,m=u.wa,_&&m&&Gt(T,_,m),Gt(T,"VER",u.ka),gr(u,T),T}function gu(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Kt(new ci({ab:_})):new Kt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function pu(){}r=pu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ms(){}ms.prototype.g=function(u,m){return new We(u,m)};function We(u,m){pe.call(this),this.g=new fs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!I(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!I(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new xi(this)}b(We,pe),We.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){No(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=rs(u),u=_);m.i.push(new ve(m.Ya++,u)),m.I==3&&di(m)},We.prototype.N=function(){this.g.l=null,delete this.j,No(this.g),delete this.g,We.Z.N.call(this)};function yu(u){Pe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(yu,Pe);function _u(){Tn.call(this),this.status=1}b(_u,Tn);function xi(u){this.g=u}b(xi,pu),xi.prototype.ra=function(){Oe(this.g,"a")},xi.prototype.qa=function(u){Oe(this.g,new yu(u))},xi.prototype.pa=function(u){Oe(this.g,new _u)},xi.prototype.oa=function(){Oe(this.g,"b")},ms.prototype.createWebChannel=ms.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,V0=function(){return new ms},M0=function(){return Zr()},x0=he,Yd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},or.NO_ERROR=0,or.TIMEOUT=8,or.HTTP_ERROR=6,Oc=or,go.COMPLETE="complete",O0=go,Zl.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",pe.prototype.listen=pe.prototype.J,pl=Zl,Kt.prototype.listenOnce=Kt.prototype.K,Kt.prototype.getLastError=Kt.prototype.Ha,Kt.prototype.getLastErrorCode=Kt.prototype.ya,Kt.prototype.getStatus=Kt.prototype.ca,Kt.prototype.getResponseJson=Kt.prototype.La,Kt.prototype.getResponseText=Kt.prototype.la,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Fa,D0=Kt}).apply(typeof Ac<"u"?Ac:typeof self<"u"?self:typeof window<"u"?window:{});const Q_="@firebase/firestore",Y_="4.9.3";class Xe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");let io="12.7.0";const jr=new mm("@firebase/firestore");function La(){return jr.logLevel}function it(r,...t){if(jr.logLevel<=Ot.DEBUG){const i=t.map(ym);jr.debug(`Firestore (${io}): ${r}`,...i)}}function Wi(r,...t){if(jr.logLevel<=Ot.ERROR){const i=t.map(ym);jr.error(`Firestore (${io}): ${r}`,...i)}}function Xa(r,...t){if(jr.logLevel<=Ot.WARN){const i=t.map(ym);jr.warn(`Firestore (${io}): ${r}`,...i)}}function ym(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function pt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,k0(r,a,i)}function k0(r,t,i){let a=`FIRESTORE (${io}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Wi(a),new Error(a)}function Ht(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||k0(t,l,a)}function At(r,t){return r}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends is{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class kr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class U0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class db{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class mb{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class gb{constructor(t){this.t=t,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ht(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new kr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new kr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new kr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ht(typeof a.accessToken=="string",31837,{l:a}),new U0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new Xe(t)}}class pb{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yb{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new pb(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class K_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _b{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ht(this.o===void 0,3512);const a=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new K_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new K_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function vb(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class _m{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=vb(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function xt(r,t){return r<t?-1:r>t?1:0}function Kd(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return Vd(l)===Vd(c)?xt(l,c):Vd(l)?1:-1}return xt(r.length,t.length)}const Eb=55296,Tb=57343;function Vd(r){const t=r.charCodeAt(0);return t>=Eb&&t<=Tb}function Za(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const X_="__name__";class Ei{constructor(t,i,a){i===void 0?i=0:i>t.length&&pt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&pt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ei.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ei?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ei.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return xt(t.length,i.length)}static compareSegments(t,i){const a=Ei.isNumericId(t),l=Ei.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ei.extractNumericId(t).compare(Ei.extractNumericId(i)):Kd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Qs.fromString(t.substring(4,t.length-2))}}class Wt extends Ei{construct(t,i,a){return new Wt(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new rt(X.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new Wt(i)}static emptyPath(){return new Wt([])}}const Ab=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends Ei{construct(t,i,a){return new Ge(t,i,a)}static isValidIdentifier(t){return Ab.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===X_}static keyField(){return new Ge([X_])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new rt(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new rt(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new rt(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new rt(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ge(i)}static emptyPath(){return new Ge([])}}class ht{constructor(t){this.path=t}static fromPath(t){return new ht(Wt.fromString(t))}static fromName(t){return new ht(Wt.fromString(t).popFirst(5))}static empty(){return new ht(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Wt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Wt.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new Wt(t.slice()))}}function L0(r,t,i){if(!i)throw new rt(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function Sb(r,t,i,a){if(t===!0&&a===!0)throw new rt(X.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Z_(r){if(!ht.isDocumentKey(r))throw new rt(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function $_(r){if(ht.isDocumentKey(r))throw new rt(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function P0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function oh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":pt(12329,{type:typeof r})}function Ur(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new rt(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=oh(r);throw new rt(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ie(r,t){const i={typeString:r};return t&&(i.value=t),i}function Pl(r,t){if(!P0(r))throw new rt(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new rt(X.INVALID_ARGUMENT,i);return!0}const J_=-62135596800,W_=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(t){return ne.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*W_);return new ne(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new rt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<J_)throw new rt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/W_}_compareTo(t){return this.seconds===t.seconds?xt(this.nanoseconds,t.nanoseconds):xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Pl(t,ne._jsonSchema))return new ne(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-J_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:Ie("string",ne._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new ne(0,0))}static max(){return new vt(new ne(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Il=-1;function bb(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=vt.fromTimestamp(a===1e9?new ne(i+1,0):new ne(i,a));return new Xs(l,ht.empty(),t)}function wb(r){return new Xs(r.readTime,r.key,Il)}class Xs{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Xs(vt.min(),ht.empty(),Il)}static max(){return new Xs(vt.max(),ht.empty(),Il)}}function Rb(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ht.comparator(r.documentKey,t.documentKey),i!==0?i:xt(r.largestBatchId,t.largestBatchId))}const Ib="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Cb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function so(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==Ib)throw r;it("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.reject(i)}static resolve(t){return new Z(((i,a)=>{i(t)}))}static reject(t){return new Z(((i,a)=>{a(t)}))}static waitFor(t){return new Z(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>a(y)))})),d=!0,c===l&&i()}))}static or(t){let i=Z.resolve(!1);for(const a of t)i=i.next((l=>l?Z.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new Z(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const v=y;i(t[v]).next((A=>{d[v]=A,++p,p===c&&a(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new Z(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function Nb(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ro(r){return r.name==="IndexedDbTransactionError"}class lh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}lh.ce=-1;const vm=-1;function uh(r){return r==null}function Hc(r){return r===0&&1/r==-1/0}function Db(r){return typeof r=="number"&&Number.isInteger(r)&&!Hc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const z0="";function Ob(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=tv(t)),t=xb(r.get(i),t);return tv(t)}function xb(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case z0:i+="";break;default:i+=c}}return i}function tv(r){return r+z0+""}function ev(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Hr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function j0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class le{constructor(t,i){this.comparator=t,this.root=i||Fe.EMPTY}insert(t,i){return new le(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Sc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Sc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Sc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Sc(this.root,t,this.comparator,!0)}}class Sc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fe{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Fe.RED,this.left=l??Fe.EMPTY,this.right=c??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Fe(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Fe.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw pt(27949);return t+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Fe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new nv(this.data.getIterator())}getIteratorFrom(t){return new nv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class nv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Xn{constructor(t){this.fields=t,t.sort(Ge.comparator)}static empty(){return new Xn([])}unionWith(t){let i=new Me(Ge.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Xn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Za(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class B0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new B0("Invalid base64 string: "+c):c}})(t);return new Qe(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Qe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const Mb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zs(r){if(Ht(!!r,39018),typeof r=="string"){let t=0;const i=Mb.exec(r);if(Ht(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function $s(r){return typeof r=="string"?Qe.fromBase64String(r):Qe.fromUint8Array(r)}const q0="server_timestamp",H0="__type__",F0="__previous_value__",G0="__local_write_time__";function Em(r){return(r?.mapValue?.fields||{})[H0]?.stringValue===q0}function ch(r){const t=r.mapValue.fields[F0];return Em(t)?ch(t):t}function Cl(r){const t=Zs(r.mapValue.fields[G0].timestampValue);return new ne(t.seconds,t.nanos)}class Vb{constructor(t,i,a,l,c,d,p,y,v,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=v,this.isUsingEmulator=A}}const Fc="(default)";class Nl{constructor(t,i){this.projectId=t,this.database=i||Fc}static empty(){return new Nl("","")}get isDefaultDatabase(){return this.database===Fc}isEqual(t){return t instanceof Nl&&t.projectId===this.projectId&&t.database===this.database}}const Q0="__type__",kb="__max__",bc={mapValue:{}},Y0="__vector__",Gc="value";function Js(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Em(r)?4:Lb(r)?9007199254740991:Ub(r)?10:11:pt(28295,{value:r})}function Ci(r,t){if(r===t)return!0;const i=Js(r);if(i!==Js(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Cl(r).isEqual(Cl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Zs(l.timestampValue),p=Zs(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return $s(l.bytesValue).isEqual($s(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return ge(l.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ge(l.integerValue)===ge(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ge(l.doubleValue),p=ge(c.doubleValue);return d===p?Hc(d)===Hc(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return Za(r.arrayValue.values||[],t.arrayValue.values||[],Ci);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(ev(d)!==ev(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Ci(d[y],p[y])))return!1;return!0})(r,t);default:return pt(52216,{left:r})}}function Dl(r,t){return(r.values||[]).find((i=>Ci(i,t)))!==void 0}function $a(r,t){if(r===t)return 0;const i=Js(r),a=Js(t);if(i!==a)return xt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return xt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=ge(c.integerValue||c.doubleValue),y=ge(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,t);case 3:return iv(r.timestampValue,t.timestampValue);case 4:return iv(Cl(r),Cl(t));case 5:return Kd(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=$s(c),y=$s(d);return p.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let v=0;v<p.length&&v<y.length;v++){const A=xt(p[v],y[v]);if(A!==0)return A}return xt(p.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=xt(ge(c.latitude),ge(d.latitude));return p!==0?p:xt(ge(c.longitude),ge(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return sv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},v=p[Gc]?.arrayValue,A=y[Gc]?.arrayValue,b=xt(v?.values?.length||0,A?.values?.length||0);return b!==0?b:sv(v,A)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===bc.mapValue&&d===bc.mapValue)return 0;if(c===bc.mapValue)return 1;if(d===bc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),v=d.fields||{},A=Object.keys(v);y.sort(),A.sort();for(let b=0;b<y.length&&b<A.length;++b){const V=Kd(y[b],A[b]);if(V!==0)return V;const G=$a(p[y[b]],v[A[b]]);if(G!==0)return G}return xt(y.length,A.length)})(r.mapValue,t.mapValue);default:throw pt(23264,{he:i})}}function iv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return xt(r,t);const i=Zs(r),a=Zs(t),l=xt(i.seconds,a.seconds);return l!==0?l:xt(i.nanos,a.nanos)}function sv(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=$a(i[l],a[l]);if(c)return c}return xt(i.length,a.length)}function Ja(r){return Xd(r)}function Xd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Zs(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return $s(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ht.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=Xd(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${Xd(i.fields[d])}`;return l+"}"})(r.mapValue):pt(61005,{value:r})}function xc(r){switch(Js(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ch(r);return t?16+xc(t):16;case 5:return 2*r.stringValue.length;case 6:return $s(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+xc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return Hr(a.fields,((c,d)=>{l+=c.length+xc(d)})),l})(r.mapValue);default:throw pt(13486,{value:r})}}function rv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Zd(r){return!!r&&"integerValue"in r}function Tm(r){return!!r&&"arrayValue"in r}function av(r){return!!r&&"nullValue"in r}function ov(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Mc(r){return!!r&&"mapValue"in r}function Ub(r){return(r?.mapValue?.fields||{})[Q0]?.stringValue===Y0}function Tl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Hr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Tl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Tl(r.arrayValue.values[i]);return t}return{...r}}function Lb(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===kb}class Vn{constructor(t){this.value=t}static empty(){return new Vn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Mc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Tl(i)}setAll(t){let i=Ge.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Tl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Mc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ci(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Mc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){Hr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new Vn(Tl(this.value))}}function K0(r){const t=[];return Hr(r.fields,((i,a)=>{const l=new Ge([i]);if(Mc(a)){const c=K0(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Xn(t)}class Ze{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Ze(t,0,vt.min(),vt.min(),vt.min(),Vn.empty(),0)}static newFoundDocument(t,i,a,l){return new Ze(t,1,i,vt.min(),a,l,0)}static newNoDocument(t,i){return new Ze(t,2,i,vt.min(),vt.min(),Vn.empty(),0)}static newUnknownDocument(t,i){return new Ze(t,3,i,vt.min(),vt.min(),Vn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Qc{constructor(t,i){this.position=t,this.inclusive=i}}function lv(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=ht.comparator(ht.fromName(d.referenceValue),i.key):a=$a(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function uv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ci(r.position[i],t.position[i]))return!1;return!0}class Yc{constructor(t,i="asc"){this.field=t,this.dir=i}}function Pb(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class X0{}class Re extends X0{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new jb(t,i,a):i==="array-contains"?new Hb(t,a):i==="in"?new Fb(t,a):i==="not-in"?new Gb(t,a):i==="array-contains-any"?new Qb(t,a):new Re(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new Bb(t,a):new qb(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison($a(i,this.value)):i!==null&&Js(this.value)===Js(i)&&this.matchesComparison($a(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $n extends X0{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new $n(t,i)}matches(t){return Z0(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Z0(r){return r.op==="and"}function $0(r){return zb(r)&&Z0(r)}function zb(r){for(const t of r.filters)if(t instanceof $n)return!1;return!0}function $d(r){if(r instanceof Re)return r.field.canonicalString()+r.op.toString()+Ja(r.value);if($0(r))return r.filters.map((t=>$d(t))).join(",");{const t=r.filters.map((i=>$d(i))).join(",");return`${r.op}(${t})`}}function J0(r,t){return r instanceof Re?(function(a,l){return l instanceof Re&&a.op===l.op&&a.field.isEqual(l.field)&&Ci(a.value,l.value)})(r,t):r instanceof $n?(function(a,l){return l instanceof $n&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&J0(d,l.filters[p])),!0):!1})(r,t):void pt(19439)}function W0(r){return r instanceof Re?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ja(i.value)}`})(r):r instanceof $n?(function(i){return i.op.toString()+" {"+i.getFilters().map(W0).join(" ,")+"}"})(r):"Filter"}class jb extends Re{constructor(t,i,a){super(t,i,a),this.key=ht.fromName(a.referenceValue)}matches(t){const i=ht.comparator(t.key,this.key);return this.matchesComparison(i)}}class Bb extends Re{constructor(t,i){super(t,"in",i),this.keys=tE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class qb extends Re{constructor(t,i){super(t,"not-in",i),this.keys=tE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function tE(r,t){return(t.arrayValue?.values||[]).map((i=>ht.fromName(i.referenceValue)))}class Hb extends Re{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Tm(i)&&Dl(i.arrayValue,this.value)}}class Fb extends Re{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Dl(this.value.arrayValue,i)}}class Gb extends Re{constructor(t,i){super(t,"not-in",i)}matches(t){if(Dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Dl(this.value.arrayValue,i)}}class Qb extends Re{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Tm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Dl(this.value.arrayValue,a)))}}class Yb{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function cv(r,t=null,i=[],a=[],l=null,c=null,d=null){return new Yb(r,t,i,a,l,c,d)}function Am(r){const t=At(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>$d(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),uh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Ja(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Ja(a))).join(",")),t.Te=i}return t.Te}function Sm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Pb(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!J0(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!uv(r.startAt,t.startAt)&&uv(r.endAt,t.endAt)}function Jd(r){return ht.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class zl{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Kb(r,t,i,a,l,c,d,p){return new zl(r,t,i,a,l,c,d,p)}function bm(r){return new zl(r)}function hv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function eE(r){return r.collectionGroup!==null}function Al(r){const t=At(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Me(Ge.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Yc(c,a))})),i.has(Ge.keyField().canonicalString())||t.Ie.push(new Yc(Ge.keyField(),a))}return t.Ie}function Ti(r){const t=At(r);return t.Ee||(t.Ee=Xb(t,Al(r))),t.Ee}function Xb(r,t){if(r.limitType==="F")return cv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Yc(l.field,c)}));const i=r.endAt?new Qc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Qc(r.startAt.position,r.startAt.inclusive):null;return cv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function Wd(r,t){const i=r.filters.concat([t]);return new zl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function tm(r,t,i){return new zl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function hh(r,t){return Sm(Ti(r),Ti(t))&&r.limitType===t.limitType}function nE(r){return`${Am(Ti(r))}|lt:${r.limitType}`}function Pa(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>W0(l))).join(", ")}]`),uh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Ja(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Ja(l))).join(",")),`Target(${a})`})(Ti(r))}; limitType=${r.limitType})`}function fh(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ht.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of Al(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,y){const v=lv(d,p,y);return d.inclusive?v<=0:v<0})(a.startAt,Al(a),l)||a.endAt&&!(function(d,p,y){const v=lv(d,p,y);return d.inclusive?v>=0:v>0})(a.endAt,Al(a),l))})(r,t)}function Zb(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function iE(r){return(t,i)=>{let a=!1;for(const l of Al(r)){const c=$b(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function $b(r,t,i){const a=r.field.isKeyField()?ht.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),v=p.data.field(c);return y!==null&&v!==null?$a(y,v):pt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return pt(19790,{direction:r.dir})}}class Fr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Hr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return j0(this.inner)}size(){return this.innerSize}}const Jb=new le(ht.comparator);function ts(){return Jb}const sE=new le(ht.comparator);function yl(...r){let t=sE;for(const i of r)t=t.insert(i.key,i);return t}function rE(r){let t=sE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Vr(){return Sl()}function aE(){return Sl()}function Sl(){return new Fr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const Wb=new le(ht.comparator),tw=new Me(ht.comparator);function Mt(...r){let t=tw;for(const i of r)t=t.add(i);return t}const ew=new Me(xt);function nw(){return ew}function wm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hc(t)?"-0":t}}function oE(r){return{integerValue:""+r}}function iw(r,t){return Db(t)?oE(t):wm(r,t)}class dh{constructor(){this._=void 0}}function sw(r,t,i){return r instanceof Ol?(function(l,c){const d={fields:{[H0]:{stringValue:q0},[G0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Em(c)&&(c=ch(c)),c&&(d.fields[F0]=c),{mapValue:d}})(i,t):r instanceof xl?uE(r,t):r instanceof Ml?cE(r,t):(function(l,c){const d=lE(l,c),p=fv(d)+fv(l.Ae);return Zd(d)&&Zd(l.Ae)?oE(p):wm(l.serializer,p)})(r,t)}function rw(r,t,i){return r instanceof xl?uE(r,t):r instanceof Ml?cE(r,t):i}function lE(r,t){return r instanceof Kc?(function(a){return Zd(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Ol extends dh{}class xl extends dh{constructor(t){super(),this.elements=t}}function uE(r,t){const i=hE(t);for(const a of r.elements)i.some((l=>Ci(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ml extends dh{constructor(t){super(),this.elements=t}}function cE(r,t){let i=hE(t);for(const a of r.elements)i=i.filter((l=>!Ci(l,a)));return{arrayValue:{values:i}}}class Kc extends dh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function fv(r){return ge(r.integerValue||r.doubleValue)}function hE(r){return Tm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class aw{constructor(t,i){this.field=t,this.transform=i}}function ow(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof xl&&l instanceof xl||a instanceof Ml&&l instanceof Ml?Za(a.elements,l.elements,Ci):a instanceof Kc&&l instanceof Kc?Ci(a.Ae,l.Ae):a instanceof Ol&&l instanceof Ol})(r.transform,t.transform)}class lw{constructor(t,i){this.version=t,this.transformResults=i}}class Ai{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Ai}static exists(t){return new Ai(void 0,t)}static updateTime(t){return new Ai(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Vc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class mh{}function fE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new mE(r.key,Ai.none()):new jl(r.key,r.data,Ai.none());{const i=r.data,a=Vn.empty();let l=new Me(Ge.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Gr(r.key,a,new Xn(l.toArray()),Ai.none())}}function uw(r,t,i){r instanceof jl?(function(l,c,d){const p=l.value.clone(),y=mv(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof Gr?(function(l,c,d){if(!Vc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=mv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(dE(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function bl(r,t,i,a){return r instanceof jl?(function(c,d,p,y){if(!Vc(c.precondition,d))return p;const v=c.value.clone(),A=gv(c.fieldTransforms,y,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(r,t,i,a):r instanceof Gr?(function(c,d,p,y){if(!Vc(c.precondition,d))return p;const v=gv(c.fieldTransforms,y,d),A=d.data;return A.setAll(dE(c)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(r,t,i,a):(function(c,d,p){return Vc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function cw(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=lE(a.transform,l||null);c!=null&&(i===null&&(i=Vn.empty()),i.set(a.field,c))}return i||null}function dv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Za(a,l,((c,d)=>ow(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class jl extends mh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Gr extends mh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function dE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function mv(r,t,i){const a=new Map;Ht(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,rw(d,p,i[l]))}return a}function gv(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,sw(c,d,t))}return a}class mE extends mh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hw extends mh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fw{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&uw(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=bl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=bl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=aE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=fE(d,p);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(vt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Mt())}isEqual(t){return this.batchId===t.batchId&&Za(this.mutations,t.mutations,((i,a)=>dv(i,a)))&&Za(this.baseMutations,t.baseMutations,((i,a)=>dv(i,a)))}}class Rm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Ht(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return Wb})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Rm(t,i,a,l)}}class dw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class mw{constructor(t,i){this.count=t,this.unchangedNames=i}}var we,Ut;function gw(r){switch(r){case X.OK:return pt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return pt(15467,{code:r})}}function gE(r){if(r===void 0)return Wi("GRPC error has no .code"),X.UNKNOWN;switch(r){case we.OK:return X.OK;case we.CANCELLED:return X.CANCELLED;case we.UNKNOWN:return X.UNKNOWN;case we.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case we.INTERNAL:return X.INTERNAL;case we.UNAVAILABLE:return X.UNAVAILABLE;case we.UNAUTHENTICATED:return X.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case we.NOT_FOUND:return X.NOT_FOUND;case we.ALREADY_EXISTS:return X.ALREADY_EXISTS;case we.PERMISSION_DENIED:return X.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case we.ABORTED:return X.ABORTED;case we.OUT_OF_RANGE:return X.OUT_OF_RANGE;case we.UNIMPLEMENTED:return X.UNIMPLEMENTED;case we.DATA_LOSS:return X.DATA_LOSS;default:return pt(39323,{code:r})}}(Ut=we||(we={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";function pw(){return new TextEncoder}const yw=new Qs([4294967295,4294967295],0);function pv(r){const t=pw().encode(r),i=new N0;return i.update(t),new Uint8Array(i.digest())}function yv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Qs([i,a],0),new Qs([l,c],0)]}class Im{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new _l(`Invalid padding: ${i}`);if(a<0)throw new _l(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new _l(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new _l(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Qs.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Qs.fromNumber(a)));return l.compare(yw)===1&&(l=new Qs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=pv(t),[a,l]=yv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Im(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=pv(t),[a,l]=yv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class _l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class gh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Bl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new gh(vt.min(),l,new le(xt),ts(),Mt())}}class Bl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Bl(a,i,Mt(),Mt(),Mt())}}class kc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class pE{constructor(t,i){this.targetId=t,this.Ce=i}}class yE{constructor(t,i,a=Qe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class _v{constructor(){this.ve=0,this.Fe=vv(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Mt(),i=Mt(),a=Mt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:pt(38017,{changeType:c})}})),new Bl(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=vv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class _w{constructor(t){this.Ge=t,this.ze=new Map,this.je=ts(),this.Je=wc(),this.He=wc(),this.Ye=new le(xt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:pt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Jd(c))if(a===0){const d=new ht(c.path);this.et(i,d,Ze.newNoDocument(d,vt.min()))}else Ht(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=$s(a).toUint8Array()}catch(y){if(y instanceof B0)return Xa("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Im(d,l,c)}catch(y){return Xa(y instanceof _l?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Jd(p.target)){const y=new ht(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Ze.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Mt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const v=this.ot(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new gh(t,i,this.Ye,this.je,a);return this.je=ts(),this.Je=wc(),this.He=wc(),this.Ye=new le(xt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new _v,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Me(xt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Me(xt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||it("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new _v),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function wc(){return new le(ht.comparator)}function vv(){return new le(ht.comparator)}const vw={asc:"ASCENDING",desc:"DESCENDING"},Ew={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Tw={and:"AND",or:"OR"};class Aw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function em(r,t){return r.useProto3Json||uh(t)?t:{value:t}}function Xc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function _E(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Sw(r,t){return Xc(r,t.toTimestamp())}function Si(r){return Ht(!!r,49232),vt.fromTimestamp((function(i){const a=Zs(i);return new ne(a.seconds,a.nanos)})(r))}function Cm(r,t){return nm(r,t).canonicalString()}function nm(r,t){const i=(function(l){return new Wt(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function vE(r){const t=Wt.fromString(r);return Ht(bE(t),10190,{key:t.toString()}),t}function im(r,t){return Cm(r.databaseId,t.path)}function kd(r,t){const i=vE(t);if(i.get(1)!==r.databaseId.projectId)throw new rt(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new rt(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ht(TE(i))}function EE(r,t){return Cm(r.databaseId,t)}function bw(r){const t=vE(r);return t.length===4?Wt.emptyPath():TE(t)}function sm(r){return new Wt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function TE(r){return Ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Ev(r,t,i){return{name:im(r,t),fields:i.value.mapValue.fields}}function ww(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:pt(39313,{state:v})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(v,A){return v.useProto3Json?(Ht(A===void 0||typeof A=="string",58123),Qe.fromBase64String(A||"")):(Ht(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Qe.fromUint8Array(A||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(v){const A=v.code===void 0?X.UNKNOWN:gE(v.code);return new rt(A,v.message||"")})(d);i=new yE(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=kd(r,a.document.name),c=Si(a.document.updateTime),d=a.document.createTime?Si(a.document.createTime):vt.min(),p=new Vn({mapValue:{fields:a.document.fields}}),y=Ze.newFoundDocument(l,c,d,p),v=a.targetIds||[],A=a.removedTargetIds||[];i=new kc(v,A,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=kd(r,a.document),c=a.readTime?Si(a.readTime):vt.min(),d=Ze.newNoDocument(l,c),p=a.removedTargetIds||[];i=new kc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=kd(r,a.document),c=a.removedTargetIds||[];i=new kc([],c,l,null)}else{if(!("filter"in t))return pt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new mw(l,c),p=a.targetId;i=new pE(p,d)}}return i}function Rw(r,t){let i;if(t instanceof jl)i={update:Ev(r,t.key,t.value)};else if(t instanceof mE)i={delete:im(r,t.key)};else if(t instanceof Gr)i={update:Ev(r,t.key,t.data),updateMask:kw(t.fieldMask)};else{if(!(t instanceof hw))return pt(16599,{Vt:t.type});i={verify:im(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof Ol)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof xl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ml)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Kc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw pt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Sw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pt(27497)})(r,t.precondition)),i}function Iw(r,t){return r&&r.length>0?(Ht(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Si(l.updateTime):Si(c);return d.isEqual(vt.min())&&(d=Si(c)),new lw(d,l.transformResults||[])})(i,t)))):[]}function Cw(r,t){return{documents:[EE(r,t.path)]}}function Nw(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=EE(r,l);const c=(function(v){if(v.length!==0)return SE($n.create(v,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(v){if(v.length!==0)return v.map((A=>(function(V){return{field:za(V.field),direction:xw(V.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=em(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{ft:i,parent:l}}function Dw(r){let t=bw(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Ht(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(b){const V=AE(b);return V instanceof $n&&$0(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((V=>(function($){return new Yc(ja($.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(V)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let V;return V=typeof b=="object"?b.value:b,uh(V)?null:V})(i.limit));let y=null;i.startAt&&(y=(function(b){const V=!!b.before,G=b.values||[];return new Qc(G,V)})(i.startAt));let v=null;return i.endAt&&(v=(function(b){const V=!b.before,G=b.values||[];return new Qc(G,V)})(i.endAt)),Kb(t,l,d,c,p,"F",y,v)}function Ow(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function AE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ja(i.unaryFilter.field);return Re.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=ja(i.unaryFilter.field);return Re.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ja(i.unaryFilter.field);return Re.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ja(i.unaryFilter.field);return Re.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Re.create(ja(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return $n.create(i.compositeFilter.filters.map((a=>AE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(i.compositeFilter.op))})(r):pt(30097,{filter:r})}function xw(r){return vw[r]}function Mw(r){return Ew[r]}function Vw(r){return Tw[r]}function za(r){return{fieldPath:r.canonicalString()}}function ja(r){return Ge.fromServerFormat(r.fieldPath)}function SE(r){return r instanceof Re?(function(i){if(i.op==="=="){if(ov(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NAN"}};if(av(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(ov(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NOT_NAN"}};if(av(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(i.field),op:Mw(i.op),value:i.value}}})(r):r instanceof $n?(function(i){const a=i.getFilters().map((l=>SE(l)));return a.length===1?a[0]:{compositeFilter:{op:Vw(i.op),filters:a}}})(r):pt(54877,{filter:r})}function kw(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function bE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class qs{constructor(t,i,a,l,c=vt.min(),d=vt.min(),p=Qe.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new qs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Uw{constructor(t){this.yt=t}}function Lw(r){const t=Dw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?tm(t,t.limit,"L"):t}class Pw{constructor(){this.Cn=new zw}addToCollectionParentIndex(t,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve(Xs.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve(Xs.min())}updateCollectionGroup(t,i,a){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class zw{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Me(Wt.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Me(Wt.comparator)).toArray()}}const Tv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wE=41943040;class un{static withCacheSize(t){return new un(t,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(wE,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);class Wa{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Wa(0)}static cr(){return new Wa(-1)}}const Av="LruGarbageCollector",jw=1048576;function Sv([r,t],[i,a]){const l=xt(r,i);return l===0?xt(t,a):l}class Bw{constructor(t){this.Ir=t,this.buffer=new Me(Sv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Sv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class qw{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){it(Av,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ro(i)?it(Av,"Ignoring IndexedDB error during garbage collection: ",i):await so(i)}await this.Vr(3e5)}))}}class Hw{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return Z.resolve(lh.ce);const a=new Bw(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Tv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Tv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,y,v;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(a=b,p=Date.now(),this.removeTargets(t,a,i)))).next((b=>(c=b,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((b=>(v=Date.now(),La()<=Ot.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${b} documents in `+(v-y)+`ms
Total Duration: ${v-A}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function Fw(r,t){return new Hw(r,t)}class Gw{constructor(){this.changes=new Fr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Qw{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class Yw{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&bl(a.mutation,l,Xn.empty(),ne.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Mt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Mt()){const l=Vr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=yl();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Vr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Mt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=ts();const d=Sl(),p=(function(){return Sl()})();return i.forEach(((y,v)=>{const A=a.get(v.key);l.has(v.key)&&(A===void 0||A.mutation instanceof Gr)?c=c.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),bl(A.mutation,v,A.mutation.getFieldMask(),ne.now())):d.set(v.key,Xn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((v,A)=>d.set(v,A))),i.forEach(((v,A)=>p.set(v,new Qw(A,d.get(v)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Sl();let l=new le(((d,p)=>d-p)),c=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const v=i.get(y);if(v===null)return;let A=a.get(y)||Xn.empty();A=p.applyToLocalView(v,A),a.set(y,A);const b=(l.get(p.batchId)||Mt()).add(y);l=l.insert(p.batchId,b)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),v=y.key,A=y.value,b=aE();A.forEach((V=>{if(!c.has(V)){const G=fE(i.get(V),a.get(V));G!==null&&b.set(V,G),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,v,b))}return Z.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return ht.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):eE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):Z.resolve(Vr());let p=Il,y=c;return d.next((v=>Z.forEach(v,((A,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(t,A).next((V=>{y=y.insert(A,V)}))))).next((()=>this.populateOverlays(t,v,c))).next((()=>this.computeViews(t,y,v,Mt()))).next((A=>({batchId:p,changes:rE(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ht(i)).next((a=>{let l=yl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=yl();return this.indexManager.getCollectionParents(t,c).next((p=>Z.forEach(p,(y=>{const v=(function(b,V){return new zl(V,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,v,a,l).next((A=>{A.forEach(((b,V)=>{d=d.insert(b,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((y,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Ze.newInvalidDocument(A)))}));let p=yl();return d.forEach(((y,v)=>{const A=c.get(y);A!==void 0&&bl(A.mutation,v,Xn.empty(),ne.now()),fh(i,v)&&(p=p.insert(y,v))})),p}))}}class Kw{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Si(l.createTime)}})(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:Lw(l.bundledQuery),readTime:Si(l.readTime)}})(i)),Z.resolve()}}class Xw{constructor(){this.overlays=new le(ht.comparator),this.qr=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Vr();return Z.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),Z.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),Z.resolve()}getOverlaysForCollection(t,i,a){const l=Vr(),c=i.length+1,d=new ht(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,v=y.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return Z.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new le(((v,A)=>v-A));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let A=c.get(v.largestBatchId);A===null&&(A=Vr(),c=c.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const p=Vr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((v,A)=>p.set(v,A))),!(p.size()>=l)););return Z.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new dw(i,a));let c=this.qr.get(i);c===void 0&&(c=Mt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class Zw{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}class Nm{constructor(){this.Qr=new Me(Le.$r),this.Ur=new Me(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Le(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Le(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new ht(new Wt([])),a=new Le(i,t),l=new Le(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ht(new Wt([])),a=new Le(i,t),l=new Le(i,t+1);let c=Mt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Le(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Le{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ht.comparator(t.key,i.key)||xt(t.Yr,i.Yr)}static Kr(t,i){return xt(t.Yr,i.Yr)||ht.comparator(t.key,i.key)}}class $w{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Me(Le.$r)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new fw(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Le(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?vm:this.tr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Le(i,0),l=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Me(xt);return i.forEach((l=>{const c=new Le(l,0),d=new Le(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),Z.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;ht.isDocumentKey(c)||(c=c.child(""));const d=new Le(new ht(c),0);let p=new Me(xt);return this.Zr.forEachWhile((y=>{const v=y.key.path;return!!a.isPrefixOf(v)&&(v.length===l&&(p=p.add(y.Yr)),!0)}),d),Z.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Ht(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Z.forEach(i.mutations,(l=>{const c=new Le(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Le(i,0),l=this.Zr.firstAfterOrEqual(a);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Jw{constructor(t){this.ri=t,this.docs=(function(){return new le(ht.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(t,i){let a=ts();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Ze.newInvalidDocument(l))})),Z.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=ts();const d=i.path,p=new ht(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:v,value:{document:A}}=y.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||Rb(wb(A),a)<=0||(l.has(A.key)||fh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(t,i,a,l){pt(9500)}ii(t,i){return Z.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new Ww(this)}getSize(t){return Z.resolve(this.size)}}class Ww extends Gw{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),Z.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class tR{constructor(t){this.persistence=t,this.si=new Fr((i=>Am(i)),Sm),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.oi=0,this._i=new Nm,this.targetCount=0,this.ai=Wa.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Z.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Wa(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.Pr(i),Z.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return Z.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),Z.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return Z.resolve(a)}containsKey(t,i){return Z.resolve(this._i.containsKey(i))}}class RE{constructor(t,i){this.ui={},this.overlays={},this.ci=new lh(0),this.li=!1,this.li=!0,this.hi=new Zw,this.referenceDelegate=t(this),this.Pi=new tR(this),this.indexManager=new Pw,this.remoteDocumentCache=(function(l){return new Jw(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new Uw(i),this.Ii=new Kw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Xw,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new $w(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){it("MemoryPersistence","Starting transaction:",t);const l=new eR(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return Z.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class eR extends Cb{constructor(t){super(),this.currentSequenceNumber=t}}class Dm{constructor(t){this.persistence=t,this.Ri=new Nm,this.Vi=null}static mi(t){return new Dm(t)}get fi(){if(this.Vi)return this.Vi;throw pt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Z.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(a=>{const l=ht.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,vt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Zc{constructor(t,i){this.persistence=t,this.pi=new Fr((a=>Ob(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=Fw(this,i)}static mi(t,i){return new Zc(t,i)}Ei(){}di(t){return Z.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return Z.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?Z.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,vt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Z.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=xc(t.data.value)),i}br(t,i,a){return Z.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return Z.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Om{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Mt(),l=Mt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Om(t,i.fromCache,a,l)}}class nR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class iR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return YA()?8:Nb($e())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new nR;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(La()<=Ot.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",Pa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(La()<=Ot.DEBUG&&it("QueryEngine","Query:",Pa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(La()<=Ot.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",Pa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ti(i))):Z.resolve())}ys(t,i){if(hv(i))return Z.resolve(null);let a=Ti(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=tm(i,null,"F"),a=Ti(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Mt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((y=>{const v=this.Ds(i,p);return this.Cs(i,v,d,y.readTime)?this.ys(t,tm(i,null,"F")):this.vs(t,v,i,y)}))))})))))}ws(t,i,a,l){return hv(i)||l.isEqual(vt.min())?Z.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?Z.resolve(null):(La()<=Ot.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Pa(i)),this.vs(t,d,i,bb(l,Il)).next((p=>p)))}))}Ds(t,i){let a=new Me(iE(t));return i.forEach(((l,c)=>{fh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return La()<=Ot.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Pa(i)),this.ps.getDocumentsMatchingQuery(t,i,Xs.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const xm="LocalStore",sR=3e8;class rR{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new le(xt),this.xs=new Fr((c=>Am(c)),Sm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Yw(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function aR(r,t,i,a){return new rR(r,t,i,a)}async function IE(r,t){const i=At(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=Mt();for(const v of l){d.push(v.batchId);for(const A of v.mutations)y=y.add(A.key)}for(const v of c){p.push(v.batchId);for(const A of v.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(a,y).next((v=>({Ls:v,removedBatchIds:d,addedBatchIds:p})))}))}))}function oR(r,t){const i=At(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,v,A){const b=v.batch,V=b.keys();let G=Z.resolve();return V.forEach(($=>{G=G.next((()=>A.getEntry(y,$))).next((W=>{const J=v.docVersions.get($);Ht(J!==null,48541),W.version.compareTo(J)<0&&(b.applyToRemoteDocument(W,v),W.isValidDocument()&&(W.setReadTime(v.commitVersion),A.addEntry(W)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(y,b)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=Mt();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(y=y.add(p.batch.mutations[v].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function CE(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function lR(r,t){const i=At(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((A,b)=>{const V=l.get(b);if(!V)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,b))));let G=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?G=G.withResumeToken(Qe.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,a)),l=l.insert(b,G),(function(W,J,dt){return W.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=sR?!0:dt.addedDocuments.size+dt.modifiedDocuments.size+dt.removedDocuments.size>0})(V,G,A)&&p.push(i.Pi.updateTargetData(c,G))}));let y=ts(),v=Mt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(uR(c,d,t.documentUpdates).next((A=>{y=A.ks,v=A.qs}))),!a.isEqual(vt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((b=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(A)}return Z.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,v))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function uR(r,t,i){let a=Mt(),l=Mt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=ts();return i.forEach(((p,y)=>{const v=c.get(p);y.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(vt.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):it(xm,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function cR(r,t){const i=At(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=vm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function hR(r,t){const i=At(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,Z.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new qs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function rm(r,t,i){const a=At(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!ro(d))throw d;it(xm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function bv(r,t,i){const a=At(r);let l=vt.min(),c=Mt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,v,A){const b=At(y),V=b.xs.get(A);return V!==void 0?Z.resolve(b.Ms.get(V)):b.Pi.getTargetData(v,A)})(a,d,Ti(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:vt.min(),i?c:Mt()))).next((p=>(fR(a,Zb(t),p),{documents:p,Qs:c})))))}function fR(r,t,i){let a=r.Os.get(t)||vt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class wv{constructor(){this.activeTargetIds=nw()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class dR{constructor(){this.Mo=new wv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new wv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class mR{Oo(t){}shutdown(){}}const Rv="ConnectivityMonitor";class Iv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it(Rv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){it(Rv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Rc=null;function am(){return Rc===null?Rc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Rc++,"0x"+Rc.toString(16)}const Ud="RestConnection",gR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pR{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Fc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=am(),p=this.zo(t,i.toUriEncodedString());it(Ud,`Sending RPC '${t}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:v}=new URL(p),A=eo(v);return this.Jo(t,p,y,a,A).then((b=>(it(Ud,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw Xa(Ud,`RPC '${t}' ${d} failed with error: `,b,"url: ",p,"request:",a),b}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+io})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=gR[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class yR{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Ke="WebChannelConnection";class _R extends pR{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=am();return new Promise(((p,y)=>{const v=new D0;v.setWithCredentials(!0),v.listenOnce(O0.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Oc.NO_ERROR:const b=v.getResponseJson();it(Ke,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),p(b);break;case Oc.TIMEOUT:it(Ke,`RPC '${t}' ${d} timed out`),y(new rt(X.DEADLINE_EXCEEDED,"Request time out"));break;case Oc.HTTP_ERROR:const V=v.getStatus();if(it(Ke,`RPC '${t}' ${d} failed with status:`,V,"response text:",v.getResponseText()),V>0){let G=v.getResponseJson();Array.isArray(G)&&(G=G[0]);const $=G?.error;if($&&$.status&&$.message){const W=(function(dt){const Et=dt.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(Et)>=0?Et:X.UNKNOWN})($.status);y(new rt(W,$.message))}else y(new rt(X.UNKNOWN,"Server responded with status "+v.getStatus()))}else y(new rt(X.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:t,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{it(Ke,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);it(Ke,`RPC '${t}' ${d} sending request:`,l),v.send(i,"POST",A,a,15)}))}T_(t,i,a){const l=am(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=V0(),p=M0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const A=c.join("");it(Ke,`Creating RPC '${t}' stream ${l}: ${A}`,y);const b=d.createWebChannel(A,y);this.I_(b);let V=!1,G=!1;const $=new yR({Yo:J=>{G?it(Ke,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(V||(it(Ke,`Opening RPC '${t}' stream ${l} transport.`),b.open(),V=!0),it(Ke,`RPC '${t}' stream ${l} sending:`,J),b.send(J))},Zo:()=>b.close()}),W=(J,dt,Et)=>{J.listen(dt,(gt=>{try{Et(gt)}catch(qt){setTimeout((()=>{throw qt}),0)}}))};return W(b,pl.EventType.OPEN,(()=>{G||(it(Ke,`RPC '${t}' stream ${l} transport opened.`),$.o_())})),W(b,pl.EventType.CLOSE,(()=>{G||(G=!0,it(Ke,`RPC '${t}' stream ${l} transport closed`),$.a_(),this.E_(b))})),W(b,pl.EventType.ERROR,(J=>{G||(G=!0,Xa(Ke,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),$.a_(new rt(X.UNAVAILABLE,"The operation could not be completed")))})),W(b,pl.EventType.MESSAGE,(J=>{if(!G){const dt=J.data[0];Ht(!!dt,16349);const Et=dt,gt=Et?.error||Et[0]?.error;if(gt){it(Ke,`RPC '${t}' stream ${l} received error:`,gt);const qt=gt.status;let ot=(function(S){const R=we[S];if(R!==void 0)return gE(R)})(qt),ut=gt.message;ot===void 0&&(ot=X.INTERNAL,ut="Unknown error status: "+qt+" with message "+gt.message),G=!0,$.a_(new rt(ot,ut)),b.close()}else it(Ke,`RPC '${t}' stream ${l} received:`,dt),$.u_(dt)}})),W(p,x0.STAT_EVENT,(J=>{J.stat===Yd.PROXY?it(Ke,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===Yd.NOPROXY&&it(Ke,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Ld(){return typeof document<"u"?document:null}function ph(r){return new Aw(r,!0)}class NE{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Cv="PersistentStream";class DE{constructor(t,i,a,l,c,d,p,y){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new NE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(Wi(i.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new rt(X.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return it(Cv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(it(Cv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class vR extends DE{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=ww(this.serializer,t),a=(function(c){if(!("targetChange"in c))return vt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?Si(d.readTime):vt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=sm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=Jd(y)?{documents:Cw(c,y)}:{query:Nw(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=_E(c,d.resumeToken);const v=em(c,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(vt.min())>0){p.readTime=Xc(c,d.snapshotVersion.toTimestamp());const v=em(c,d.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,t);const a=Ow(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=sm(this.serializer),i.removeTarget=t,this.q_(i)}}class ER extends DE{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Iw(t.writeResults,t.commitTime),a=Si(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=sm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>Rw(this.serializer,a)))};this.q_(i)}}class TR{}class AR extends TR{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new rt(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,nm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new rt(X.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,nm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class SR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wi(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Br="RemoteStore";class bR{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Qr(this)&&(it(Br,"Restarting streams for network reachability change."),await(async function(y){const v=At(y);v.Ea.add(4),await ql(v),v.Ra.set("Unknown"),v.Ea.delete(4),await yh(v)})(this))}))})),this.Ra=new SR(a,l)}}async function yh(r){if(Qr(r))for(const t of r.da)await t(!0)}async function ql(r){for(const t of r.da)await t(!1)}function OE(r,t){const i=At(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Um(i)?km(i):ao(i).O_()&&Vm(i,t))}function Mm(r,t){const i=At(r),a=ao(i);i.Ia.delete(t),a.O_()&&xE(i,t),i.Ia.size===0&&(a.O_()?a.L_():Qr(i)&&i.Ra.set("Unknown"))}function Vm(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ao(r).Y_(t)}function xE(r,t){r.Va.Ue(t),ao(r).Z_(t)}function km(r){r.Va=new _w({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),ao(r).start(),r.Ra.ua()}function Um(r){return Qr(r)&&!ao(r).x_()&&r.Ia.size>0}function Qr(r){return At(r).Ea.size===0}function ME(r){r.Va=void 0}async function wR(r){r.Ra.set("Online")}async function RR(r){r.Ia.forEach(((t,i)=>{Vm(r,t)}))}async function IR(r,t){ME(r),Um(r)?(r.Ra.ha(t),km(r)):r.Ra.set("Unknown")}async function CR(r,t,i){if(r.Ra.set("Online"),t instanceof yE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(a){it(Br,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await $c(r,a)}else if(t instanceof kc?r.Va.Ze(t):t instanceof pE?r.Va.st(t):r.Va.tt(t),!i.isEqual(vt.min()))try{const a=await CE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const A=c.Ia.get(v);A&&c.Ia.set(v,A.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,v)=>{const A=c.Ia.get(y);if(!A)return;c.Ia.set(y,A.withResumeToken(Qe.EMPTY_BYTE_STRING,A.snapshotVersion)),xE(c,y);const b=new qs(A.target,y,v,A.sequenceNumber);Vm(c,b)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){it(Br,"Failed to raise snapshot:",a),await $c(r,a)}}async function $c(r,t,i){if(!ro(t))throw t;r.Ea.add(1),await ql(r),r.Ra.set("Offline"),i||(i=()=>CE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{it(Br,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await yh(r)}))}function VE(r,t){return t().catch((i=>$c(r,i,t)))}async function _h(r){const t=At(r),i=Ws(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:vm;for(;NR(t);)try{const l=await cR(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,DR(t,l)}catch(l){await $c(t,l)}kE(t)&&UE(t)}function NR(r){return Qr(r)&&r.Ta.length<10}function DR(r,t){r.Ta.push(t);const i=Ws(r);i.O_()&&i.X_&&i.ea(t.mutations)}function kE(r){return Qr(r)&&!Ws(r).x_()&&r.Ta.length>0}function UE(r){Ws(r).start()}async function OR(r){Ws(r).ra()}async function xR(r){const t=Ws(r);for(const i of r.Ta)t.ea(i.mutations)}async function MR(r,t,i){const a=r.Ta.shift(),l=Rm.from(a,t,i);await VE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await _h(r)}async function VR(r,t){t&&Ws(r).X_&&await(async function(a,l){if((function(d){return gw(d)&&d!==X.ABORTED})(l.code)){const c=a.Ta.shift();Ws(a).B_(),await VE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await _h(a)}})(r,t),kE(r)&&UE(r)}async function Nv(r,t){const i=At(r);i.asyncQueue.verifyOperationInProgress(),it(Br,"RemoteStore received new credentials");const a=Qr(i);i.Ea.add(3),await ql(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await yh(i)}async function kR(r,t){const i=At(r);t?(i.Ea.delete(2),await yh(i)):t||(i.Ea.add(2),await ql(i),i.Ra.set("Unknown"))}function ao(r){return r.ma||(r.ma=(function(i,a,l){const c=At(i);return c.sa(),new vR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:wR.bind(null,r),t_:RR.bind(null,r),r_:IR.bind(null,r),H_:CR.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Um(r)?km(r):r.Ra.set("Unknown")):(await r.ma.stop(),ME(r))}))),r.ma}function Ws(r){return r.fa||(r.fa=(function(i,a,l){const c=At(i);return c.sa(),new ER(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:OR.bind(null,r),r_:VR.bind(null,r),ta:xR.bind(null,r),na:MR.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await _h(r)):(await r.fa.stop(),r.Ta.length>0&&(it(Br,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Lm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new Lm(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pm(r,t){if(Wi("AsyncQueue",`${t}: ${r}`),ro(r))return new rt(X.UNAVAILABLE,`${t}: ${r}`);throw r}class Ha{static emptySet(t){return new Ha(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ht.comparator(i.key,a.key):(i,a)=>ht.comparator(i.key,a.key),this.keyedMap=yl(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ha)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ha;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Dv{constructor(){this.ga=new le(ht.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):pt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class to{constructor(t,i,a,l,c,d,p,y,v){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new to(t,i,Ha.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&hh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class UR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class LR{constructor(){this.queries=Ov(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=At(i),c=l.queries;l.queries=Ov(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new rt(X.ABORTED,"Firestore shutting down"))}}function Ov(){return new Fr((r=>nE(r)),hh)}async function PR(r,t){const i=At(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new UR,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Pm(d,`Initialization of query '${Pa(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&zm(i)}async function zR(r,t){const i=At(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function jR(r,t){const i=At(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&zm(i)}function BR(r,t,i){const a=At(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function zm(r){r.Ca.forEach((t=>{t.next()}))}var om,xv;(xv=om||(om={})).Ma="default",xv.Cache="cache";class qR{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new to(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=to.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==om.Cache}}class LE{constructor(t){this.key=t}}class PE{constructor(t){this.key=t}}class HR{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Mt(),this.mutatedKeys=Mt(),this.eu=iE(t),this.tu=new Ha(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new Dv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,b)=>{const V=l.get(A),G=fh(this.query,b)?b:null,$=!!V&&this.mutatedKeys.has(V.key),W=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let J=!1;V&&G?V.data.isEqual(G.data)?$!==W&&(a.track({type:3,doc:G}),J=!0):this.su(V,G)||(a.track({type:2,doc:G}),J=!0,(y&&this.eu(G,y)>0||v&&this.eu(G,v)<0)&&(p=!0)):!V&&G?(a.track({type:0,doc:G}),J=!0):V&&!G&&(a.track({type:1,doc:V}),J=!0,(y||v)&&(p=!0)),J&&(G?(d=d.add(G),c=W?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,b)=>(function(G,$){const W=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Rt:J})}};return W(G)-W($)})(A.type,b.type)||this.eu(A.doc,b.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,v=y!==this.Za;return this.Za=y,d.length!==0||v?{snapshot:new to(this.query,t.tu,c,d,t.mutatedKeys,y===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Dv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Mt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new PE(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new LE(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Mt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return to.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const jm="SyncEngine";class FR{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class GR{constructor(t){this.key=t,this.hu=!1}}class QR{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Fr((p=>nE(p)),hh),this.Iu=new Map,this.Eu=new Set,this.du=new le(ht.comparator),this.Au=new Map,this.Ru=new Nm,this.Vu={},this.mu=new Map,this.fu=Wa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function YR(r,t,i=!0){const a=FE(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await zE(a,t,i,!0),l}async function KR(r,t){const i=FE(r);await zE(i,t,!0,!1)}async function zE(r,t,i,a){const l=await hR(r.localStore,Ti(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await XR(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&OE(r.remoteStore,l),p}async function XR(r,t,i,a,l){r.pu=(b,V,G)=>(async function(W,J,dt,Et){let gt=J.view.ru(dt);gt.Cs&&(gt=await bv(W.localStore,J.query,!1).then((({documents:w})=>J.view.ru(w,gt))));const qt=Et&&Et.targetChanges.get(J.targetId),ot=Et&&Et.targetMismatches.get(J.targetId)!=null,ut=J.view.applyChanges(gt,W.isPrimaryClient,qt,ot);return Vv(W,J.targetId,ut.au),ut.snapshot})(r,b,V,G);const c=await bv(r.localStore,t,!0),d=new HR(t,c.Qs),p=d.ru(c.documents),y=Bl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),v=d.applyChanges(p,r.isPrimaryClient,y);Vv(r,i,v.au);const A=new FR(t,i,d);return r.Tu.set(t,A),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),v.snapshot}async function ZR(r,t,i){const a=At(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!hh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await rm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Mm(a.remoteStore,l.targetId),lm(a,l.targetId)})).catch(so)):(lm(a,l.targetId),await rm(a.localStore,l.targetId,!0))}async function $R(r,t){const i=At(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Mm(i.remoteStore,a.targetId))}async function JR(r,t,i){const a=r2(r);try{const l=await(function(d,p){const y=At(d),v=ne.now(),A=p.reduce(((G,$)=>G.add($.key)),Mt());let b,V;return y.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let $=ts(),W=Mt();return y.Ns.getEntries(G,A).next((J=>{$=J,$.forEach(((dt,Et)=>{Et.isValidDocument()||(W=W.add(dt))}))})).next((()=>y.localDocuments.getOverlayedDocuments(G,$))).next((J=>{b=J;const dt=[];for(const Et of p){const gt=cw(Et,b.get(Et.key).overlayedDocument);gt!=null&&dt.push(new Gr(Et.key,gt,K0(gt.value.mapValue),Ai.exists(!0)))}return y.mutationQueue.addMutationBatch(G,v,dt,p)})).next((J=>{V=J;const dt=J.applyToLocalDocumentSet(b,W);return y.documentOverlayCache.saveOverlays(G,J.batchId,dt)}))})).then((()=>({batchId:V.batchId,changes:rE(b)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let v=d.Vu[d.currentUser.toKey()];v||(v=new le(xt)),v=v.insert(p,y),d.Vu[d.currentUser.toKey()]=v})(a,l.batchId,i),await Hl(a,l.changes),await _h(a.remoteStore)}catch(l){const c=Pm(l,"Failed to persist write");i.reject(c)}}async function jE(r,t){const i=At(r);try{const a=await lR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Ht(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ht(d.hu,14607):l.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))})),await Hl(i,a,t)}catch(a){await so(a)}}function Mv(r,t,i){const a=At(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=At(d);y.onlineState=p;let v=!1;y.queries.forEach(((A,b)=>{for(const V of b.Sa)V.va(p)&&(v=!0)})),v&&zm(y)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function WR(r,t,i){const a=At(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new le(ht.comparator);d=d.insert(c,Ze.newNoDocument(c,vt.min()));const p=Mt().add(c),y=new gh(vt.min(),new Map,new le(xt),d,p);await jE(a,y),a.du=a.du.remove(c),a.Au.delete(t),Bm(a)}else await rm(a.localStore,t,!1).then((()=>lm(a,t,i))).catch(so)}async function t2(r,t){const i=At(r),a=t.batch.batchId;try{const l=await oR(i.localStore,t);qE(i,a,null),BE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Hl(i,l)}catch(l){await so(l)}}async function e2(r,t,i){const a=At(r);try{const l=await(function(d,p){const y=At(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let A;return y.mutationQueue.lookupMutationBatch(v,p).next((b=>(Ht(b!==null,37113),A=b.keys(),y.mutationQueue.removeMutationBatch(v,b)))).next((()=>y.mutationQueue.performConsistencyCheck(v))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(v,A,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A))).next((()=>y.localDocuments.getDocuments(v,A)))}))})(a.localStore,t);qE(a,t,i),BE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Hl(a,l)}catch(l){await so(l)}}function BE(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function qE(r,t,i){const a=At(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function lm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||HE(r,a)}))}function HE(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Mm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),Bm(r))}function Vv(r,t,i){for(const a of i)a instanceof LE?(r.Ru.addReference(a.key,t),n2(r,a)):a instanceof PE?(it(jm,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||HE(r,a.key)):pt(19791,{wu:a})}function n2(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(it(jm,"New document in limbo: "+i),r.Eu.add(a),Bm(r))}function Bm(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new ht(Wt.fromString(t)),a=r.fu.next();r.Au.set(a,new GR(i)),r.du=r.du.insert(i,a),OE(r.remoteStore,new qs(Ti(bm(i.path)),a,"TargetPurposeLimboResolution",lh.ce))}}async function Hl(r,t,i){const a=At(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,t,i).then((v=>{if((v||i)&&a.isPrimaryClient){const A=v?!v.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(v){l.push(v);const A=Om.As(y.targetId,v);c.push(A)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(y,v){const A=At(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>Z.forEach(v,(V=>Z.forEach(V.Es,(G=>A.persistence.referenceDelegate.addReference(b,V.targetId,G))).next((()=>Z.forEach(V.ds,(G=>A.persistence.referenceDelegate.removeReference(b,V.targetId,G)))))))))}catch(b){if(!ro(b))throw b;it(xm,"Failed to update sequence numbers: "+b)}for(const b of v){const V=b.targetId;if(!b.fromCache){const G=A.Ms.get(V),$=G.snapshotVersion,W=G.withLastLimboFreeSnapshotVersion($);A.Ms=A.Ms.insert(V,W)}}})(a.localStore,c))}async function i2(r,t){const i=At(r);if(!i.currentUser.isEqual(t)){it(jm,"User change. New user:",t.toKey());const a=await IE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new rt(X.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Hl(i,a.Ls)}}function s2(r,t){const i=At(r),a=i.Au.get(t);if(a&&a.hu)return Mt().add(a.key);{let l=Mt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function FE(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=jE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=s2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=WR.bind(null,t),t.Pu.H_=jR.bind(null,t.eventManager),t.Pu.yu=BR.bind(null,t.eventManager),t}function r2(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=t2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=e2.bind(null,t),t}class Jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ph(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return aR(this.persistence,new iR,t.initialUser,this.serializer)}Cu(t){return new RE(Dm.mi,this.serializer)}Du(t){return new dR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jc.provider={build:()=>new Jc};class a2 extends Jc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ht(this.persistence.referenceDelegate instanceof Zc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new qw(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new RE((a=>Zc.mi(a,i)),this.serializer)}}class um{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Mv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=i2.bind(null,this.syncEngine),await kR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new LR})()}createDatastore(t){const i=ph(t.databaseInfo.databaseId),a=(function(c){return new _R(c)})(t.databaseInfo);return(function(c,d,p,y){return new AR(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new bR(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Mv(this.syncEngine,i,0)),(function(){return Iv.v()?new Iv:new mR})())}createSyncEngine(t,i){return(function(l,c,d,p,y,v,A){const b=new QR(l,c,d,p,y,v);return A&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=At(i);it(Br,"RemoteStore shutting down."),a.Ea.add(5),await ql(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}um.provider={build:()=>new um};class o2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Wi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const tr="FirestoreClient";class l2{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=Xe.UNAUTHENTICATED,this.clientId=_m.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{it(tr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(it(tr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Pm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Pd(r,t){r.asyncQueue.verifyOperationInProgress(),it(tr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await IE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function kv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await u2(r);it(tr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Nv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>Nv(t.remoteStore,l))),r._onlineComponents=t}async function u2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){it(tr,"Using user provided OfflineComponentProvider");try{await Pd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Xa("Error using user provided cache. Falling back to memory cache: "+i),await Pd(r,new Jc)}}else it(tr,"Using default OfflineComponentProvider"),await Pd(r,new a2(void 0));return r._offlineComponents}async function GE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(it(tr,"Using user provided OnlineComponentProvider"),await kv(r,r._uninitializedComponentsProvider._online)):(it(tr,"Using default OnlineComponentProvider"),await kv(r,new um))),r._onlineComponents}function c2(r){return GE(r).then((t=>t.syncEngine))}async function Uv(r){const t=await GE(r),i=t.eventManager;return i.onListen=YR.bind(null,t.syncEngine),i.onUnlisten=ZR.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=KR.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=$R.bind(null,t.syncEngine),i}function QE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const Lv=new Map;const YE="firestore.googleapis.com",Pv=!0;class zv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new rt(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YE,this.ssl=Pv}else this.host=t.host,this.ssl=t.ssl??Pv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=wE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<jw)throw new rt(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Sb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QE(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new rt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new rt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new rt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class vh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new rt(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new db;switch(a.type){case"firstParty":return new yb(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new rt(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Lv.get(i);a&&(it("ComponentProvider","Removing Datastore"),Lv.delete(i),a.terminate())})(this),Promise.resolve()}}function h2(r,t,i,a={}){r=Ur(r,vh);const l=eo(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(T0(`https://${p}`),A0("Firestore",!0)),c.host!==YE&&c.host!==p&&Xa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:a};if(!Pr(y,d)&&(r._setSettings(y),a.mockUserToken)){let v,A;if(typeof a.mockUserToken=="string")v=a.mockUserToken,A=Xe.MOCK_USER;else{v=PA(a.mockUserToken,r._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new rt(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Xe(b)}r._authCredentials=new mb(new U0(v,A))}}class oo{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new oo(this.firestore,t,this._query)}}class Ce{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ce(this.firestore,t,this._key)}toJSON(){return{type:Ce._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Pl(i,Ce._jsonSchema))return new Ce(t,a||null,new ht(Wt.fromString(i.referencePath)))}}Ce._jsonSchemaVersion="firestore/documentReference/1.0",Ce._jsonSchema={type:Ie("string",Ce._jsonSchemaVersion),referencePath:Ie("string")};class Ys extends oo{constructor(t,i,a){super(t,i,bm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ce(this.firestore,null,new ht(t))}withConverter(t){return new Ys(this.firestore,t,this._path)}}function Ic(r,t,...i){if(r=cn(r),L0("collection","path",t),r instanceof vh){const a=Wt.fromString(t,...i);return $_(a),new Ys(r,null,a)}{if(!(r instanceof Ce||r instanceof Ys))throw new rt(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Wt.fromString(t,...i));return $_(a),new Ys(r.firestore,null,a)}}function Ba(r,t,...i){if(r=cn(r),arguments.length===1&&(t=_m.newId()),L0("doc","path",t),r instanceof vh){const a=Wt.fromString(t,...i);return Z_(a),new Ce(r,null,new ht(a))}{if(!(r instanceof Ce||r instanceof Ys))throw new rt(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Wt.fromString(t,...i));return Z_(a),new Ce(r.firestore,r instanceof Ys?r.converter:null,new ht(a))}}const jv="AsyncQueue";class Bv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new NE(this,"async_queue_retry"),this._c=()=>{const a=Ld();a&&it(jv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Ld();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Ld();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new kr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ro(t))throw t;it(jv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,Wi("INTERNAL UNHANDLED ERROR: ",qv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Lm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&pt(47125,{Pc:qv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function qv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function Hv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Vl extends vh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new Bv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Bv(t),this._firestoreClient=void 0,await t}}}function f2(r,t){const i=typeof r=="object"?r:R0(),a=typeof r=="string"?r:Fc,l=pm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=UA("firestore");c&&h2(l,...c)}return l}function KE(r){if(r._terminated)throw new rt(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||d2(r),r._firestoreClient}function d2(r){const t=r._freezeSettings(),i=(function(l,c,d,p){return new Vb(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,QE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new l2(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class kn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new kn(Qe.fromBase64String(t))}catch(i){throw new rt(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new kn(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Pl(t,kn._jsonSchema))return kn.fromBase64String(t.bytes)}}kn._jsonSchemaVersion="firestore/bytes/1.0",kn._jsonSchema={type:Ie("string",kn._jsonSchemaVersion),bytes:Ie("string")};class qm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new rt(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Hm{constructor(t){this._methodName=t}}class bi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new rt(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new rt(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return xt(this._lat,t._lat)||xt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:bi._jsonSchemaVersion}}static fromJSON(t){if(Pl(t,bi._jsonSchema))return new bi(t.latitude,t.longitude)}}bi._jsonSchemaVersion="firestore/geoPoint/1.0",bi._jsonSchema={type:Ie("string",bi._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};class wi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Pl(t,wi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new wi(t.vectorValues);throw new rt(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wi._jsonSchemaVersion="firestore/vectorValue/1.0",wi._jsonSchema={type:Ie("string",wi._jsonSchemaVersion),vectorValues:Ie("object")};const m2=/^__.*__$/;class g2{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Gr(t,this.data,this.fieldMask,i,this.fieldTransforms):new jl(t,this.data,i,this.fieldTransforms)}}function XE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{Ac:r})}}class Fm{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Fm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Wc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(XE(this.Ac)&&m2.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class p2{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||ph(t)}Cc(t,i,a,l=!1){return new Fm({Ac:t,methodName:i,Dc:a,path:Ge.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gm(r){const t=r._freezeSettings(),i=ph(r._databaseId);return new p2(r._databaseId,!!t.ignoreUndefinedProperties,i)}function ZE(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);WE("Data must be an object, but it was:",d,a);const p=$E(a,d);let y,v;if(c.merge)y=new Xn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const b of c.mergeFields){const V=_2(t,b,i);if(!d.contains(V))throw new rt(X.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);E2(A,V)||A.push(V)}y=new Xn(A),v=d.fieldTransforms.filter((b=>y.covers(b.field)))}else y=null,v=d.fieldTransforms;return new g2(new Vn(p),y,v)}class Qm extends Hm{_toFieldTransform(t){return new aw(t.path,new Ol)}isEqual(t){return t instanceof Qm}}function y2(r,t,i,a=!1){return Ym(i,r.Cc(a?4:3,t))}function Ym(r,t){if(JE(r=cn(r)))return WE("Unsupported field value:",t,r),$E(r,t);if(r instanceof Hm)return(function(a,l){if(!XE(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let y=Ym(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=cn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return iw(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ne.fromDate(a);return{timestampValue:Xc(l.serializer,c)}}if(a instanceof ne){const c=new ne(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Xc(l.serializer,c)}}if(a instanceof bi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof kn)return{bytesValue:_E(l.serializer,a._byteString)};if(a instanceof Ce){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Cm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof wi)return(function(d,p){return{mapValue:{fields:{[Q0]:{stringValue:Y0},[Gc]:{arrayValue:{values:d.toArray().map((v=>{if(typeof v!="number")throw p.Sc("VectorValues must only contain numeric values.");return wm(p.serializer,v)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${oh(a)}`)})(r,t)}function $E(r,t){const i={};return j0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Hr(r,((a,l)=>{const c=Ym(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function JE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ne||r instanceof bi||r instanceof kn||r instanceof Ce||r instanceof Hm||r instanceof wi)}function WE(r,t,i){if(!JE(i)||!P0(i)){const a=oh(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function _2(r,t,i){if((t=cn(t))instanceof qm)return t._internalPath;if(typeof t=="string")return tT(r,t);throw Wc("Field path arguments must be of type string or ",r,!1,void 0,i)}const v2=new RegExp("[~\\*/\\[\\]]");function tT(r,t,i){if(t.search(v2)>=0)throw Wc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new qm(...t.split("."))._internalPath}catch{throw Wc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Wc(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new rt(X.INVALID_ARGUMENT,p+r+y)}function E2(r,t){return r.some((i=>i.isEqual(t)))}class eT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ce(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new T2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(nT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class T2 extends eT{data(){return super.data()}}function nT(r,t){return typeof t=="string"?tT(r,t):t instanceof qm?t._internalPath:t._delegate._internalPath}function A2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new rt(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Km{}class S2 extends Km{}function zd(r,t,...i){let a=[];t instanceof Km&&a.push(t),a=a.concat(i),(function(c){const d=c.filter((y=>y instanceof Zm)).length,p=c.filter((y=>y instanceof Xm)).length;if(d>1||d>0&&p>0)throw new rt(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)r=l._apply(r);return r}class Xm extends S2{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new Xm(t,i,a)}_apply(t){const i=this._parse(t);return iT(t._query,i),new oo(t.firestore,t.converter,Wd(t._query,i))}_parse(t){const i=Gm(t.firestore);return(function(c,d,p,y,v,A,b){let V;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new rt(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){Gv(b,A);const $=[];for(const W of b)$.push(Fv(y,c,W));V={arrayValue:{values:$}}}else V=Fv(y,c,b)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||Gv(b,A),V=y2(p,d,b,A==="in"||A==="not-in");return Re.create(v,A,V)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class Zm extends Km{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Zm(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:$n.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const y of p)iT(d,y),d=Wd(d,y)})(t._query,i),new oo(t.firestore,t.converter,Wd(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Fv(r,t,i){if(typeof(i=cn(i))=="string"){if(i==="")throw new rt(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eE(t)&&i.indexOf("/")!==-1)throw new rt(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(Wt.fromString(i));if(!ht.isDocumentKey(a))throw new rt(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return rv(r,new ht(a))}if(i instanceof Ce)return rv(r,i._key);throw new rt(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oh(i)}.`)}function Gv(r,t){if(!Array.isArray(r)||r.length===0)throw new rt(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function iT(r,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new rt(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new rt(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class b2{convertValue(t,i="none"){switch(Js(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes($s(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw pt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Hr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Gc].arrayValue?.values?.map((a=>ge(a.doubleValue)));return new wi(i)}convertGeoPoint(t){return new bi(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=ch(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Cl(t));default:return null}}convertTimestamp(t){const i=Zs(t);return new ne(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=Wt.fromString(t);Ht(bE(a),9688,{name:t});const l=new Nl(a.get(1),a.get(3)),c=new ht(a.popFirst(5));return l.isEqual(i)||Wi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function sT(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class vl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Lr extends eT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(nT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Lr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Lr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Lr._jsonSchema={type:Ie("string",Lr._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class Uc extends Lr{data(t={}){return super.data(t)}}class Fa{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new vl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Uc(this._firestore,this._userDataWriter,a.key,a,new vl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new Uc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new vl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Uc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new vl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,A=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:w2(p.type),doc:y,oldIndex:v,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Fa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=_m.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function w2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:r})}}Fa._jsonSchemaVersion="firestore/querySnapshot/1.0",Fa._jsonSchema={type:Ie("string",Fa._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class rT extends b2{constructor(t){super(),this.firestore=t}convertBytes(t){return new kn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ce(this.firestore,null,i)}}function Cc(r,t,i){r=Ur(r,Ce);const a=Ur(r.firestore,Vl),l=sT(r.converter,t);return aT(a,[ZE(Gm(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,Ai.none())])}function R2(r,t){const i=Ur(r.firestore,Vl),a=Ba(r),l=sT(r.converter,t);return aT(i,[ZE(Gm(r.firestore),"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,Ai.exists(!1))]).then((()=>a))}function Nc(r,...t){r=cn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||Hv(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Hv(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof Ce)d=Ur(r.firestore,Vl),p=bm(r._key.path),c={next:y=>{t[a]&&t[a](I2(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=Ur(r,oo);d=Ur(y.firestore,Vl),p=y._query;const v=new rT(d);c={next:A=>{t[a]&&t[a](new Fa(d,v,y,A))},error:t[a+1],complete:t[a+2]},A2(r._query)}return(function(v,A,b,V){const G=new o2(V),$=new qR(A,G,b);return v.asyncQueue.enqueueAndForget((async()=>PR(await Uv(v),$))),()=>{G.Nu(),v.asyncQueue.enqueueAndForget((async()=>zR(await Uv(v),$)))}})(KE(d),p,l,c)}function aT(r,t){return(function(a,l){const c=new kr;return a.asyncQueue.enqueueAndForget((async()=>JR(await c2(a),l,c))),c.promise})(KE(r),t)}function I2(r,t,i){const a=i.docs.get(t._key),l=new rT(r);return new Lr(r,l,t._key,a,new vl(i.hasPendingWrites,i.fromCache),t.converter)}function C2(){return new Qm("serverTimestamp")}(function(t,i=!0){(function(l){io=l})(no),Ka(new zr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new Vl(new gb(a.getProvider("auth-internal")),new _b(d,a.getProvider("app-check-internal")),(function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new rt(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nl(v.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Gs(Q_,Y_,t),Gs(Q_,Y_,"esm2020")})();function oT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const N2=oT,lT=new Ul("auth","Firebase",oT());const th=new mm("@firebase/auth");function D2(r,...t){th.logLevel<=Ot.WARN&&th.warn(`Auth (${no}): ${r}`,...t)}function Lc(r,...t){th.logLevel<=Ot.ERROR&&th.error(`Auth (${no}): ${r}`,...t)}function es(r,...t){throw $m(r,...t)}function Ri(r,...t){return $m(r,...t)}function uT(r,t,i){const a={...N2(),[t]:i};return new Ul("auth","Firebase",a).create(t,{appName:r.name})}function Ks(r){return uT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $m(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return lT.create(r,...t)}function yt(r,t,...i){if(!r)throw $m(t,...i)}function Zi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Lc(t),new Error(t)}function ns(r,t){r||Zi(t)}function cm(){return typeof self<"u"&&self.location?.href||""}function O2(){return Qv()==="http:"||Qv()==="https:"}function Qv(){return typeof self<"u"&&self.location?.protocol||null}function x2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(O2()||FA()||"connection"in navigator)?navigator.onLine:!0}function M2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Fl{constructor(t,i){this.shortDelay=t,this.longDelay=i,ns(i>t,"Short delay should be less than long delay!"),this.isMobile=BA()||GA()}get(){return x2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Jm(r,t){ns(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class cT{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const V2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const k2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],U2=new Fl(3e4,6e4);function Eh(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function lo(r,t,i,a,l={}){return hT(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Ll({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const v={method:t,headers:y,...c};return HA()||(v.referrerPolicy="no-referrer"),r.emulatorConfig&&eo(r.emulatorConfig.host)&&(v.credentials="include"),cT.fetch()(await dT(r,r.config.apiHost,i,p),v)})}async function hT(r,t,i){r._canInitEmulator=!1;const a={...V2,...t};try{const l=new L2(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Dc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,v]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Dc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw Dc(r,"user-disabled",d);const A=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw uT(r,A,v);es(r,A)}}catch(l){if(l instanceof is)throw l;es(r,"network-request-failed",{message:String(l)})}}async function fT(r,t,i,a,l={}){const c=await lo(r,t,i,a,l);return"mfaPendingCredential"in c&&es(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function dT(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?Jm(r.config,l):`${r.config.apiScheme}://${l}`;return k2.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class L2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ri(this.auth,"network-request-failed")),U2.get())})}}function Dc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ri(r,t,a);return l.customData._tokenResponse=i,l}async function P2(r,t){return lo(r,"POST","/v1/accounts:delete",t)}async function eh(r,t){return lo(r,"POST","/v1/accounts:lookup",t)}function wl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function z2(r,t=!1){const i=cn(r),a=await i.getIdToken(t),l=Wm(a);yt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:wl(jd(l.auth_time)),issuedAtTime:wl(jd(l.iat)),expirationTime:wl(jd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function jd(r){return Number(r)*1e3}function Wm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Lc("JWT malformed, contained fewer than 3 sections"),null;try{const l=y0(i);return l?JSON.parse(l):(Lc("Failed to decode base64 JWT payload"),null)}catch(l){return Lc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Yv(r){const t=Wm(r);return yt(t,"internal-error"),yt(typeof t.exp<"u","internal-error"),yt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function kl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof is&&j2(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function j2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class B2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class hm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=wl(this.lastLoginAt),this.creationTime=wl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function nh(r){const t=r.auth,i=await r.getIdToken(),a=await kl(r,eh(t,{idToken:i}));yt(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?mT(l.providerUserInfo):[],d=H2(r.providerData,c),p=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,v=p?y:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new hm(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(r,A)}async function q2(r){const t=cn(r);await nh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function H2(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function mT(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function F2(r,t){const i=await hT(r,{},async()=>{const a=Ll({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await dT(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return r.emulatorConfig&&eo(r.emulatorConfig.host)&&(y.credentials="include"),cT.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function G2(r,t){return lo(r,"POST","/v2/accounts:revokeToken",Eh(r,t))}class Ga{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){yt(t.idToken,"internal-error"),yt(typeof t.idToken<"u","internal-error"),yt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Yv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){yt(t.length!==0,"internal-error");const i=Yv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await F2(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ga;return a&&(yt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(yt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(yt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ga,this.toJSON())}_performRefresh(){return Zi("not implemented")}}function Ls(r,t){yt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Zn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new B2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new hm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await kl(this,this.stsTokenManager.getToken(this.auth,t));return yt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return z2(this,t)}reload(){return q2(this)}_assign(t){this!==t&&(yt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Zn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await nh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(Ks(this.auth));const t=await this.getIdToken();return await kl(this,P2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,v=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:b,emailVerified:V,isAnonymous:G,providerData:$,stsTokenManager:W}=i;yt(b&&W,t,"internal-error");const J=Ga.fromJSON(this.name,W);yt(typeof b=="string",t,"internal-error"),Ls(a,t.name),Ls(l,t.name),yt(typeof V=="boolean",t,"internal-error"),yt(typeof G=="boolean",t,"internal-error"),Ls(c,t.name),Ls(d,t.name),Ls(p,t.name),Ls(y,t.name),Ls(v,t.name),Ls(A,t.name);const dt=new Zn({uid:b,auth:t,email:l,emailVerified:V,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:J,createdAt:v,lastLoginAt:A});return $&&Array.isArray($)&&(dt.providerData=$.map(Et=>({...Et}))),y&&(dt._redirectEventId=y),dt}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ga;l.updateFromServerResponse(i);const c=new Zn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await nh(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];yt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?mT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Ga;p.updateFromIdToken(a);const y=new Zn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new hm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,v),y}}const Kv=new Map;function $i(r){ns(r instanceof Function,"Expected a class definition");let t=Kv.get(r);return t?(ns(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Kv.set(r,t),t)}class gT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}gT.type="NONE";const Xv=gT;function Pc(r,t,i){return`firebase:${r}:${t}:${i}`}class Qa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Pc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Pc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await eh(this.auth,{idToken:t}).catch(()=>{});return i?Zn._fromGetAccountInfoResponse(this.auth,i,t):null}return Zn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Qa($i(Xv),t,a);const l=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=l[0]||$i(Xv);const d=Pc(a,t.config.apiKey,t.name);let p=null;for(const v of i)try{const A=await v._get(d);if(A){let b;if(typeof A=="string"){const V=await eh(t,{idToken:A}).catch(()=>{});if(!V)break;b=await Zn._fromGetAccountInfoResponse(t,V,A)}else b=Zn._fromJSON(t,A);v!==c&&(p=b),c=v;break}}catch{}const y=l.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Qa(c,t,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new Qa(c,t,a))}}function Zv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(vT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(pT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(TT(t))return"Blackberry";if(AT(t))return"Webos";if(yT(t))return"Safari";if((t.includes("chrome/")||_T(t))&&!t.includes("edge/"))return"Chrome";if(ET(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function pT(r=$e()){return/firefox\//i.test(r)}function yT(r=$e()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function _T(r=$e()){return/crios\//i.test(r)}function vT(r=$e()){return/iemobile/i.test(r)}function ET(r=$e()){return/android/i.test(r)}function TT(r=$e()){return/blackberry/i.test(r)}function AT(r=$e()){return/webos/i.test(r)}function tg(r=$e()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Q2(r=$e()){return tg(r)&&!!window.navigator?.standalone}function Y2(){return QA()&&document.documentMode===10}function ST(r=$e()){return tg(r)||ET(r)||AT(r)||TT(r)||/windows phone/i.test(r)||vT(r)}function bT(r,t=[]){let i;switch(r){case"Browser":i=Zv($e());break;case"Worker":i=`${Zv($e())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${no}/${a}`}class K2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function X2(r,t={}){return lo(r,"GET","/v2/passwordPolicy",Eh(r,t))}const Z2=6;class $2{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Z2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class J2{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $v(this),this.idTokenSubscription=new $v(this),this.beforeStateQueue=new K2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=$i(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Qa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await eh(this,{idToken:t}),a=await Zn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Kn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await nh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=M2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Kn(this.app))return Promise.reject(Ks(this));const i=t?cn(t):null;return i&&yt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&yt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(Ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Kn(this.app)?Promise.reject(Ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($i(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await X2(this),i=new $2(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ul("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await G2(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&$i(t)||this._popupRedirectResolver;yt(i,this,"argument-error"),this.redirectPersistenceManager=await Qa.create(this,[$i(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=bT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&D2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Th(r){return cn(r)}class $v{constructor(t){this.auth=t,this.observer=null,this.addObserver=tS(i=>this.observer=i)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let eg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function W2(r){eg=r}function tI(r){return eg.loadJS(r)}function eI(){return eg.gapiScript}function nI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function iI(r,t){const i=pm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Pr(c,t??{}))return l;es(l,"already-initialized")}return i.initialize({options:t})}function sI(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map($i);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function rI(r,t,i){const a=Th(r);yt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=wT(t),{host:d,port:p}=aI(t),y=p===null?"":`:${p}`,v={url:`${c}//${d}${y}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){yt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),yt(Pr(v,a.config.emulator)&&Pr(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=v,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,eo(d)?(T0(`${c}//${d}${y}`),A0("Auth",!0)):oI()}function wT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function aI(r){const t=wT(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:Jv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:Jv(d)}}}function Jv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function oI(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class RT{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Zi("not implemented")}_getIdTokenResponse(t){return Zi("not implemented")}_linkToIdToken(t,i){return Zi("not implemented")}_getReauthenticationResolver(t){return Zi("not implemented")}}async function Ya(r,t){return fT(r,"POST","/v1/accounts:signInWithIdp",Eh(r,t))}const lI="http://localhost";class qr extends RT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new qr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):es("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new qr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ya(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ya(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ya(t,i)}buildRequest(){const t={requestUri:lI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Ll(i)}return t}}class IT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Gl extends IT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ps extends Gl{constructor(){super("facebook.com")}static credential(t){return qr._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ps.credentialFromTaggedObject(t)}static credentialFromError(t){return Ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ps.credential(t.oauthAccessToken)}catch{return null}}}Ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ps.PROVIDER_ID="facebook.com";class zs extends Gl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return qr._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return zs.credentialFromTaggedObject(t)}static credentialFromError(t){return zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return zs.credential(i,a)}catch{return null}}}zs.GOOGLE_SIGN_IN_METHOD="google.com";zs.PROVIDER_ID="google.com";class js extends Gl{constructor(){super("github.com")}static credential(t){return qr._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return js.credentialFromTaggedObject(t)}static credentialFromError(t){return js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return js.credential(t.oauthAccessToken)}catch{return null}}}js.GITHUB_SIGN_IN_METHOD="github.com";js.PROVIDER_ID="github.com";class Bs extends Gl{constructor(){super("twitter.com")}static credential(t,i){return qr._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Bs.credential(i,a)}catch{return null}}}Bs.TWITTER_SIGN_IN_METHOD="twitter.com";Bs.PROVIDER_ID="twitter.com";async function uI(r,t){return fT(r,"POST","/v1/accounts:signUp",Eh(r,t))}class er{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Zn._fromIdTokenResponse(t,a,l),d=Wv(a);return new er({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=Wv(a);return new er({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function Wv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function cI(r){if(Kn(r.app))return Promise.reject(Ks(r));const t=Th(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new er({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await uI(t,{returnSecureToken:!0}),a=await er._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class ih extends is{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,ih.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new ih(t,i,a,l)}}function CT(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?ih._fromErrorAndOperation(r,c,t,a):c})}async function hI(r,t,i=!1){const a=await kl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return er._forOperation(r,"link",a)}async function fI(r,t,i=!1){const{auth:a}=r;if(Kn(a.app))return Promise.reject(Ks(a));const l="reauthenticate";try{const c=await kl(r,CT(a,l,t,r),i);yt(c.idToken,a,"internal-error");const d=Wm(c.idToken);yt(d,a,"internal-error");const{sub:p}=d;return yt(r.uid===p,a,"user-mismatch"),er._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&es(a,"user-mismatch"),c}}async function dI(r,t,i=!1){if(Kn(r.app))return Promise.reject(Ks(r));const a="signIn",l=await CT(r,a,t),c=await er._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}function mI(r,t,i,a){return cn(r).onIdTokenChanged(t,i,a)}function gI(r,t,i){return cn(r).beforeAuthStateChanged(t,i)}function pI(r,t,i,a){return cn(r).onAuthStateChanged(t,i,a)}const sh="__sak";class NT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(sh,"1"),this.storage.removeItem(sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const yI=1e3,_I=10;class DT extends NT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ST(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);Y2()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,_I):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},yI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}DT.type="LOCAL";const vI=DT;class OT extends NT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}OT.type="SESSION";const xT=OT;function EI(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Ah{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new Ah(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async v=>v(i.origin,c)),y=await EI(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ah.receivers=[];function ng(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class TI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const v=ng("",20);l.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(b){const V=b;if(V.data.eventId===v)switch(V.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(V.data.response);break;default:clearTimeout(A),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ii(){return window}function AI(r){Ii().location.href=r}function MT(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function SI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bI(){return navigator?.serviceWorker?.controller||null}function wI(){return MT()?self:null}const VT="firebaseLocalStorageDb",RI=1,rh="firebaseLocalStorage",kT="fbase_key";class Ql{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Sh(r,t){return r.transaction([rh],t?"readwrite":"readonly").objectStore(rh)}function II(){const r=indexedDB.deleteDatabase(VT);return new Ql(r).toPromise()}function fm(){const r=indexedDB.open(VT,RI);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(rh,{keyPath:kT})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(rh)?t(a):(a.close(),await II(),t(await fm()))})})}async function t0(r,t,i){const a=Sh(r,!0).put({[kT]:t,value:i});return new Ql(a).toPromise()}async function CI(r,t){const i=Sh(r,!1).get(t),a=await new Ql(i).toPromise();return a===void 0?null:a.value}function e0(r,t){const i=Sh(r,!0).delete(t);return new Ql(i).toPromise()}const NI=800,DI=3;class UT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>DI)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return MT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ah._getInstance(wI()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await SI(),!this.activeServiceWorker)return;this.sender=new TI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||bI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await fm();return await t0(t,sh,"1"),await e0(t,sh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>t0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>CI(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>e0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Sh(l,!1).getAll();return new Ql(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UT.type="LOCAL";const OI=UT;new Fl(3e4,6e4);function xI(r,t){return t?$i(t):(yt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class ig extends RT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ya(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ya(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ya(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function MI(r){return dI(r.auth,new ig(r),r.bypassAuthState)}function VI(r){const{auth:t,user:i}=r;return yt(i,t,"internal-error"),fI(i,new ig(r),r.bypassAuthState)}async function kI(r){const{auth:t,user:i}=r;return yt(i,t,"internal-error"),hI(i,new ig(r),r.bypassAuthState)}class LT{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return MI;case"linkViaPopup":case"linkViaRedirect":return kI;case"reauthViaPopup":case"reauthViaRedirect":return VI;default:es(this.auth,"internal-error")}}resolve(t){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const UI=new Fl(2e3,1e4);class qa extends LT{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,qa.currentPopupAction&&qa.currentPopupAction.cancel(),qa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return yt(t,this.auth,"internal-error"),t}async onExecution(){ns(this.filter.length===1,"Popup operations only handle one event");const t=ng();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,UI.get())};t()}}qa.currentPopupAction=null;const LI="pendingRedirect",zc=new Map;class PI extends LT{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=zc.get(this.auth._key());if(!t){try{const a=await zI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}zc.set(this.auth._key(),t)}return this.bypassAuthState||zc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zI(r,t){const i=qI(t),a=BI(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function jI(r,t){zc.set(r._key(),t)}function BI(r){return $i(r._redirectPersistence)}function qI(r){return Pc(LI,r.config.apiKey,r.name)}async function HI(r,t,i=!1){if(Kn(r.app))return Promise.reject(Ks(r));const a=Th(r),l=xI(a,t),d=await new PI(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const FI=600*1e3;class GI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!QI(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!PT(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ri(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=FI&&this.cachedEventUids.clear(),this.cachedEventUids.has(n0(t))}saveEventToCache(t){this.cachedEventUids.add(n0(t)),this.lastProcessedEventTime=Date.now()}}function n0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function PT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function QI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PT(r);default:return!1}}async function YI(r,t={}){return lo(r,"GET","/v1/projects",t)}const KI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XI=/^https?/;async function ZI(r){if(r.config.emulator)return;const{authorizedDomains:t}=await YI(r);for(const i of t)try{if($I(i))return}catch{}es(r,"unauthorized-domain")}function $I(r){const t=cm(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!XI.test(i))return!1;if(KI.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const JI=new Fl(3e4,6e4);function i0(){const r=Ii().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function WI(r){return new Promise((t,i)=>{function a(){i0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{i0(),i(Ri(r,"network-request-failed"))},timeout:JI.get()})}if(Ii().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ii().gapi?.load)a();else{const l=nI("iframefcb");return Ii()[l]=()=>{gapi.load?a():i(Ri(r,"network-request-failed"))},tI(`${eI()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw jc=null,t})}let jc=null;function tC(r){return jc=jc||WI(r),jc}const eC=new Fl(5e3,15e3),nC="__/auth/iframe",iC="emulator/auth/iframe",sC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aC(r){const t=r.config;yt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Jm(t,iC):`https://${r.config.authDomain}/${nC}`,a={apiKey:t.apiKey,appName:r.name,v:no},l=rC.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Ll(a).slice(1)}`}async function oC(r){const t=await tC(r),i=Ii().gapi;return yt(i,r,"internal-error"),t.open({where:document.body,url:aC(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sC,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ri(r,"network-request-failed"),p=Ii().setTimeout(()=>{c(d)},eC.get());function y(){Ii().clearTimeout(p),l(a)}a.ping(y).then(y,()=>{c(d)})}))}const lC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uC=500,cC=600,hC="_blank",fC="http://localhost";class s0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dC(r,t,i,a=uC,l=cC){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...lC,width:a.toString(),height:l.toString(),top:c,left:d},v=$e().toLowerCase();i&&(p=_T(v)?hC:i),pT(v)&&(t=t||fC,y.scrollbars="yes");const A=Object.entries(y).reduce((V,[G,$])=>`${V}${G}=${$},`,"");if(Q2(v)&&p!=="_self")return mC(t||"",p),new s0(null);const b=window.open(t||"",p,A);yt(b,r,"popup-blocked");try{b.focus()}catch{}return new s0(b)}function mC(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const gC="__/auth/handler",pC="emulator/auth/handler",yC=encodeURIComponent("fac");async function r0(r,t,i,a,l,c){yt(r.config.authDomain,r,"auth-domain-config-required"),yt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:no,eventId:l};if(t instanceof IT){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",WA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,b]of Object.entries({}))d[A]=b}if(t instanceof Gl){const A=t.getScopes().filter(b=>b!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const y=await r._getAppCheckToken(),v=y?`#${yC}=${encodeURIComponent(y)}`:"";return`${_C(r)}?${Ll(p).slice(1)}${v}`}function _C({config:r}){return r.emulator?Jm(r,pC):`https://${r.authDomain}/${gC}`}const Bd="webStorageSupport";class vC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xT,this._completeRedirectFn=HI,this._overrideRedirectResult=jI}async _openPopup(t,i,a,l){ns(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await r0(t,i,a,cm(),l);return dC(t,c,ng())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await r0(t,i,a,cm(),l);return AI(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ns(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await oC(t),a=new GI(t);return i.register("authEvent",l=>(yt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Bd,{type:Bd},l=>{const c=l?.[0]?.[Bd];c!==void 0&&i(!!c),es(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=ZI(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return ST()||yT()||tg()}}const EC=vC;var a0="@firebase/auth",o0="1.12.0";class TC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function AC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function SC(r){Ka(new zr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;yt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bT(r)},v=new J2(a,l,c,y);return sI(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Ka(new zr("auth-internal",t=>{const i=Th(t.getProvider("auth").getImmediate());return(a=>new TC(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gs(a0,o0,AC(r)),Gs(a0,o0,"esm2020")}const bC=300,wC=E0("authIdTokenMaxAge")||bC;let l0=null;const RC=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>wC)return;const l=i?.token;l0!==l&&(l0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function IC(r=R0()){const t=pm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=iI(r,{popupRedirectResolver:EC,persistence:[OI,vI,xT]}),a=E0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=RC(c.toString());gI(i,d,()=>d(i.currentUser)),mI(i,p=>d(p))}}const l=_0("auth");return l&&rI(i,`http://${l}`),i}function CC(){return document.getElementsByTagName("head")?.[0]??document}W2({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=Ri("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",CC().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});SC("Browser");const NC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),DC=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),u0=r=>{const t=DC(r);return t.charAt(0).toUpperCase()+t.slice(1)},zT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),OC=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var xC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const MC=oe.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},y)=>oe.createElement("svg",{ref:y,...xC,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:zT("lucide",l),...!c&&!OC(p)&&{"aria-hidden":"true"},...p},[...d.map(([v,A])=>oe.createElement(v,A)),...Array.isArray(c)?c:[c]]));const En=(r,t)=>{const i=oe.forwardRef(({className:a,...l},c)=>oe.createElement(MC,{ref:c,iconNode:t,className:zT(`lucide-${NC(u0(r))}`,`lucide-${r}`,a),...l}));return i.displayName=u0(r),i};const VC=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],kC=En("chevron-left",VC);const UC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],LC=En("chevron-right",UC);const PC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],jT=En("circle-check-big",PC);const zC=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],jC=En("clock",zC);const BC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],qC=En("file-text",BC);const HC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],FC=En("log-out",HC);const GC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],c0=En("plus",GC);const QC=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],YC=En("refresh-cw",QC);const KC=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],XC=En("save",KC);const ZC=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],h0=En("settings",ZC);const $C=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],JC=En("shield",$C);const WC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],f0=En("trash-2",WC);const tN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],eN=En("users",tN),nN={apiKey:"AIzaSyDAU3qUSdj97I08ga6byIoFQb_pf0b3EeI",authDomain:"e-i-b-e-p-r-o-mideabank-muwplu.firebaseapp.com",projectId:"e-i-b-e-p-r-o-mideabank-muwplu",storageBucket:"e-i-b-e-p-r-o-mideabank-muwplu.firebasestorage.app",messagingSenderId:"567962116529",appId:"1:567962116529:web:e70eb712555bc6c9175d90"},BT=w0(nN),d0=IC(BT),Ki=f2(BT),Xi="exam-app-v1",iN=[{id:"1",text:"Health in occupational health refers mainly to:",options:["Preventing physical injuries only","Avoiding all exposure to chemicals at work","Promoting complete physical, mental, and social well-being","Ensuring workers are medically fit for employment"],correctIndex:2},{id:"2",text:"Which example best represents a psychosocial hazard?",options:["Excessive heat exposure inside a unit","High noise levels near compressors","Harassment, overwhelming workload, or job insecurity","Use of defective lifting equipment"],correctIndex:2},{id:"3",text:"A strong safety culture in a refinery is built primarily on:",options:["Strict punishment for every mistake","Encouraging reporting, learning, and proactive prevention","Minimizing communication to avoid confusion","Relying completely on experienced staff"],correctIndex:1},{id:"4",text:"The main purpose of the Permit to Work (PTW) system is to:",options:["Restrict routine work","Control non-routine and hazardous work activities","Approve overtime requests","Identify skilled workers only"],correctIndex:1},{id:"5",text:"Which situation requires a Hot Work Permit?",options:["Opening a drain valve","Performing welding inside a tank","Checking insulation","Taking a water sample"],correctIndex:1},{id:"6",text:"A Lockout/Tagout (LOTO) procedure primarily ensures:",options:["All tools are clean before use","Energy sources are isolated and cannot be re-energized","Workers work faster during shutdown","Only electrical hazards are controlled"],correctIndex:1},{id:"7",text:"During LOTO, which of the following is MOST critical?",options:["Using new padlocks","Verifying zero energy after isolation","Tag color","Number of workers involved"],correctIndex:1},{id:"8",text:"HS poses the highest danger because:",options:["It is non-toxic but flammable","It causes olfactory fatigue, making smell unreliable","It is flammable but non-toxic","It is only found in pipelines"],correctIndex:1},{id:"9",text:"A worker suddenly collapses in an area known for HS. What is the FIRST action?",options:["Run in and drag the worker out","Hold your breath and assist","Call for help, don SCBA, and only then perform rescue","Wait until someone else arrives"],correctIndex:2},{id:"10",text:"Carbon monoxide (CO) is dangerous mainly because it:",options:["Has a strong irritating odor","Displaces oxygen by binding to hemoglobin","Is usually visible as white gas","Only occurs in confined spaces"],correctIndex:1},{id:"11",text:"SO exposure is best described as:",options:["A simple asphyxiant non-toxic","A gas causing respiratory irritation and corrosive effects","An anesthetic gas","Physically harmless in small doses"],correctIndex:1},{id:"12",text:"In hazardous area classification, the primary purpose is to:",options:["Calculate explosion overpressure","Assign appropriate electrical equipment for the gas risk","Determine PPE rotation","Identify the best evacuation route"],correctIndex:1},{id:"13",text:"A refinery unit with continuous presence of flammable vapor under normal operation is typically classified as:",options:["Zone 0","Zone 1","Zone 2","Non-classified area"],correctIndex:0},{id:"14",text:"A difference between Zone 1 and Zone 2 is:",options:["Zone 1 is safer than Zone 2","Zone 2 means flammable gas is not expected during normal operation","Zone 2 requires ATEX Group IIC always","Zone 1 does not require explosion-proof equipment"],correctIndex:1},{id:"15",text:"Which of the following is a chemical hazard?",options:["Unprotected machine gears","Benzene vapors in a pump house","Working at height","High-voltage panels"],correctIndex:1},{id:"16",text:"Which of the following best fits a process safety hazard?",options:["A worker slipping on a wet floor","Failure of a high-pressure reactor leading to major release","A worker lifting incorrectly","Sun exposure"],correctIndex:1},{id:"17",text:"Physical hazard examples include:",options:["Flammable gases","Heat, noise, vibration, and radiation","Ergonomic strain","Workload pressure"],correctIndex:1},{id:"18",text:"LOPA (Layer of Protection Analysis) is used to:",options:["Replace detailed risk assessments","Evaluate the adequacy of independent protection layers","Approve design drawings","Eliminate all process risks"],correctIndex:1},{id:"19",text:"Which of the following is considered an Independent Protection Layer (IPL) in LOPA?",options:["Operator experience","A relief valve with proper design and maintenance","A checklist","A warning sign"],correctIndex:1},{id:"20",text:"A scenario involves a high-pressure vessel that could overpressure. Which combination is MOST consistent with LOPA?",options:["We rely on operator skill only.","We have alarms, interlocks, and a PSV.","We hope it doesnt happen.","We ignore rare events."],correctIndex:1},{id:"21",text:"A key lesson from the Piper Alpha disaster is:",options:["Offshore platforms must be made of concrete","Poor permit-to-work coordination can escalate catastrophic events","Gas fires can be extinguished easily","Evacuation is always safe regardless of fire spread"],correctIndex:1},{id:"22",text:"Piper Alpha demonstrated the importance of:",options:["Perfectly predicting all failures","Tight control of simultaneous operations and maintenance activities","Allowing hot work at any time","Removing all safety valves"],correctIndex:1},{id:"23",text:"Which failure contributed most to the escalation during Piper Alpha?",options:["Strong communication between shifts","Incomplete isolation and missing blinds during maintenance","Excessive attention to alarms","Proper gas detection"],correctIndex:1},{id:"24",text:"You arrive at a job site with strong solvent odor. Workers say We think its safe. Your FIRST action is:",options:["Proceed with the job","Continue if you dont smell anything","Stop work, assess, and verify atmosphere with proper gas detection","Open nearby valves to ventilate"],correctIndex:2},{id:"25",text:"During routine inspection, you see an electrician using a non-Ex rated drill in a Zone 1 area. You should:",options:["Ignore it because its only temporary","Allow it if the job is urgent","Stop the job and explain the hazard before restarting safely","Ask him to hurry and finish quickly"],correctIndex:2},{id:"26",text:"You observe two technicians entering a confined space without gas testing. The correct response is:",options:["Wait for them to start before stopping them","Stop them immediately and enforce confined space procedures","Allow entry if ventilation is running","Let them enter if the job is simple"],correctIndex:1},{id:"27",text:"A worker complains of dizziness and headache while working near process burners. Which gas exposure is MOST likely?",options:["Oxygen","Carbon monoxide","HS at 700 ppm concentration","Argon"],correctIndex:1},{id:"28",text:"You find a pump with repeated seal leaks. What is the safest action?",options:["Increase production to compensate","Ignore as long as no alarms occur","Report for maintenance and evaluate for process safety implications","Place a cloth to absorb leakage"],correctIndex:2},{id:"29",text:"Oxidative stress in occupational exposure is best described as:",options:["A process where antioxidants increase uncontrolled","Imbalance between oxidants and antioxidants causing DNA damage","A mechanical failure in body systems","A short-term irritation only"],correctIndex:1},{id:"30",text:"Which lifestyle factor can worsen oxidative stress and occupational exposure effects?",options:["Balanced diet rich in fruits","Adequate sleep","Chronic smoking and poor diet","Regular physical activity"],correctIndex:2}],m0={timerMinutes:45,passScore:60,adminEmail:"testENG@eprom.com",studentFields:[{id:"f1",label:"Full Name",type:"text",required:!0},{id:"f2",label:"Phone Number",type:"tel",required:!0},{id:"f3",label:"ID",type:"text",required:!0},{id:"f4",label:"Department",type:"select",required:!0,options:["Mechanical","Electrical","Process","Civil","HSE","IT"]},{id:"f5",label:"Group",type:"select",required:!0,options:["A","B","C","D"]}]},sN=({onLogin:r,onResetRequest:t})=>{const[i,a]=oe.useState(""),[l,c]=oe.useState(""),d=p=>{p.preventDefault(),i==="admin123"?r():c("Invalid credentials")};return j.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:j.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg w-full max-w-md",children:[j.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-gray-800",children:"Admin Access"}),j.jsxs("form",{onSubmit:d,className:"space-y-4",children:[j.jsxs("div",{children:[j.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),j.jsx("input",{type:"password",value:i,onChange:p=>a(p.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 border p-2",placeholder:""})]}),l&&j.jsx("p",{className:"text-red-500 text-sm",children:l}),j.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition",children:"Login"})]}),j.jsx("button",{onClick:t,className:"mt-4 text-sm text-blue-600 hover:text-blue-800 w-full text-center",children:"Forgot Password?"})]})})},rN=({fields:r,onStart:t})=>{const[i,a]=oe.useState({}),l=d=>{d.preventDefault(),t(i)},c=(d,p)=>{a(y=>({...y,[d]:p}))};return j.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:j.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg w-full max-w-lg",children:[j.jsxs("div",{className:"mb-6 text-center",children:[j.jsx("h1",{className:"text-3xl font-bold text-blue-900",children:"Competence Exam"}),j.jsx("p",{className:"text-gray-500 mt-2",children:"Please complete your registration"})]}),j.jsxs("form",{onSubmit:l,className:"space-y-4",children:[r.map(d=>j.jsxs("div",{children:[j.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:[d.label," ",d.required&&j.jsx("span",{className:"text-red-500",children:"*"})]}),d.type==="select"?j.jsxs("select",{required:d.required,className:"w-full border rounded p-2 bg-white",onChange:p=>c(d.label,p.target.value),children:[j.jsx("option",{value:"",children:"Select..."}),d.options?.map(p=>j.jsx("option",{value:p,children:p},p))]}):j.jsx("input",{type:d.type,required:d.required,className:"w-full border rounded p-2",onChange:p=>c(d.label,p.target.value)})]},d.id)),j.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 rounded-lg font-bold text-lg hover:bg-blue-700 transition mt-6",children:"Start Exam"})]})]})})},aN=({questions:r,durationMins:t,studentName:i,onSubmit:a})=>{const[l,c]=oe.useState(0),[d,p]=oe.useState({}),[y,v]=oe.useState(t*60);oe.useEffect(()=>{const $=setInterval(()=>{v(W=>W<=1?(clearInterval($),A(),0):W-1)},1e3);return()=>clearInterval($)},[]);const A=()=>{a(d)},b=$=>{p(W=>({...W,[r[l].id]:$}))},V=$=>{const W=Math.floor($/60),J=$%60;return`${W}:${J<10?"0":""}${J}`};if(r.length===0)return j.jsx("div",{className:"p-10 text-center",children:"Loading Exam..."});const G=r[l];return j.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[j.jsxs("header",{className:"bg-white shadow p-4 flex justify-between items-center sticky top-0 z-10",children:[j.jsxs("div",{children:[j.jsx("h2",{className:"font-bold text-gray-800",children:i}),j.jsxs("span",{className:"text-sm text-gray-500",children:["Question ",l+1," of ",r.length]})]}),j.jsxs("div",{className:`text-xl font-mono font-bold flex items-center gap-2 ${y<300?"text-red-600":"text-blue-600"}`,children:[j.jsx(jC,{size:20}),V(y)]})]}),j.jsx("main",{className:"flex-1 container mx-auto p-4 max-w-3xl",children:j.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 min-h-[400px]",children:[j.jsx("h3",{className:"text-xl font-medium mb-6 text-gray-800 leading-relaxed",children:G.text}),j.jsx("div",{className:"space-y-3",children:G.options.map(($,W)=>{const J=d[G.id]===W;return j.jsxs("div",{onClick:()=>b(W),className:`p-4 border rounded-lg cursor-pointer transition flex items-center gap-3
                    ${J?"bg-blue-50 border-blue-500":"hover:bg-gray-50 border-gray-200"}
                  `,children:[j.jsx("div",{className:`w-5 h-5 rounded-full border flex items-center justify-center
                    ${J?"border-blue-600 bg-blue-600":"border-gray-400"}
                  `,children:J&&j.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),j.jsx("span",{className:"text-gray-700",children:$})]},W)})})]})}),j.jsx("footer",{className:"bg-white border-t p-4",children:j.jsxs("div",{className:"container mx-auto max-w-3xl flex justify-between",children:[j.jsxs("button",{onClick:()=>c($=>Math.max(0,$-1)),disabled:l===0,className:"flex items-center gap-2 px-4 py-2 rounded text-gray-600 hover:bg-gray-100 disabled:opacity-50",children:[j.jsx(kC,{size:20})," Previous"]}),l===r.length-1?j.jsxs("button",{onClick:A,className:"flex items-center gap-2 px-6 py-2 rounded bg-green-600 text-white hover:bg-green-700 font-bold",children:["Submit Exam ",j.jsx(jT,{size:20})]}):j.jsxs("button",{onClick:()=>c($=>Math.min(r.length-1,$+1)),className:"flex items-center gap-2 px-6 py-2 rounded bg-blue-600 text-white hover:bg-blue-700",children:["Next ",j.jsx(LC,{size:20})]})]})})]})};function oN(){const[r,t]=oe.useState("student-login"),[i,a]=oe.useState(null),[l,c]=oe.useState([]),[d,p]=oe.useState(m0),[y,v]=oe.useState(null),[A,b]=oe.useState("results"),[V,G]=oe.useState([]),[$,W]=oe.useState({});oe.useEffect(()=>{(async()=>await cI(d0))();const ut=pI(d0,w=>a(w));return()=>ut()},[]),oe.useEffect(()=>{if(!i)return;const ot=Nc(Ba(Ki,"artifacts",Xi,"public","data","config","settings"),S=>{S.exists()&&p(S.data())},S=>console.log("Settings fetch err",S)),ut=zd(Ic(Ki,"artifacts",Xi,"public","data","questions")),w=Nc(ut,S=>{const R=[];S.forEach(x=>R.push(x.data())),R.sort((x,N)=>parseInt(x.id)-parseInt(N.id)),c(R)},S=>console.log("Q fetch err",S));return()=>{ot(),w()}},[i]),oe.useEffect(()=>{if(r==="admin-dash"&&i){const ot=zd(Ic(Ki,"artifacts",Xi,"public","data","secure_keys")),ut=Nc(ot,R=>{const x={};R.forEach(N=>{const k=N.data();x[k.id]=k.correctIndex}),W(x)},R=>console.log("Key fetch err",R)),w=zd(Ic(Ki,"artifacts",Xi,"public","data","submissions")),S=Nc(w,R=>{const x=[];R.forEach(N=>x.push({id:N.id,...N.data()})),G(x)},R=>console.log("Sub fetch err",R));return()=>{ut(),S()}}},[r,i]);const J=ot=>{v(ot),t("student-exam")},dt=async ot=>{if(i)try{await R2(Ic(Ki,"artifacts",Xi,"public","data","submissions"),{studentData:y,answers:ot,timestamp:C2()}),t("student-done")}catch{alert("Error submitting. Please try again.")}},Et=()=>{prompt("Enter Recovery Email:")===d.adminEmail?alert("Instructions sent to email (simulated). Default is admin123"):alert("Email not recognized.")},gt=async()=>{if(confirm("This will overwrite existing questions. Continue?")){for(const ot of iN){const{correctIndex:ut,...w}=ot;await Cc(Ba(Ki,"artifacts",Xi,"public","data","questions",ot.id),w),await Cc(Ba(Ki,"artifacts",Xi,"public","data","secure_keys",ot.id),{id:ot.id,correctIndex:ut})}await Cc(Ba(Ki,"artifacts",Xi,"public","data","config","settings"),m0),alert("Database Initialized Successfully!")}},qt=ot=>{if(Object.keys($).length===0)return{score:0,total:0,percent:0,pass:!1};let ut=0,w=0;Object.keys($).forEach(R=>{w++,ot.answers[R]===$[R]&&ut++});const S=Math.round(ut/w*100);return{score:ut,total:w,percent:S,pass:S>=d.passScore}};return r==="student-login"?j.jsxs(j.Fragment,{children:[j.jsx("div",{className:"absolute top-4 right-4",children:j.jsxs("button",{onClick:()=>t("admin-login"),className:"text-gray-400 hover:text-gray-600 flex items-center gap-1",children:[j.jsx(JC,{size:16})," Admin"]})}),j.jsx(rN,{fields:d.studentFields,onStart:J})]}):r==="student-exam"?j.jsx(aN,{questions:l,durationMins:d.timerMinutes,studentName:y?.["Full Name"]||"Student",onSubmit:dt}):r==="student-done"?j.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 text-center p-6",children:j.jsxs("div",{className:"bg-white p-10 rounded-lg shadow-xl max-w-md",children:[j.jsx(jT,{className:"w-24 h-24 text-green-500 mx-auto mb-6"}),j.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Exam Submitted"}),j.jsx("p",{className:"text-gray-600 mb-6",children:"Your answers have been securely recorded. You may close this window."}),j.jsx("button",{onClick:()=>window.location.reload(),className:"text-blue-600 hover:underline",children:"Return to Login"})]})}):r==="admin-login"?j.jsx(sN,{onLogin:()=>t("admin-dash"),onResetRequest:Et}):r==="admin-dash"?j.jsxs("div",{className:"min-h-screen bg-gray-100 flex",children:[j.jsxs("div",{className:"w-64 bg-gray-900 text-white flex flex-col",children:[j.jsx("div",{className:"p-6 font-bold text-xl tracking-wider border-b border-gray-800",children:"ADMIN PANEL"}),j.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[j.jsxs("button",{onClick:()=>b("results"),className:`w-full flex items-center gap-3 p-3 rounded transition ${A==="results"?"bg-blue-600":"hover:bg-gray-800"}`,children:[j.jsx(eN,{size:20})," Results"]}),j.jsxs("button",{onClick:()=>b("questions"),className:`w-full flex items-center gap-3 p-3 rounded transition ${A==="questions"?"bg-blue-600":"hover:bg-gray-800"}`,children:[j.jsx(qC,{size:20})," Questions"]}),j.jsxs("button",{onClick:()=>b("settings"),className:`w-full flex items-center gap-3 p-3 rounded transition ${A==="settings"?"bg-blue-600":"hover:bg-gray-800"}`,children:[j.jsx(h0,{size:20})," Settings"]})]}),j.jsxs("button",{onClick:()=>t("student-login"),className:"p-4 flex items-center gap-3 hover:bg-red-900 transition text-red-300",children:[j.jsx(FC,{size:20})," Logout"]})]}),j.jsxs("div",{className:"flex-1 p-8 overflow-y-auto",children:[A==="results"&&j.jsxs("div",{children:[j.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Student Results"}),j.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:j.jsxs("table",{className:"w-full text-left",children:[j.jsx("thead",{className:"bg-gray-50 text-gray-600 uppercase text-sm",children:j.jsxs("tr",{children:[j.jsx("th",{className:"p-4",children:"Name"}),j.jsx("th",{className:"p-4",children:"ID"}),j.jsx("th",{className:"p-4",children:"Date"}),j.jsx("th",{className:"p-4",children:"Score"}),j.jsx("th",{className:"p-4",children:"Status"})]})}),j.jsxs("tbody",{className:"divide-y",children:[V.map(ot=>{const ut=qt(ot),w=ot.timestamp?ot.timestamp.toDate().toLocaleString():"Syncing...";return j.jsxs("tr",{className:"hover:bg-gray-50",children:[j.jsx("td",{className:"p-4 font-medium",children:ot.studentData["Full Name"]||"N/A"}),j.jsx("td",{className:"p-4 text-gray-500",children:ot.studentData.ID||"N/A"}),j.jsx("td",{className:"p-4 text-sm text-gray-500",children:w}),j.jsxs("td",{className:"p-4 font-mono",children:[ut.score,"/",ut.total," (",ut.percent,"%)"]}),j.jsx("td",{className:"p-4",children:j.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${ut.pass?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:ut.pass?"PASS":"FAIL"})})]},ot.id)}),V.length===0&&j.jsx("tr",{children:j.jsx("td",{colSpan:5,className:"p-8 text-center text-gray-500",children:"No submissions yet."})})]})]})})]}),A==="questions"&&j.jsxs("div",{children:[j.jsxs("div",{className:"flex justify-between items-center mb-6",children:[j.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Question Bank"}),j.jsxs("div",{className:"space-x-2",children:[j.jsxs("button",{onClick:gt,className:"bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded flex items-center gap-2 text-sm",children:[j.jsx(YC,{size:16})," Load Default Exam"]}),j.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded flex items-center gap-2",children:[j.jsx(c0,{size:16})," Add Question"]})]})]}),j.jsx("div",{className:"space-y-4",children:l.map(ot=>j.jsxs("div",{className:"bg-white p-4 rounded shadow border-l-4 border-blue-500",children:[j.jsxs("div",{className:"flex justify-between",children:[j.jsxs("h4",{className:"font-bold text-lg",children:["Q",ot.id,": ",ot.text]}),j.jsxs("div",{className:"flex gap-2",children:[j.jsx("button",{className:"p-1 text-gray-400 hover:text-blue-600",children:j.jsx(h0,{size:16})}),j.jsx("button",{className:"p-1 text-gray-400 hover:text-red-600",children:j.jsx(f0,{size:16})})]})]}),j.jsx("ul",{className:"mt-2 text-sm text-gray-600 ml-4 list-disc",children:ot.options.map((ut,w)=>j.jsxs("li",{className:w===$[ot.id]?"text-green-600 font-bold":"",children:[ut," ",w===$[ot.id]&&"(Correct)"]},w))})]},ot.id))})]}),A==="settings"&&j.jsxs("div",{className:"max-w-2xl",children:[j.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Exam Configuration"}),j.jsxs("div",{className:"bg-white p-6 rounded shadow mb-6",children:[j.jsx("h3",{className:"font-bold text-gray-700 mb-4 border-b pb-2",children:"Parameters"}),j.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[j.jsxs("div",{children:[j.jsx("label",{className:"block text-sm font-medium",children:"Timer (Minutes)"}),j.jsx("input",{type:"number",value:d.timerMinutes,onChange:ot=>p({...d,timerMinutes:parseInt(ot.target.value)}),className:"w-full border p-2 rounded mt-1"})]}),j.jsxs("div",{children:[j.jsx("label",{className:"block text-sm font-medium",children:"Passing Score (%)"}),j.jsx("input",{type:"number",value:d.passScore,onChange:ot=>p({...d,passScore:parseInt(ot.target.value)}),className:"w-full border p-2 rounded mt-1"})]})]}),j.jsxs("button",{onClick:()=>Cc(Ba(Ki,"artifacts",Xi,"public","data","config","settings"),d),className:"mt-4 bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 flex items-center gap-2",children:[j.jsx(XC,{size:16})," Save Changes"]})]}),j.jsxs("div",{className:"bg-white p-6 rounded shadow",children:[j.jsx("h3",{className:"font-bold text-gray-700 mb-4 border-b pb-2",children:"Student Registration Fields"}),j.jsx("div",{className:"space-y-3 mb-4",children:d.studentFields.map((ot,ut)=>j.jsxs("div",{className:"flex gap-2 items-center bg-gray-50 p-2 rounded",children:[j.jsx("span",{className:"font-mono text-xs text-gray-400 w-6",children:ut+1}),j.jsx("input",{value:ot.label,onChange:w=>{const S=[...d.studentFields];S[ut].label=w.target.value,p({...d,studentFields:S})},className:"border p-1 rounded flex-1 text-sm"}),j.jsxs("select",{value:ot.type,onChange:w=>{const S=[...d.studentFields];S[ut].type=w.target.value,p({...d,studentFields:S})},className:"border p-1 rounded text-sm",children:[j.jsx("option",{value:"text",children:"Text"}),j.jsx("option",{value:"number",children:"Number"}),j.jsx("option",{value:"select",children:"Dropdown"})]}),j.jsx("button",{onClick:()=>{const w=d.studentFields.filter((S,R)=>R!==ut);p({...d,studentFields:w})},className:"text-red-500 hover:text-red-700",children:j.jsx(f0,{size:16})})]},ot.id))}),j.jsxs("button",{onClick:()=>p({...d,studentFields:[...d.studentFields,{id:Date.now().toString(),label:"New Field",type:"text",required:!0}]}),className:"text-blue-600 text-sm hover:underline flex items-center gap-1",children:[j.jsx(c0,{size:14})," Add Field"]})]})]})]})]}):j.jsx("div",{children:"Loading..."})}IA.createRoot(document.getElementById("root")).render(j.jsx(oe.StrictMode,{children:j.jsx(oN,{})}));
